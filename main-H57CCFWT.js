import"./chunk-JQUTQ5KA.js";import{c as pt,d as ht,e as Kn,f as ws,g as Sn,h as vm,i as ru,j as Is,k as _m,l as xs,m as mt,n as pb,u as Cm,w as Dm,x as ou}from"./chunk-2ONQL3CU.js";import"./chunk-BQME4FWG.js";import"./chunk-YSAYC2Z2.js";import"./chunk-KJODUQRN.js";import{b as Ts,e as bm}from"./chunk-IQHYMWVP.js";import{F as gm,G as ym,H as Go,I as ve,O as Nt,R as wn,a as C,b as N,c as Es,d as oe,e as Ss,f as $o,g as _,h as R,i as Rt,o as tu,q as nu,u as mm,z as ft}from"./chunk-74IENP3F.js";var fh=oe((wB,dh)=>{"use strict";var D={};D.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)};D.localCName=D.generateIdentifier();D.splitLines=function(t){return t.trim().split(`
`).map(e=>e.trim())};D.splitSections=function(t){return t.split(`
m=`).map((n,r)=>(r>0?"m="+n:n).trim()+`\r
`)};D.getDescription=function(t){let e=D.splitSections(t);return e&&e[0]};D.getMediaSections=function(t){let e=D.splitSections(t);return e.shift(),e};D.matchPrefix=function(t,e){return D.splitLines(t).filter(n=>n.indexOf(e)===0)};D.parseCandidate=function(t){let e;t.indexOf("a=candidate:")===0?e=t.substring(12).split(" "):e=t.substring(10).split(" ");let n={foundation:e[0],component:{1:"rtp",2:"rtcp"}[e[1]]||e[1],protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]};for(let r=8;r<e.length;r+=2)switch(e[r]){case"raddr":n.relatedAddress=e[r+1];break;case"rport":n.relatedPort=parseInt(e[r+1],10);break;case"tcptype":n.tcpType=e[r+1];break;case"ufrag":n.ufrag=e[r+1],n.usernameFragment=e[r+1];break;default:n[e[r]]===void 0&&(n[e[r]]=e[r+1]);break}return n};D.writeCandidate=function(t){let e=[];e.push(t.foundation);let n=t.component;n==="rtp"?e.push(1):n==="rtcp"?e.push(2):e.push(n),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.address||t.ip),e.push(t.port);let r=t.type;return e.push("typ"),e.push(r),r!=="host"&&t.relatedAddress&&t.relatedPort&&(e.push("raddr"),e.push(t.relatedAddress),e.push("rport"),e.push(t.relatedPort)),t.tcpType&&t.protocol.toLowerCase()==="tcp"&&(e.push("tcptype"),e.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(e.push("ufrag"),e.push(t.usernameFragment||t.ufrag)),"candidate:"+e.join(" ")};D.parseIceOptions=function(t){return t.substring(14).split(" ")};D.parseRtpMap=function(t){let e=t.substring(9).split(" "),n={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),n.name=e[0],n.clockRate=parseInt(e[1],10),n.channels=e.length===3?parseInt(e[2],10):1,n.numChannels=n.channels,n};D.writeRtpMap=function(t){let e=t.payloadType;t.preferredPayloadType!==void 0&&(e=t.preferredPayloadType);let n=t.channels||t.numChannels||1;return"a=rtpmap:"+e+" "+t.name+"/"+t.clockRate+(n!==1?"/"+n:"")+`\r
`};D.parseExtmap=function(t){let e=t.substring(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1],attributes:e.slice(2).join(" ")}};D.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&t.direction!=="sendrecv"?"/"+t.direction:"")+" "+t.uri+(t.attributes?" "+t.attributes:"")+`\r
`};D.parseFmtp=function(t){let e={},n,r=t.substring(t.indexOf(" ")+1).split(";");for(let o=0;o<r.length;o++)n=r[o].trim().split("="),e[n[0].trim()]=n[1];return e};D.writeFmtp=function(t){let e="",n=t.payloadType;if(t.preferredPayloadType!==void 0&&(n=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){let r=[];Object.keys(t.parameters).forEach(o=>{t.parameters[o]!==void 0?r.push(o+"="+t.parameters[o]):r.push(o)}),e+="a=fmtp:"+n+" "+r.join(";")+`\r
`}return e};D.parseRtcpFb=function(t){let e=t.substring(t.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}};D.writeRtcpFb=function(t){let e="",n=t.payloadType;return t.preferredPayloadType!==void 0&&(n=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(r=>{e+="a=rtcp-fb:"+n+" "+r.type+(r.parameter&&r.parameter.length?" "+r.parameter:"")+`\r
`}),e};D.parseSsrcMedia=function(t){let e=t.indexOf(" "),n={ssrc:parseInt(t.substring(7,e),10)},r=t.indexOf(":",e);return r>-1?(n.attribute=t.substring(e+1,r),n.value=t.substring(r+1)):n.attribute=t.substring(e+1),n};D.parseSsrcGroup=function(t){let e=t.substring(13).split(" ");return{semantics:e.shift(),ssrcs:e.map(n=>parseInt(n,10))}};D.getMid=function(t){let e=D.matchPrefix(t,"a=mid:")[0];if(e)return e.substring(6)};D.parseFingerprint=function(t){let e=t.substring(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1].toUpperCase()}};D.getDtlsParameters=function(t,e){return{role:"auto",fingerprints:D.matchPrefix(t+e,"a=fingerprint:").map(D.parseFingerprint)}};D.writeDtlsParameters=function(t,e){let n="a=setup:"+e+`\r
`;return t.fingerprints.forEach(r=>{n+="a=fingerprint:"+r.algorithm+" "+r.value+`\r
`}),n};D.parseCryptoLine=function(t){let e=t.substring(9).split(" ");return{tag:parseInt(e[0],10),cryptoSuite:e[1],keyParams:e[2],sessionParams:e.slice(3)}};D.writeCryptoLine=function(t){return"a=crypto:"+t.tag+" "+t.cryptoSuite+" "+(typeof t.keyParams=="object"?D.writeCryptoKeyParams(t.keyParams):t.keyParams)+(t.sessionParams?" "+t.sessionParams.join(" "):"")+`\r
`};D.parseCryptoKeyParams=function(t){if(t.indexOf("inline:")!==0)return null;let e=t.substring(7).split("|");return{keyMethod:"inline",keySalt:e[0],lifeTime:e[1],mkiValue:e[2]?e[2].split(":")[0]:void 0,mkiLength:e[2]?e[2].split(":")[1]:void 0}};D.writeCryptoKeyParams=function(t){return t.keyMethod+":"+t.keySalt+(t.lifeTime?"|"+t.lifeTime:"")+(t.mkiValue&&t.mkiLength?"|"+t.mkiValue+":"+t.mkiLength:"")};D.getCryptoParameters=function(t,e){return D.matchPrefix(t+e,"a=crypto:").map(D.parseCryptoLine)};D.getIceParameters=function(t,e){let n=D.matchPrefix(t+e,"a=ice-ufrag:")[0],r=D.matchPrefix(t+e,"a=ice-pwd:")[0];return n&&r?{usernameFragment:n.substring(12),password:r.substring(10)}:null};D.writeIceParameters=function(t){let e="a=ice-ufrag:"+t.usernameFragment+`\r
a=ice-pwd:`+t.password+`\r
`;return t.iceLite&&(e+=`a=ice-lite\r
`),e};D.parseRtpParameters=function(t){let e={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=D.splitLines(t)[0].split(" ");e.profile=r[2];for(let i=3;i<r.length;i++){let s=r[i],c=D.matchPrefix(t,"a=rtpmap:"+s+" ")[0];if(c){let l=D.parseRtpMap(c),d=D.matchPrefix(t,"a=fmtp:"+s+" ");switch(l.parameters=d.length?D.parseFmtp(d[0]):{},l.rtcpFeedback=D.matchPrefix(t,"a=rtcp-fb:"+s+" ").map(D.parseRtcpFb),e.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":e.fecMechanisms.push(l.name.toUpperCase());break;default:break}}}D.matchPrefix(t,"a=extmap:").forEach(i=>{e.headerExtensions.push(D.parseExtmap(i))});let o=D.matchPrefix(t,"a=rtcp-fb:* ").map(D.parseRtcpFb);return e.codecs.forEach(i=>{o.forEach(s=>{i.rtcpFeedback.find(l=>l.type===s.type&&l.parameter===s.parameter)||i.rtcpFeedback.push(s)})}),e};D.writeRtpDescription=function(t,e){let n="";n+="m="+t+" ",n+=e.codecs.length>0?"9":"0",n+=" "+(e.profile||"UDP/TLS/RTP/SAVPF")+" ",n+=e.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,n+=`c=IN IP4 0.0.0.0\r
`,n+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,e.codecs.forEach(o=>{n+=D.writeRtpMap(o),n+=D.writeFmtp(o),n+=D.writeRtcpFb(o)});let r=0;return e.codecs.forEach(o=>{o.maxptime>r&&(r=o.maxptime)}),r>0&&(n+="a=maxptime:"+r+`\r
`),e.headerExtensions&&e.headerExtensions.forEach(o=>{n+=D.writeExtmap(o)}),n};D.parseRtpEncodingParameters=function(t){let e=[],n=D.parseRtpParameters(t),r=n.fecMechanisms.indexOf("RED")!==-1,o=n.fecMechanisms.indexOf("ULPFEC")!==-1,i=D.matchPrefix(t,"a=ssrc:").map(a=>D.parseSsrcMedia(a)).filter(a=>a.attribute==="cname"),s=i.length>0&&i[0].ssrc,c,l=D.matchPrefix(t,"a=ssrc-group:FID").map(a=>a.substring(17).split(" ").map(f=>parseInt(f,10)));l.length>0&&l[0].length>1&&l[0][0]===s&&(c=l[0][1]),n.codecs.forEach(a=>{if(a.name.toUpperCase()==="RTX"&&a.parameters.apt){let u={ssrc:s,codecPayloadType:parseInt(a.parameters.apt,10)};s&&c&&(u.rtx={ssrc:c}),e.push(u),r&&(u=JSON.parse(JSON.stringify(u)),u.fec={ssrc:s,mechanism:o?"red+ulpfec":"red"},e.push(u))}}),e.length===0&&s&&e.push({ssrc:s});let d=D.matchPrefix(t,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substring(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substring(5),10)*1e3*.95-50*40*8:d=void 0,e.forEach(a=>{a.maxBitrate=d})),e};D.parseRtcpParameters=function(t){let e={},n=D.matchPrefix(t,"a=ssrc:").map(i=>D.parseSsrcMedia(i)).filter(i=>i.attribute==="cname")[0];n&&(e.cname=n.value,e.ssrc=n.ssrc);let r=D.matchPrefix(t,"a=rtcp-rsize");e.reducedSize=r.length>0,e.compound=r.length===0;let o=D.matchPrefix(t,"a=rtcp-mux");return e.mux=o.length>0,e};D.writeRtcpParameters=function(t){let e="";return t.reducedSize&&(e+=`a=rtcp-rsize\r
`),t.mux&&(e+=`a=rtcp-mux\r
`),t.ssrc!==void 0&&t.cname&&(e+="a=ssrc:"+t.ssrc+" cname:"+t.cname+`\r
`),e};D.parseMsid=function(t){let e,n=D.matchPrefix(t,"a=msid:");if(n.length===1)return e=n[0].substring(7).split(" "),{stream:e[0],track:e[1]};let r=D.matchPrefix(t,"a=ssrc:").map(o=>D.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(r.length>0)return e=r[0].value.split(" "),{stream:e[0],track:e[1]}};D.parseSctpDescription=function(t){let e=D.parseMLine(t),n=D.matchPrefix(t,"a=max-message-size:"),r;n.length>0&&(r=parseInt(n[0].substring(19),10)),isNaN(r)&&(r=65536);let o=D.matchPrefix(t,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:e.fmt,maxMessageSize:r};let i=D.matchPrefix(t,"a=sctpmap:");if(i.length>0){let s=i[0].substring(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:r}}};D.writeSctpDescription=function(t,e){let n=[];return t.protocol!=="DTLS/SCTP"?n=["m="+t.kind+" 9 "+t.protocol+" "+e.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+e.port+`\r
`]:n=["m="+t.kind+" 9 "+t.protocol+" "+e.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+e.port+" "+e.protocol+` 65535\r
`],e.maxMessageSize!==void 0&&n.push("a=max-message-size:"+e.maxMessageSize+`\r
`),n.join("")};D.generateSessionId=function(){return Math.random().toString().substr(2,22)};D.writeSessionBoilerplate=function(t,e,n){let r,o=e!==void 0?e:2;return t?r=t:r=D.generateSessionId(),`v=0\r
o=`+(n||"thisisadapterortc")+" "+r+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`};D.getDirection=function(t,e){let n=D.splitLines(t);for(let r=0;r<n.length;r++)switch(n[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[r].substring(2);default:}return e?D.getDirection(e):"sendrecv"};D.getKind=function(t){return D.splitLines(t)[0].split(" ")[0].substring(2)};D.isRejected=function(t){return t.split(" ",2)[1]==="0"};D.parseMLine=function(t){let n=D.splitLines(t)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}};D.parseOLine=function(t){let n=D.matchPrefix(t,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}};D.isValidSDP=function(t){if(typeof t!="string"||t.length===0)return!1;let e=D.splitLines(t);for(let n=0;n<e.length;n++)if(e[n].length<2||e[n].charAt(1)!=="=")return!1;return!0};typeof dh=="object"&&(dh.exports=D)});var Q0=oe(kl=>{"use strict";(function(){"use strict";var t=function(){this.init()};t.prototype={init:function(){var a=this||e;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window<"u"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var u=this||e;if(a=parseFloat(a),u.ctx||d(),typeof a<"u"&&a>=0&&a<=1){if(u._volume=a,u._muted)return u;u.usingWebAudio&&u.masterGain.gain.setValueAtTime(a,e.ctx.currentTime);for(var f=0;f<u._howls.length;f++)if(!u._howls[f]._webAudio)for(var p=u._howls[f]._getSoundIds(),h=0;h<p.length;h++){var y=u._howls[f]._soundById(p[h]);y&&y._node&&(y._node.volume=y._volume*a)}return u}return u._volume},mute:function(a){var u=this||e;u.ctx||d(),u._muted=a,u.usingWebAudio&&u.masterGain.gain.setValueAtTime(a?0:u._volume,e.ctx.currentTime);for(var f=0;f<u._howls.length;f++)if(!u._howls[f]._webAudio)for(var p=u._howls[f]._getSoundIds(),h=0;h<p.length;h++){var y=u._howls[f]._soundById(p[h]);y&&y._node&&(y._node.muted=a?!0:y._muted)}return u},stop:function(){for(var a=this||e,u=0;u<a._howls.length;u++)a._howls[u].stop();return a},unload:function(){for(var a=this||e,u=a._howls.length-1;u>=0;u--)a._howls[u].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<"u"&&(a.ctx.close(),a.ctx=null,d()),a},codecs:function(a){return(this||e)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||e;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<"u")try{var u=new Audio;typeof u.oncanplaythrough>"u"&&(a._canPlayEvent="canplay")}catch{a.noAudio=!0}else a.noAudio=!0;try{var u=new Audio;u.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||e,u=null;try{u=typeof Audio<"u"?new Audio:null}catch{return a}if(!u||typeof u.canPlayType!="function")return a;var f=u.canPlayType("audio/mpeg;").replace(/^no$/,""),p=a._navigator?a._navigator.userAgent:"",h=p.match(/OPR\/(\d+)/g),y=h&&parseInt(h[0].split("/")[1],10)<33,m=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,b=p.match(/Version\/(.*?) /),x=m&&b&&parseInt(b[1],10)<15;return a._codecs={mp3:!!(!y&&(f||u.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!f,opus:!!u.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!u.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(u.canPlayType('audio/wav; codecs="1"')||u.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!u.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!u.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(u.canPlayType("audio/x-m4a;")||u.canPlayType("audio/m4a;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(u.canPlayType("audio/x-m4b;")||u.canPlayType("audio/m4b;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(u.canPlayType("audio/x-mp4;")||u.canPlayType("audio/mp4;")||u.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!x&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!x&&u.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!u.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(u.canPlayType("audio/x-flac;")||u.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||e;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var u=function(f){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,a._releaseHtml5Audio(p)}catch{a.noAudio=!0;break}for(var h=0;h<a._howls.length;h++)if(!a._howls[h]._webAudio)for(var y=a._howls[h]._getSoundIds(),m=0;m<y.length;m++){var b=a._howls[h]._soundById(y[m]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}a._autoResume();var x=a.ctx.createBufferSource();x.buffer=a._scratchBuffer,x.connect(a.ctx.destination),typeof x.start>"u"?x.noteOn(0):x.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),x.onended=function(){x.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",u,!0),document.removeEventListener("touchend",u,!0),document.removeEventListener("click",u,!0),document.removeEventListener("keydown",u,!0);for(var L=0;L<a._howls.length;L++)a._howls[L]._emit("unlock")}};return document.addEventListener("touchstart",u,!0),document.addEventListener("touchend",u,!0),document.addEventListener("click",u,!0),document.addEventListener("keydown",u,!0),a}},_obtainHtml5Audio:function(){var a=this||e;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var u=new Audio().play();return u&&typeof Promise<"u"&&(u instanceof Promise||typeof u.then=="function")&&u.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var u=this||e;return a._unlocked&&u._html5AudioPool.push(a),u},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>"u"||!e.usingWebAudio)){for(var u=0;u<a._howls.length;u++)if(a._howls[u]._webAudio){for(var f=0;f<a._howls[u]._sounds.length;f++)if(!a._howls[u]._sounds[f]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var p=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(p,p)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>"u"||!e.usingWebAudio))return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var u=0;u<a._howls.length;u++)a._howls[u]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var e=new t,n=function(a){var u=this;if(!a.src||a.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}u.init(a)};n.prototype={init:function(a){var u=this;return e.ctx||d(),u._autoplay=a.autoplay||!1,u._format=typeof a.format!="string"?a.format:[a.format],u._html5=a.html5||!1,u._muted=a.mute||!1,u._loop=a.loop||!1,u._pool=a.pool||5,u._preload=typeof a.preload=="boolean"||a.preload==="metadata"?a.preload:!0,u._rate=a.rate||1,u._sprite=a.sprite||{},u._src=typeof a.src!="string"?a.src:[a.src],u._volume=a.volume!==void 0?a.volume:1,u._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},u._duration=0,u._state="unloaded",u._sounds=[],u._endTimers={},u._queue=[],u._playLock=!1,u._onend=a.onend?[{fn:a.onend}]:[],u._onfade=a.onfade?[{fn:a.onfade}]:[],u._onload=a.onload?[{fn:a.onload}]:[],u._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],u._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],u._onpause=a.onpause?[{fn:a.onpause}]:[],u._onplay=a.onplay?[{fn:a.onplay}]:[],u._onstop=a.onstop?[{fn:a.onstop}]:[],u._onmute=a.onmute?[{fn:a.onmute}]:[],u._onvolume=a.onvolume?[{fn:a.onvolume}]:[],u._onrate=a.onrate?[{fn:a.onrate}]:[],u._onseek=a.onseek?[{fn:a.onseek}]:[],u._onunlock=a.onunlock?[{fn:a.onunlock}]:[],u._onresume=[],u._webAudio=e.usingWebAudio&&!u._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(u),u._autoplay&&u._queue.push({event:"play",action:function(){u.play()}}),u._preload&&u._preload!=="none"&&u.load(),u},load:function(){var a=this,u=null;if(e.noAudio){a._emit("loaderror",null,"No audio support.");return}typeof a._src=="string"&&(a._src=[a._src]);for(var f=0;f<a._src.length;f++){var p,h;if(a._format&&a._format[f])p=a._format[f];else{if(h=a._src[f],typeof h!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(h),p||(p=/\.([^.]+)$/.exec(h.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&e.codecs(p)){u=a._src[f];break}}if(!u){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=u,a._state="loading",window.location.protocol==="https:"&&u.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new r(a),a._webAudio&&i(a),a},play:function(a,u){var f=this,p=null;if(typeof a=="number")p=a,a=null;else{if(typeof a=="string"&&f._state==="loaded"&&!f._sprite[a])return null;if(typeof a>"u"&&(a="__default",!f._playLock)){for(var h=0,y=0;y<f._sounds.length;y++)f._sounds[y]._paused&&!f._sounds[y]._ended&&(h++,p=f._sounds[y]._id);h===1?a=null:p=null}}var m=p?f._soundById(p):f._inactiveSound();if(!m)return null;if(p&&!a&&(a=m._sprite||"__default"),f._state!=="loaded"){m._sprite=a,m._ended=!1;var b=m._id;return f._queue.push({event:"play",action:function(){f.play(b)}}),b}if(p&&!m._paused)return u||f._loadQueue("play"),m._id;f._webAudio&&e._autoResume();var x=Math.max(0,m._seek>0?m._seek:f._sprite[a][0]/1e3),L=Math.max(0,(f._sprite[a][0]+f._sprite[a][1])/1e3-x),ce=L*1e3/Math.abs(m._rate),fe=f._sprite[a][0]/1e3,re=(f._sprite[a][0]+f._sprite[a][1])/1e3;m._sprite=a,m._ended=!1;var Me=function(){m._paused=!1,m._seek=x,m._start=fe,m._stop=re,m._loop=!!(m._loop||f._sprite[a][2])};if(x>=re){f._ended(m);return}var J=m._node;if(f._webAudio){var Tr=function(){f._playLock=!1,Me(),f._refreshBuffer(m);var En=m._muted||f._muted?0:m._volume;J.gain.setValueAtTime(En,e.ctx.currentTime),m._playStart=e.ctx.currentTime,typeof J.bufferSource.start>"u"?m._loop?J.bufferSource.noteGrainOn(0,x,86400):J.bufferSource.noteGrainOn(0,x,L):m._loop?J.bufferSource.start(0,x,86400):J.bufferSource.start(0,x,L),ce!==1/0&&(f._endTimers[m._id]=setTimeout(f._ended.bind(f,m),ce)),u||setTimeout(function(){f._emit("play",m._id),f._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?Tr():(f._playLock=!0,f.once("resume",Tr),f._clearTimer(m._id))}else{var Cs=function(){J.currentTime=x,J.muted=m._muted||f._muted||e._muted||J.muted,J.volume=m._volume*e.volume(),J.playbackRate=m._rate;try{var En=J.play();if(En&&typeof Promise<"u"&&(En instanceof Promise||typeof En.then=="function")?(f._playLock=!0,Me(),En.then(function(){f._playLock=!1,J._unlocked=!0,u?f._loadQueue():f._emit("play",m._id)}).catch(function(){f._playLock=!1,f._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),m._ended=!0,m._paused=!0})):u||(f._playLock=!1,Me(),f._emit("play",m._id)),J.playbackRate=m._rate,J.paused){f._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}a!=="__default"||m._loop?f._endTimers[m._id]=setTimeout(f._ended.bind(f,m),ce):(f._endTimers[m._id]=function(){f._ended(m),J.removeEventListener("ended",f._endTimers[m._id],!1)},J.addEventListener("ended",f._endTimers[m._id],!1))}catch(bs){f._emit("playerror",m._id,bs)}};J.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(J.src=f._src,J.load());var Jl=window&&window.ejecta||!J.readyState&&e._navigator.isCocoonJS;if(J.readyState>=3||Jl)Cs();else{f._playLock=!0,f._state="loading";var Ds=function(){f._state="loaded",Cs(),J.removeEventListener(e._canPlayEvent,Ds,!1)};J.addEventListener(e._canPlayEvent,Ds,!1),f._clearTimer(m._id)}}return m._id},pause:function(a){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"pause",action:function(){u.pause(a)}}),u;for(var f=u._getSoundIds(a),p=0;p<f.length;p++){u._clearTimer(f[p]);var h=u._soundById(f[p]);if(h&&!h._paused&&(h._seek=u.seek(f[p]),h._rateSeek=0,h._paused=!0,u._stopFade(f[p]),h._node))if(u._webAudio){if(!h._node.bufferSource)continue;typeof h._node.bufferSource.stop>"u"?h._node.bufferSource.noteOff(0):h._node.bufferSource.stop(0),u._cleanBuffer(h._node)}else(!isNaN(h._node.duration)||h._node.duration===1/0)&&h._node.pause();arguments[1]||u._emit("pause",h?h._id:null)}return u},stop:function(a,u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"stop",action:function(){f.stop(a)}}),f;for(var p=f._getSoundIds(a),h=0;h<p.length;h++){f._clearTimer(p[h]);var y=f._soundById(p[h]);y&&(y._seek=y._start||0,y._rateSeek=0,y._paused=!0,y._ended=!0,f._stopFade(p[h]),y._node&&(f._webAudio?y._node.bufferSource&&(typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),f._cleanBuffer(y._node)):(!isNaN(y._node.duration)||y._node.duration===1/0)&&(y._node.currentTime=y._start||0,y._node.pause(),y._node.duration===1/0&&f._clearSound(y._node))),u||f._emit("stop",y._id))}return f},mute:function(a,u){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"mute",action:function(){f.mute(a,u)}}),f;if(typeof u>"u")if(typeof a=="boolean")f._muted=a;else return f._muted;for(var p=f._getSoundIds(u),h=0;h<p.length;h++){var y=f._soundById(p[h]);y&&(y._muted=a,y._interval&&f._stopFade(y._id),f._webAudio&&y._node?y._node.gain.setValueAtTime(a?0:y._volume,e.ctx.currentTime):y._node&&(y._node.muted=e._muted?!0:a),f._emit("mute",y._id))}return f},volume:function(){var a=this,u=arguments,f,p;if(u.length===0)return a._volume;if(u.length===1||u.length===2&&typeof u[1]>"u"){var h=a._getSoundIds(),y=h.indexOf(u[0]);y>=0?p=parseInt(u[0],10):f=parseFloat(u[0])}else u.length>=2&&(f=parseFloat(u[0]),p=parseInt(u[1],10));var m;if(typeof f<"u"&&f>=0&&f<=1){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,u)}}),a;typeof p>"u"&&(a._volume=f),p=a._getSoundIds(p);for(var b=0;b<p.length;b++)m=a._soundById(p[b]),m&&(m._volume=f,u[2]||a._stopFade(p[b]),a._webAudio&&m._node&&!m._muted?m._node.gain.setValueAtTime(f,e.ctx.currentTime):m._node&&!m._muted&&(m._node.volume=f*e.volume()),a._emit("volume",m._id))}else return m=p?a._soundById(p):a._sounds[0],m?m._volume:0;return a},fade:function(a,u,f,p){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"fade",action:function(){h.fade(a,u,f,p)}}),h;a=Math.min(Math.max(0,parseFloat(a)),1),u=Math.min(Math.max(0,parseFloat(u)),1),f=parseFloat(f),h.volume(a,p);for(var y=h._getSoundIds(p),m=0;m<y.length;m++){var b=h._soundById(y[m]);if(b){if(p||h._stopFade(y[m]),h._webAudio&&!b._muted){var x=e.ctx.currentTime,L=x+f/1e3;b._volume=a,b._node.gain.setValueAtTime(a,x),b._node.gain.linearRampToValueAtTime(u,L)}h._startFadeInterval(b,a,u,f,y[m],typeof p>"u")}}return h},_startFadeInterval:function(a,u,f,p,h,y){var m=this,b=u,x=f-u,L=Math.abs(x/.01),ce=Math.max(4,L>0?p/L:p),fe=Date.now();a._fadeTo=f,a._interval=setInterval(function(){var re=(Date.now()-fe)/p;fe=Date.now(),b+=x*re,b=Math.round(b*100)/100,x<0?b=Math.max(f,b):b=Math.min(f,b),m._webAudio?a._volume=b:m.volume(b,a._id,!0),y&&(m._volume=b),(f<u&&b<=f||f>u&&b>=f)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,m.volume(f,a._id),m._emit("fade",a._id))},ce)},_stopFade:function(a){var u=this,f=u._soundById(a);return f&&f._interval&&(u._webAudio&&f._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(f._interval),f._interval=null,u.volume(f._fadeTo,a),f._fadeTo=null,u._emit("fade",a)),u},loop:function(){var a=this,u=arguments,f,p,h;if(u.length===0)return a._loop;if(u.length===1)if(typeof u[0]=="boolean")f=u[0],a._loop=f;else return h=a._soundById(parseInt(u[0],10)),h?h._loop:!1;else u.length===2&&(f=u[0],p=parseInt(u[1],10));for(var y=a._getSoundIds(p),m=0;m<y.length;m++)h=a._soundById(y[m]),h&&(h._loop=f,a._webAudio&&h._node&&h._node.bufferSource&&(h._node.bufferSource.loop=f,f&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop,a.playing(y[m])&&(a.pause(y[m],!0),a.play(y[m],!0)))));return a},rate:function(){var a=this,u=arguments,f,p;if(u.length===0)p=a._sounds[0]._id;else if(u.length===1){var h=a._getSoundIds(),y=h.indexOf(u[0]);y>=0?p=parseInt(u[0],10):f=parseFloat(u[0])}else u.length===2&&(f=parseFloat(u[0]),p=parseInt(u[1],10));var m;if(typeof f=="number"){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,u)}}),a;typeof p>"u"&&(a._rate=f),p=a._getSoundIds(p);for(var b=0;b<p.length;b++)if(m=a._soundById(p[b]),m){a.playing(p[b])&&(m._rateSeek=a.seek(p[b]),m._playStart=a._webAudio?e.ctx.currentTime:m._playStart),m._rate=f,a._webAudio&&m._node&&m._node.bufferSource?m._node.bufferSource.playbackRate.setValueAtTime(f,e.ctx.currentTime):m._node&&(m._node.playbackRate=f);var x=a.seek(p[b]),L=(a._sprite[m._sprite][0]+a._sprite[m._sprite][1])/1e3-x,ce=L*1e3/Math.abs(m._rate);(a._endTimers[p[b]]||!m._paused)&&(a._clearTimer(p[b]),a._endTimers[p[b]]=setTimeout(a._ended.bind(a,m),ce)),a._emit("rate",m._id)}}else return m=a._soundById(p),m?m._rate:a._rate;return a},seek:function(){var a=this,u=arguments,f,p;if(u.length===0)a._sounds.length&&(p=a._sounds[0]._id);else if(u.length===1){var h=a._getSoundIds(),y=h.indexOf(u[0]);y>=0?p=parseInt(u[0],10):a._sounds.length&&(p=a._sounds[0]._id,f=parseFloat(u[0]))}else u.length===2&&(f=parseFloat(u[0]),p=parseInt(u[1],10));if(typeof p>"u")return 0;if(typeof f=="number"&&(a._state!=="loaded"||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,u)}}),a;var m=a._soundById(p);if(m)if(typeof f=="number"&&f>=0){var b=a.playing(p);b&&a.pause(p,!0),m._seek=f,m._ended=!1,a._clearTimer(p),!a._webAudio&&m._node&&!isNaN(m._node.duration)&&(m._node.currentTime=f);var x=function(){b&&a.play(p,!0),a._emit("seek",p)};if(b&&!a._webAudio){var L=function(){a._playLock?setTimeout(L,0):x()};setTimeout(L,0)}else x()}else if(a._webAudio){var ce=a.playing(p)?e.ctx.currentTime-m._playStart:0,fe=m._rateSeek?m._rateSeek-m._seek:0;return m._seek+(fe+ce*Math.abs(m._rate))}else return m._node.currentTime;return a},playing:function(a){var u=this;if(typeof a=="number"){var f=u._soundById(a);return f?!f._paused:!1}for(var p=0;p<u._sounds.length;p++)if(!u._sounds[p]._paused)return!0;return!1},duration:function(a){var u=this,f=u._duration,p=u._soundById(a);return p&&(f=u._sprite[p._sprite][1]/1e3),f},state:function(){return this._state},unload:function(){for(var a=this,u=a._sounds,f=0;f<u.length;f++)u[f]._paused||a.stop(u[f]._id),a._webAudio||(a._clearSound(u[f]._node),u[f]._node.removeEventListener("error",u[f]._errorFn,!1),u[f]._node.removeEventListener(e._canPlayEvent,u[f]._loadFn,!1),u[f]._node.removeEventListener("ended",u[f]._endFn,!1),e._releaseHtml5Audio(u[f]._node)),delete u[f]._node,a._clearTimer(u[f]._id);var p=e._howls.indexOf(a);p>=0&&e._howls.splice(p,1);var h=!0;for(f=0;f<e._howls.length;f++)if(e._howls[f]._src===a._src||a._src.indexOf(e._howls[f]._src)>=0){h=!1;break}return o&&h&&delete o[a._src],e.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,u,f,p){var h=this,y=h["_on"+a];return typeof u=="function"&&y.push(p?{id:f,fn:u,once:p}:{id:f,fn:u}),h},off:function(a,u,f){var p=this,h=p["_on"+a],y=0;if(typeof u=="number"&&(f=u,u=null),u||f)for(y=0;y<h.length;y++){var m=f===h[y].id;if(u===h[y].fn&&m||!u&&m){h.splice(y,1);break}}else if(a)p["_on"+a]=[];else{var b=Object.keys(p);for(y=0;y<b.length;y++)b[y].indexOf("_on")===0&&Array.isArray(p[b[y]])&&(p[b[y]]=[])}return p},once:function(a,u,f){var p=this;return p.on(a,u,f,1),p},_emit:function(a,u,f){for(var p=this,h=p["_on"+a],y=h.length-1;y>=0;y--)(!h[y].id||h[y].id===u||a==="load")&&(setTimeout(function(m){m.call(this,u,f)}.bind(p,h[y].fn),0),h[y].once&&p.off(a,h[y].fn,h[y].id));return p._loadQueue(a),p},_loadQueue:function(a){var u=this;if(u._queue.length>0){var f=u._queue[0];f.event===a&&(u._queue.shift(),u._loadQueue()),a||f.action()}return u},_ended:function(a){var u=this,f=a._sprite;if(!u._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(u._ended.bind(u,a),100),u;var p=!!(a._loop||u._sprite[f][2]);if(u._emit("end",a._id),!u._webAudio&&p&&u.stop(a._id,!0).play(a._id),u._webAudio&&p){u._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=e.ctx.currentTime;var h=(a._stop-a._start)*1e3/Math.abs(a._rate);u._endTimers[a._id]=setTimeout(u._ended.bind(u,a),h)}return u._webAudio&&!p&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,u._clearTimer(a._id),u._cleanBuffer(a._node),e._autoSuspend()),!u._webAudio&&!p&&u.stop(a._id,!0),u},_clearTimer:function(a){var u=this;if(u._endTimers[a]){if(typeof u._endTimers[a]!="function")clearTimeout(u._endTimers[a]);else{var f=u._soundById(a);f&&f._node&&f._node.removeEventListener("ended",u._endTimers[a],!1)}delete u._endTimers[a]}return u},_soundById:function(a){for(var u=this,f=0;f<u._sounds.length;f++)if(a===u._sounds[f]._id)return u._sounds[f];return null},_inactiveSound:function(){var a=this;a._drain();for(var u=0;u<a._sounds.length;u++)if(a._sounds[u]._ended)return a._sounds[u].reset();return new r(a)},_drain:function(){var a=this,u=a._pool,f=0,p=0;if(!(a._sounds.length<u)){for(p=0;p<a._sounds.length;p++)a._sounds[p]._ended&&f++;for(p=a._sounds.length-1;p>=0;p--){if(f<=u)return;a._sounds[p]._ended&&(a._webAudio&&a._sounds[p]._node&&a._sounds[p]._node.disconnect(0),a._sounds.splice(p,1),f--)}}},_getSoundIds:function(a){var u=this;if(typeof a>"u"){for(var f=[],p=0;p<u._sounds.length;p++)f.push(u._sounds[p]._id);return f}else return[a]},_refreshBuffer:function(a){var u=this;return a._node.bufferSource=e.ctx.createBufferSource(),a._node.bufferSource.buffer=o[u._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,e.ctx.currentTime),u},_cleanBuffer:function(a){var u=this,f=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!a.bufferSource)return u;if(e._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),f))try{a.bufferSource.buffer=e._scratchBuffer}catch{}return a.bufferSource=null,u},_clearSound:function(a){var u=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);u||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(a){this._parent=a,this.init()};r.prototype={init:function(){var a=this,u=a._parent;return a._muted=u._muted,a._loop=u._loop,a._volume=u._volume,a._rate=u._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++e._counter,u._sounds.push(a),a.create(),a},create:function(){var a=this,u=a._parent,f=e._muted||a._muted||a._parent._muted?0:a._volume;return u._webAudio?(a._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),a._node.gain.setValueAtTime(f,e.ctx.currentTime),a._node.paused=!0,a._node.connect(e.masterGain)):e.noAudio||(a._node=e._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(e._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=u._src,a._node.preload=u._preload===!0?"auto":u._preload,a._node.volume=f*e.volume(),a._node.load()),a},reset:function(){var a=this,u=a._parent;return a._muted=u._muted,a._loop=u._loop,a._volume=u._volume,a._rate=u._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++e._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,u=a._parent;u._duration=Math.ceil(a._node.duration*10)/10,Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue()),a._node.removeEventListener(e._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,u=a._parent;u._duration===1/0&&(u._duration=Math.ceil(a._node.duration*10)/10,u._sprite.__default[1]===1/0&&(u._sprite.__default[1]=u._duration*1e3),u._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var o={},i=function(a){var u=a._src;if(o[u]){a._duration=o[u].duration,l(a);return}if(/^data:[^;]+;base64,/.test(u)){for(var f=atob(u.split(",")[1]),p=new Uint8Array(f.length),h=0;h<f.length;++h)p[h]=f.charCodeAt(h);c(p.buffer,a)}else{var y=new XMLHttpRequest;y.open(a._xhr.method,u,!0),y.withCredentials=a._xhr.withCredentials,y.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(m){y.setRequestHeader(m,a._xhr.headers[m])}),y.onload=function(){var m=(y.status+"")[0];if(m!=="0"&&m!=="2"&&m!=="3"){a._emit("loaderror",null,"Failed loading audio file with status: "+y.status+".");return}c(y.response,a)},y.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete o[u],a.load())},s(y)}},s=function(a){try{a.send()}catch{a.onerror()}},c=function(a,u){var f=function(){u._emit("loaderror",null,"Decoding audio data failed.")},p=function(h){h&&u._sounds.length>0?(o[u._src]=h,l(u,h)):f()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(a).then(p).catch(f):e.ctx.decodeAudioData(a,p,f)},l=function(a,u){u&&!a._duration&&(a._duration=u.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},d=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),u=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),f=u?parseInt(u[1],10):null;if(a&&f&&f<9){var p=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!p&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:e,Howl:n}}),typeof kl<"u"&&(kl.Howler=e,kl.Howl=n),typeof global<"u"?(global.HowlerGlobal=t,global.Howler=e,global.Howl=n,global.Sound=r):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=e,window.Howl=n,window.Sound=r)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var r=n._howls.length-1;r>=0;r--)n._howls[r].stereo(e);return n},HowlerGlobal.prototype.pos=function(e,n,r){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(n=typeof n!="number"?o._pos[1]:n,r=typeof r!="number"?o._pos[2]:r,typeof e=="number")o._pos=[e,n,r],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(e,n,r,o,i,s){var c=this;if(!c.ctx||!c.ctx.listener)return c;var l=c._orientation;if(n=typeof n!="number"?l[1]:n,r=typeof r!="number"?l[2]:r,o=typeof o!="number"?l[3]:o,i=typeof i!="number"?l[4]:i,s=typeof s!="number"?l[5]:s,typeof e=="number")c._orientation=[e,n,r,o,i,s],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(s,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(e,n,r,o,i,s);else return l;return c},Howl.prototype.init=function(e){return function(n){var r=this;return r._orientation=n.orientation||[1,0,0],r._stereo=n.stereo||null,r._pos=n.pos||null,r._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},r._onstereo=n.onstereo?[{fn:n.onstereo}]:[],r._onpos=n.onpos?[{fn:n.onpos}]:[],r._onorientation=n.onorientation?[{fn:n.onorientation}]:[],e.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof e=="number")r._stereo=e,r._pos=[e,0,0];else return r._stereo;for(var i=r._getSoundIds(n),s=0;s<i.length;s++){var c=r._soundById(i[s]);if(c)if(typeof e=="number")c._stereo=e,c._pos=[e,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,o),o==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(e,0,0):c._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",c._id);else return c._stereo}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n=typeof n!="number"?0:n,r=typeof r!="number"?-.5:r,typeof o>"u")if(typeof e=="number")i._pos=[e,n,r];else return i._pos;for(var s=i._getSoundIds(o),c=0;c<s.length;c++){var l=i._soundById(s[c]);if(l)if(typeof e=="number")l._pos=[e,n,r],l._node&&((!l._panner||l._panner.pan)&&t(l,"spatial"),typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(e,n,r)),i._emit("pos",l._id);else return l._pos}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n=typeof n!="number"?i._orientation[1]:n,r=typeof r!="number"?i._orientation[2]:r,typeof o>"u")if(typeof e=="number")i._orientation=[e,n,r];else return i._orientation;for(var s=i._getSoundIds(o),c=0;c<s.length;c++){var l=i._soundById(s[c]);if(l)if(typeof e=="number")l._orientation=[e,n,r],l._node&&(l._panner||(l._pos||(l._pos=i._pos||[0,0,-.5]),t(l,"spatial")),typeof l._panner.orientationX<"u"?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,r)),i._emit("orientation",l._id);else return l._orientation}return i},Howl.prototype.pannerAttr=function(){var e=this,n=arguments,r,o,i;if(!e._webAudio)return e;if(n.length===0)return e._pannerAttr;if(n.length===1)if(typeof n[0]=="object")r=n[0],typeof o>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),e._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:e._panningModel});else return i=e._soundById(parseInt(n[0],10)),i?i._pannerAttr:e._pannerAttr;else n.length===2&&(r=n[0],o=parseInt(n[1],10));for(var s=e._getSoundIds(o),c=0;c<s.length;c++)if(i=e._soundById(s[c]),i){var l=i._pannerAttr;l={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:l.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:l.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:l.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:l.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:l.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:l.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:l.panningModel};var d=i._panner;d||(i._pos||(i._pos=e._pos||[0,0,-.5]),t(i,"spatial"),d=i._panner),d.coneInnerAngle=l.coneInnerAngle,d.coneOuterAngle=l.coneOuterAngle,d.coneOuterGain=l.coneOuterGain,d.distanceModel=l.distanceModel,d.maxDistance=l.maxDistance,d.refDistance=l.refDistance,d.rolloffFactor=l.rolloffFactor,d.panningModel=l.panningModel}return e},Sound.prototype.init=function(e){return function(){var n=this,r=n._parent;n._orientation=r._orientation,n._stereo=r._stereo,n._pos=r._pos,n._pannerAttr=r._pannerAttr,e.call(this),n._stereo?r.stereo(n._stereo):n._pos&&r.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var n=this,r=n._parent;return n._orientation=r._orientation,n._stereo=r._stereo,n._pos=r._pos,n._pannerAttr=r._pannerAttr,n._stereo?r.stereo(n._stereo):n._pos?r.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,r._refreshBuffer(n)),e.call(this)}}(Sound.prototype.reset);var t=function(e,n){n=n||"spatial",n==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()});var X0=oe((L$,J0)=>{"use strict";J0.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Wn=oe(Sr=>{"use strict";var jh,JR=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Sr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Sr.getSymbolTotalCodewords=function(e){return JR[e]};Sr.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Sr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');jh=e};Sr.isKanjiModeEnabled=function(){return typeof jh<"u"};Sr.toSJIS=function(e){return jh(e)}});var Fl=oe(Tt=>{"use strict";Tt.L={bit:1};Tt.M={bit:0};Tt.Q={bit:3};Tt.H={bit:2};function XR(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return Tt.L;case"m":case"medium":return Tt.M;case"q":case"quartile":return Tt.Q;case"h":case"high":return Tt.H;default:throw new Error("Unknown EC Level: "+t)}}Tt.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};Tt.from=function(e,n){if(Tt.isValid(e))return e;try{return XR(e)}catch{return n}}});var nD=oe((j$,tD)=>{"use strict";function eD(){this.buffer=[],this.length=0}eD.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};tD.exports=eD});var oD=oe((U$,rD)=>{"use strict";function fs(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}fs.prototype.set=function(t,e,n,r){let o=t*this.size+e;this.data[o]=n,r&&(this.reservedBit[o]=!0)};fs.prototype.get=function(t,e){return this.data[t*this.size+e]};fs.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};fs.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};rD.exports=fs});var iD=oe(Ll=>{"use strict";var eN=Wn().getSymbolSize;Ll.getRowColCoords=function(e){if(e===1)return[];let n=Math.floor(e/7)+2,r=eN(e),o=r===145?26:Math.ceil((r-13)/(2*n-2))*2,i=[r-7];for(let s=1;s<n-1;s++)i[s]=i[s-1]-o;return i.push(6),i.reverse()};Ll.getPositions=function(e){let n=[],r=Ll.getRowColCoords(e),o=r.length;for(let i=0;i<o;i++)for(let s=0;s<o;s++)i===0&&s===0||i===0&&s===o-1||i===o-1&&s===0||n.push([r[i],r[s]]);return n}});var cD=oe(aD=>{"use strict";var tN=Wn().getSymbolSize,sD=7;aD.getPositions=function(e){let n=tN(e);return[[0,0],[n-sD,0],[0,n-sD]]}});var lD=oe(de=>{"use strict";de.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var wr={N1:3,N2:3,N3:40,N4:10};de.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};de.from=function(e){return de.isValid(e)?parseInt(e,10):void 0};de.getPenaltyN1=function(e){let n=e.size,r=0,o=0,i=0,s=null,c=null;for(let l=0;l<n;l++){o=i=0,s=c=null;for(let d=0;d<n;d++){let a=e.get(l,d);a===s?o++:(o>=5&&(r+=wr.N1+(o-5)),s=a,o=1),a=e.get(d,l),a===c?i++:(i>=5&&(r+=wr.N1+(i-5)),c=a,i=1)}o>=5&&(r+=wr.N1+(o-5)),i>=5&&(r+=wr.N1+(i-5))}return r};de.getPenaltyN2=function(e){let n=e.size,r=0;for(let o=0;o<n-1;o++)for(let i=0;i<n-1;i++){let s=e.get(o,i)+e.get(o,i+1)+e.get(o+1,i)+e.get(o+1,i+1);(s===4||s===0)&&r++}return r*wr.N2};de.getPenaltyN3=function(e){let n=e.size,r=0,o=0,i=0;for(let s=0;s<n;s++){o=i=0;for(let c=0;c<n;c++)o=o<<1&2047|e.get(s,c),c>=10&&(o===1488||o===93)&&r++,i=i<<1&2047|e.get(c,s),c>=10&&(i===1488||i===93)&&r++}return r*wr.N3};de.getPenaltyN4=function(e){let n=0,r=e.data.length;for(let i=0;i<r;i++)n+=e.data[i];return Math.abs(Math.ceil(n*100/r/5)-10)*wr.N4};function nN(t,e,n){switch(t){case de.Patterns.PATTERN000:return(e+n)%2===0;case de.Patterns.PATTERN001:return e%2===0;case de.Patterns.PATTERN010:return n%3===0;case de.Patterns.PATTERN011:return(e+n)%3===0;case de.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case de.Patterns.PATTERN101:return e*n%2+e*n%3===0;case de.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case de.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}de.applyMask=function(e,n){let r=n.size;for(let o=0;o<r;o++)for(let i=0;i<r;i++)n.isReserved(i,o)||n.xor(i,o,nN(e,i,o))};de.getBestMask=function(e,n){let r=Object.keys(de.Patterns).length,o=0,i=1/0;for(let s=0;s<r;s++){n(s),de.applyMask(s,e);let c=de.getPenaltyN1(e)+de.getPenaltyN2(e)+de.getPenaltyN3(e)+de.getPenaltyN4(e);de.applyMask(s,e),c<i&&(i=c,o=s)}return o}});var Hh=oe(Uh=>{"use strict";var qn=Fl(),Vl=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Bl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Uh.getBlocksCount=function(e,n){switch(n){case qn.L:return Vl[(e-1)*4+0];case qn.M:return Vl[(e-1)*4+1];case qn.Q:return Vl[(e-1)*4+2];case qn.H:return Vl[(e-1)*4+3];default:return}};Uh.getTotalCodewordsCount=function(e,n){switch(n){case qn.L:return Bl[(e-1)*4+0];case qn.M:return Bl[(e-1)*4+1];case qn.Q:return Bl[(e-1)*4+2];case qn.H:return Bl[(e-1)*4+3];default:return}}});var uD=oe(Ul=>{"use strict";var ps=new Uint8Array(512),jl=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)ps[n]=e,jl[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)ps[n]=ps[n-255]})();Ul.log=function(e){if(e<1)throw new Error("log("+e+")");return jl[e]};Ul.exp=function(e){return ps[e]};Ul.mul=function(e,n){return e===0||n===0?0:ps[jl[e]+jl[n]]}});var dD=oe(hs=>{"use strict";var $h=uD();hs.mul=function(e,n){let r=new Uint8Array(e.length+n.length-1);for(let o=0;o<e.length;o++)for(let i=0;i<n.length;i++)r[o+i]^=$h.mul(e[o],n[i]);return r};hs.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){let o=r[0];for(let s=0;s<n.length;s++)r[s]^=$h.mul(n[s],o);let i=0;for(;i<r.length&&r[i]===0;)i++;r=r.slice(i)}return r};hs.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let r=0;r<e;r++)n=hs.mul(n,new Uint8Array([1,$h.exp(r)]));return n}});var hD=oe((Y$,pD)=>{"use strict";var fD=dD();function Gh(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Gh.prototype.initialize=function(e){this.degree=e,this.genPoly=fD.generateECPolynomial(this.degree)};Gh.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let n=new Uint8Array(e.length+this.degree);n.set(e);let r=fD.mod(n,this.genPoly),o=this.degree-r.length;if(o>0){let i=new Uint8Array(this.degree);return i.set(r,o),i}return r};pD.exports=Gh});var zh=oe(mD=>{"use strict";mD.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Wh=oe(bn=>{"use strict";var gD="[0-9]+",rN="[A-Z $%*+\\-./:]+",ms="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ms=ms.replace(/u/g,"\\u");var oN="(?:(?![A-Z0-9 $%*+\\-./:]|"+ms+`)(?:.|[\r
]))+`;bn.KANJI=new RegExp(ms,"g");bn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");bn.BYTE=new RegExp(oN,"g");bn.NUMERIC=new RegExp(gD,"g");bn.ALPHANUMERIC=new RegExp(rN,"g");var iN=new RegExp("^"+ms+"$"),sN=new RegExp("^"+gD+"$"),aN=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");bn.testKanji=function(e){return iN.test(e)};bn.testNumeric=function(e){return sN.test(e)};bn.testAlphanumeric=function(e){return aN.test(e)}});var Yn=oe(Te=>{"use strict";var cN=zh(),qh=Wh();Te.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Te.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Te.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Te.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Te.MIXED={bit:-1};Te.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!cN.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]};Te.getBestModeForData=function(e){return qh.testNumeric(e)?Te.NUMERIC:qh.testAlphanumeric(e)?Te.ALPHANUMERIC:qh.testKanji(e)?Te.KANJI:Te.BYTE};Te.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};Te.isValid=function(e){return e&&e.bit&&e.ccBits};function lN(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return Te.NUMERIC;case"alphanumeric":return Te.ALPHANUMERIC;case"kanji":return Te.KANJI;case"byte":return Te.BYTE;default:throw new Error("Unknown mode: "+t)}}Te.from=function(e,n){if(Te.isValid(e))return e;try{return lN(e)}catch{return n}}});var DD=oe(Ir=>{"use strict";var Hl=Wn(),uN=Hh(),yD=Fl(),Zn=Yn(),Yh=zh(),_D=7973,vD=Hl.getBCHDigit(_D);function dN(t,e,n){for(let r=1;r<=40;r++)if(e<=Ir.getCapacity(r,n,t))return r}function CD(t,e){return Zn.getCharCountIndicator(t,e)+4}function fN(t,e){let n=0;return t.forEach(function(r){let o=CD(r.mode,e);n+=o+r.getBitsLength()}),n}function pN(t,e){for(let n=1;n<=40;n++)if(fN(t,n)<=Ir.getCapacity(n,e,Zn.MIXED))return n}Ir.from=function(e,n){return Yh.isValid(e)?parseInt(e,10):n};Ir.getCapacity=function(e,n,r){if(!Yh.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=Zn.BYTE);let o=Hl.getSymbolTotalCodewords(e),i=uN.getTotalCodewordsCount(e,n),s=(o-i)*8;if(r===Zn.MIXED)return s;let c=s-CD(r,e);switch(r){case Zn.NUMERIC:return Math.floor(c/10*3);case Zn.ALPHANUMERIC:return Math.floor(c/11*2);case Zn.KANJI:return Math.floor(c/13);case Zn.BYTE:default:return Math.floor(c/8)}};Ir.getBestVersionForData=function(e,n){let r,o=yD.from(n,yD.M);if(Array.isArray(e)){if(e.length>1)return pN(e,o);if(e.length===0)return 1;r=e[0]}else r=e;return dN(r.mode,r.getLength(),o)};Ir.getEncodedBits=function(e){if(!Yh.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;Hl.getBCHDigit(n)-vD>=0;)n^=_D<<Hl.getBCHDigit(n)-vD;return e<<12|n}});var wD=oe(SD=>{"use strict";var Zh=Wn(),ED=1335,hN=21522,bD=Zh.getBCHDigit(ED);SD.getEncodedBits=function(e,n){let r=e.bit<<3|n,o=r<<10;for(;Zh.getBCHDigit(o)-bD>=0;)o^=ED<<Zh.getBCHDigit(o)-bD;return(r<<10|o)^hN}});var xD=oe((eG,ID)=>{"use strict";var mN=Yn();function Vo(t){this.mode=mN.NUMERIC,this.data=t.toString()}Vo.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Vo.prototype.getLength=function(){return this.data.length};Vo.prototype.getBitsLength=function(){return Vo.getBitsLength(this.data.length)};Vo.prototype.write=function(e){let n,r,o;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),o=parseInt(r,10),e.put(o,10);let i=this.data.length-n;i>0&&(r=this.data.substr(n),o=parseInt(r,10),e.put(o,i*3+1))};ID.exports=Vo});var MD=oe((tG,TD)=>{"use strict";var gN=Yn(),Qh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Bo(t){this.mode=gN.ALPHANUMERIC,this.data=t}Bo.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Bo.prototype.getLength=function(){return this.data.length};Bo.prototype.getBitsLength=function(){return Bo.getBitsLength(this.data.length)};Bo.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Qh.indexOf(this.data[n])*45;r+=Qh.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Qh.indexOf(this.data[n]),6)};TD.exports=Bo});var RD=oe((nG,AD)=>{"use strict";var yN=Yn();function jo(t){this.mode=yN.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}jo.getBitsLength=function(e){return e*8};jo.prototype.getLength=function(){return this.data.length};jo.prototype.getBitsLength=function(){return jo.getBitsLength(this.data.length)};jo.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};AD.exports=jo});var PD=oe((rG,ND)=>{"use strict";var vN=Yn(),_N=Wn();function Uo(t){this.mode=vN.KANJI,this.data=t}Uo.getBitsLength=function(e){return e*13};Uo.prototype.getLength=function(){return this.data.length};Uo.prototype.getBitsLength=function(){return Uo.getBitsLength(this.data.length)};Uo.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=_N.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};ND.exports=Uo});var kD=oe((oG,Kh)=>{"use strict";var gs={single_source_shortest_paths:function(t,e,n){var r={},o={};o[e]=0;var i=gs.PriorityQueue.make();i.push(e,0);for(var s,c,l,d,a,u,f,p,h;!i.empty();){s=i.pop(),c=s.value,d=s.cost,a=t[c]||{};for(l in a)a.hasOwnProperty(l)&&(u=a[l],f=d+u,p=o[l],h=typeof o[l]>"u",(h||p>f)&&(o[l]=f,i.push(l,f),r[l]=c))}if(typeof n<"u"&&typeof o[n]>"u"){var y=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(y)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e,o;r;)n.push(r),o=t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var r=gs.single_source_shortest_paths(t,e,n);return gs.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var e=gs.PriorityQueue,n={},r;t=t||{};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n.queue=[],n.sorter=t.sorter||e.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Kh<"u"&&(Kh.exports=gs)});var HD=oe(Ho=>{"use strict";var ae=Yn(),LD=xD(),VD=MD(),BD=RD(),jD=PD(),ys=Wh(),$l=Wn(),CN=kD();function OD(t){return unescape(encodeURIComponent(t)).length}function vs(t,e,n){let r=[],o;for(;(o=t.exec(n))!==null;)r.push({data:o[0],index:o.index,mode:e,length:o[0].length});return r}function UD(t){let e=vs(ys.NUMERIC,ae.NUMERIC,t),n=vs(ys.ALPHANUMERIC,ae.ALPHANUMERIC,t),r,o;return $l.isKanjiModeEnabled()?(r=vs(ys.BYTE,ae.BYTE,t),o=vs(ys.KANJI,ae.KANJI,t)):(r=vs(ys.BYTE_KANJI,ae.BYTE,t),o=[]),e.concat(n,r,o).sort(function(s,c){return s.index-c.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function Jh(t,e){switch(e){case ae.NUMERIC:return LD.getBitsLength(t);case ae.ALPHANUMERIC:return VD.getBitsLength(t);case ae.KANJI:return jD.getBitsLength(t);case ae.BYTE:return BD.getBitsLength(t)}}function DN(t){return t.reduce(function(e,n){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===n.mode?(e[e.length-1].data+=n.data,e):(e.push(n),e)},[])}function bN(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];switch(r.mode){case ae.NUMERIC:e.push([r,{data:r.data,mode:ae.ALPHANUMERIC,length:r.length},{data:r.data,mode:ae.BYTE,length:r.length}]);break;case ae.ALPHANUMERIC:e.push([r,{data:r.data,mode:ae.BYTE,length:r.length}]);break;case ae.KANJI:e.push([r,{data:r.data,mode:ae.BYTE,length:OD(r.data)}]);break;case ae.BYTE:e.push([{data:r.data,mode:ae.BYTE,length:OD(r.data)}])}}return e}function EN(t,e){let n={},r={start:{}},o=["start"];for(let i=0;i<t.length;i++){let s=t[i],c=[];for(let l=0;l<s.length;l++){let d=s[l],a=""+i+l;c.push(a),n[a]={node:d,lastCount:0},r[a]={};for(let u=0;u<o.length;u++){let f=o[u];n[f]&&n[f].node.mode===d.mode?(r[f][a]=Jh(n[f].lastCount+d.length,d.mode)-Jh(n[f].lastCount,d.mode),n[f].lastCount+=d.length):(n[f]&&(n[f].lastCount=d.length),r[f][a]=Jh(d.length,d.mode)+4+ae.getCharCountIndicator(d.mode,e))}}o=c}for(let i=0;i<o.length;i++)r[o[i]].end=0;return{map:r,table:n}}function FD(t,e){let n,r=ae.getBestModeForData(t);if(n=ae.from(e,r),n!==ae.BYTE&&n.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+ae.toString(n)+`.
 Suggested mode is: `+ae.toString(r));switch(n===ae.KANJI&&!$l.isKanjiModeEnabled()&&(n=ae.BYTE),n){case ae.NUMERIC:return new LD(t);case ae.ALPHANUMERIC:return new VD(t);case ae.KANJI:return new jD(t);case ae.BYTE:return new BD(t)}}Ho.fromArray=function(e){return e.reduce(function(n,r){return typeof r=="string"?n.push(FD(r,null)):r.data&&n.push(FD(r.data,r.mode)),n},[])};Ho.fromString=function(e,n){let r=UD(e,$l.isKanjiModeEnabled()),o=bN(r),i=EN(o,n),s=CN.find_path(i.map,"start","end"),c=[];for(let l=1;l<s.length-1;l++)c.push(i.table[s[l]].node);return Ho.fromArray(DN(c))};Ho.rawSplit=function(e){return Ho.fromArray(UD(e,$l.isKanjiModeEnabled()))}});var GD=oe($D=>{"use strict";var zl=Wn(),Xh=Fl(),SN=nD(),wN=oD(),IN=iD(),xN=cD(),nm=lD(),rm=Hh(),TN=hD(),Gl=DD(),MN=wD(),AN=Yn(),em=HD();function RN(t,e){let n=t.size,r=xN.getPositions(e);for(let o=0;o<r.length;o++){let i=r[o][0],s=r[o][1];for(let c=-1;c<=7;c++)if(!(i+c<=-1||n<=i+c))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(c>=0&&c<=6&&(l===0||l===6)||l>=0&&l<=6&&(c===0||c===6)||c>=2&&c<=4&&l>=2&&l<=4?t.set(i+c,s+l,!0,!0):t.set(i+c,s+l,!1,!0))}}function NN(t){let e=t.size;for(let n=8;n<e-8;n++){let r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function PN(t,e){let n=IN.getPositions(e);for(let r=0;r<n.length;r++){let o=n[r][0],i=n[r][1];for(let s=-2;s<=2;s++)for(let c=-2;c<=2;c++)s===-2||s===2||c===-2||c===2||s===0&&c===0?t.set(o+s,i+c,!0,!0):t.set(o+s,i+c,!1,!0)}}function kN(t,e){let n=t.size,r=Gl.getEncodedBits(e),o,i,s;for(let c=0;c<18;c++)o=Math.floor(c/3),i=c%3+n-8-3,s=(r>>c&1)===1,t.set(o,i,s,!0),t.set(i,o,s,!0)}function tm(t,e,n){let r=t.size,o=MN.getEncodedBits(e,n),i,s;for(i=0;i<15;i++)s=(o>>i&1)===1,i<6?t.set(i,8,s,!0):i<8?t.set(i+1,8,s,!0):t.set(r-15+i,8,s,!0),i<8?t.set(8,r-i-1,s,!0):i<9?t.set(8,15-i-1+1,s,!0):t.set(8,15-i-1,s,!0);t.set(r-8,8,1,!0)}function ON(t,e){let n=t.size,r=-1,o=n-1,i=7,s=0;for(let c=n-1;c>0;c-=2)for(c===6&&c--;;){for(let l=0;l<2;l++)if(!t.isReserved(o,c-l)){let d=!1;s<e.length&&(d=(e[s]>>>i&1)===1),t.set(o,c-l,d),i--,i===-1&&(s++,i=7)}if(o+=r,o<0||n<=o){o-=r,r=-r;break}}}function FN(t,e,n){let r=new SN;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),AN.getCharCountIndicator(l.mode,t)),l.write(r)});let o=zl.getSymbolTotalCodewords(t),i=rm.getTotalCodewordsCount(t,e),s=(o-i)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let c=(s-r.getLengthInBits())/8;for(let l=0;l<c;l++)r.put(l%2?17:236,8);return LN(r,t,e)}function LN(t,e,n){let r=zl.getSymbolTotalCodewords(e),o=rm.getTotalCodewordsCount(e,n),i=r-o,s=rm.getBlocksCount(e,n),c=r%s,l=s-c,d=Math.floor(r/s),a=Math.floor(i/s),u=a+1,f=d-a,p=new TN(f),h=0,y=new Array(s),m=new Array(s),b=0,x=new Uint8Array(t.buffer);for(let Me=0;Me<s;Me++){let J=Me<l?a:u;y[Me]=x.slice(h,h+J),m[Me]=p.encode(y[Me]),h+=J,b=Math.max(b,J)}let L=new Uint8Array(r),ce=0,fe,re;for(fe=0;fe<b;fe++)for(re=0;re<s;re++)fe<y[re].length&&(L[ce++]=y[re][fe]);for(fe=0;fe<f;fe++)for(re=0;re<s;re++)L[ce++]=m[re][fe];return L}function VN(t,e,n,r){let o;if(Array.isArray(t))o=em.fromArray(t);else if(typeof t=="string"){let d=e;if(!d){let a=em.rawSplit(t);d=Gl.getBestVersionForData(a,n)}o=em.fromString(t,d||40)}else throw new Error("Invalid data");let i=Gl.getBestVersionForData(o,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);let s=FN(e,n,o),c=zl.getSymbolSize(e),l=new wN(c);return RN(l,e),NN(l),PN(l,e),tm(l,n,0),e>=7&&kN(l,e),ON(l,s),isNaN(r)&&(r=nm.getBestMask(l,tm.bind(null,l,n))),nm.applyMask(r,l),tm(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:o}}$D.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Xh.M,o,i;return typeof n<"u"&&(r=Xh.from(n.errorCorrectionLevel,Xh.M),o=Gl.from(n.version),i=nm.from(n.maskPattern),n.toSJISFunc&&zl.setToSJISFunction(n.toSJISFunc)),VN(e,o,r,i)}});var om=oe(xr=>{"use strict";function zD(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+e.slice(0,6).join("")}}xr.getOptions=function(e){e||(e={}),e.color||(e.color={});let n=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,o=e.scale||4;return{width:r,scale:r?4:o,margin:n,color:{dark:zD(e.color.dark||"#000000ff"),light:zD(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};xr.getScale=function(e,n){return n.width&&n.width>=e+n.margin*2?n.width/(e+n.margin*2):n.scale};xr.getImageWidth=function(e,n){let r=xr.getScale(e,n);return Math.floor((e+n.margin*2)*r)};xr.qrToImageData=function(e,n,r){let o=n.modules.size,i=n.modules.data,s=xr.getScale(o,r),c=Math.floor((o+r.margin*2)*s),l=r.margin*s,d=[r.color.light,r.color.dark];for(let a=0;a<c;a++)for(let u=0;u<c;u++){let f=(a*c+u)*4,p=r.color.light;if(a>=l&&u>=l&&a<c-l&&u<c-l){let h=Math.floor((a-l)/s),y=Math.floor((u-l)/s);p=d[i[h*o+y]?1:0]}e[f++]=p.r,e[f++]=p.g,e[f++]=p.b,e[f]=p.a}}});var WD=oe(Wl=>{"use strict";var im=om();function BN(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function jN(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}Wl.render=function(e,n,r){let o=r,i=n;typeof o>"u"&&(!n||!n.getContext)&&(o=n,n=void 0),n||(i=jN()),o=im.getOptions(o);let s=im.getImageWidth(e.modules.size,o),c=i.getContext("2d"),l=c.createImageData(s,s);return im.qrToImageData(l.data,e,o),BN(c,i,s),c.putImageData(l,0,0),i};Wl.renderToDataURL=function(e,n,r){let o=r;typeof o>"u"&&(!n||!n.getContext)&&(o=n,n=void 0),o||(o={});let i=Wl.render(e,n,o),s=o.type||"image/png",c=o.rendererOpts||{};return i.toDataURL(s,c.quality)}});var ZD=oe(YD=>{"use strict";var UN=om();function qD(t,e){let n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function sm(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function HN(t,e,n){let r="",o=0,i=!1,s=0;for(let c=0;c<t.length;c++){let l=Math.floor(c%e),d=Math.floor(c/e);!l&&!i&&(i=!0),t[c]?(s++,c>0&&l>0&&t[c-1]||(r+=i?sm("M",l+n,.5+d+n):sm("m",o,0),o=0,i=!1),l+1<e&&t[c+1]||(r+=sm("h",s),s=0)):o++}return r}YD.render=function(e,n,r){let o=UN.getOptions(n),i=e.modules.size,s=e.modules.data,c=i+o.margin*2,l=o.color.light.a?"<path "+qD(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+qD(o.color.dark,"stroke")+' d="'+HN(s,i,o.margin)+'"/>',a='viewBox="0 0 '+c+" "+c+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+a+' shape-rendering="crispEdges">'+l+d+`</svg>
`;return typeof r=="function"&&r(null,f),f}});var KD=oe(_s=>{"use strict";var $N=X0(),am=GD(),QD=WD(),GN=ZD();function cm(t,e,n,r,o){let i=[].slice.call(arguments,1),s=i.length,c=typeof i[s-1]=="function";if(!c&&!$N())throw new Error("Callback required as last argument");if(c){if(s<2)throw new Error("Too few arguments provided");s===2?(o=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof o>"u"?(o=r,r=void 0):(o=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,d){try{let a=am.create(n,r);l(t(a,e,r))}catch(a){d(a)}})}try{let l=am.create(n,r);o(null,t(l,e,r))}catch(l){o(l)}}_s.create=am.create;_s.toCanvas=cm.bind(null,QD.render);_s.toDataURL=cm.bind(null,QD.renderToDataURL);_s.toString=cm.bind(null,function(t,e,n){return GN.render(t,n)})});function cu(t,e){return Object.is(t,e)}var Ae=null,Ms=!1,lu=1,Ge=Symbol("SIGNAL");function W(t){let e=Ae;return Ae=t,e}function Em(){return Ae}var Wo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Rs(t){if(Ms)throw new Error("");if(Ae===null)return;Ae.consumerOnSignalRead(t);let e=Ae.nextProducerIndex++;if(ks(Ae),e<Ae.producerNode.length&&Ae.producerNode[e]!==t&&zo(Ae)){let n=Ae.producerNode[e];Ps(n,Ae.producerIndexOfThis[e])}Ae.producerNode[e]!==t&&(Ae.producerNode[e]=t,Ae.producerIndexOfThis[e]=zo(Ae)?Im(t,Ae,e):0),Ae.producerLastReadVersion[e]=t.version}function hb(){lu++}function uu(t){if(!(zo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===lu)){if(!t.producerMustRecompute(t)&&!fu(t)){au(t);return}t.producerRecomputeValue(t),au(t)}}function Sm(t){if(t.liveConsumerNode===void 0)return;let e=Ms;Ms=!0;try{for(let n of t.liveConsumerNode)n.dirty||mb(n)}finally{Ms=e}}function wm(){return Ae?.consumerAllowSignalWrites!==!1}function mb(t){t.dirty=!0,Sm(t),t.consumerMarkedDirty?.(t)}function au(t){t.dirty=!1,t.lastCleanEpoch=lu}function Ns(t){return t&&(t.nextProducerIndex=0),W(t)}function du(t,e){if(W(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ps(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fu(t){ks(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(uu(n),r!==n.version))return!0}return!1}function pu(t){if(ks(t),zo(t))for(let e=0;e<t.producerNode.length;e++)Ps(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Im(t,e,n){if(xm(t),t.liveConsumerNode.length===0&&Tm(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Im(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ps(t,e){if(xm(t),t.liveConsumerNode.length===1&&Tm(t))for(let r=0;r<t.producerNode.length;r++)Ps(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];ks(o),o.producerIndexOfThis[r]=e}}function zo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ks(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function xm(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Tm(t){return t.producerNode!==void 0}function hu(t){let e=Object.create(gb);e.computation=t;let n=()=>{if(uu(e),Rs(e),e.value===As)throw e.error;return e.value};return n[Ge]=e,n}var iu=Symbol("UNSET"),su=Symbol("COMPUTING"),As=Symbol("ERRORED"),gb=N(C({},Wo),{value:iu,dirty:!0,error:null,equal:cu,producerMustRecompute(t){return t.value===iu||t.value===su},producerRecomputeValue(t){if(t.value===su)throw new Error("Detected cycle in computations.");let e=t.value;t.value=su;let n=Ns(t),r;try{r=t.computation()}catch(o){r=As,t.error=o}finally{du(t,n)}if(e!==iu&&e!==As&&r!==As&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function yb(){throw new Error}var Mm=yb;function Am(){Mm()}function Rm(t){Mm=t}var vb=null;function Nm(t){let e=Object.create(mu);e.value=t;let n=()=>(Rs(e),e.value);return n[Ge]=e,n}function Os(t,e){wm()||Am(),t.equal(t.value,e)||(t.value=e,_b(t))}function Pm(t,e){wm()||Am(),Os(t,e(t.value))}var mu=N(C({},Wo),{equal:cu,value:void 0});function _b(t){t.version++,hb(),Sm(t),vb?.()}function B(t){return typeof t=="function"}function Mr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fs=Mr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function qo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(B(r))try{r()}catch(i){e=i instanceof Fs?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{km(i)}catch(s){e=e??[],s instanceof Fs?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Fs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)km(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&qo(n,e)}remove(e){let{_finalizers:n}=this;n&&qo(n,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var gu=Ee.EMPTY;function Ls(t){return t instanceof Ee||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function km(t){B(t)?t():t.unsubscribe()}var Pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ar={setTimeout(t,e,...n){let{delegate:r}=Ar;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ar;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Vs(t){Ar.setTimeout(()=>{let{onUnhandledError:e}=Pt;if(e)e(t);else throw t})}function Yo(){}var Om=yu("C",void 0,void 0);function Fm(t){return yu("E",void 0,t)}function Lm(t){return yu("N",t,void 0)}function yu(t,e,n){return{kind:t,value:e,error:n}}var Jn=null;function Rr(t){if(Pt.useDeprecatedSynchronousErrorHandling){let e=!Jn;if(e&&(Jn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Jn;if(Jn=null,n)throw r}}else t()}function Vm(t){Pt.useDeprecatedSynchronousErrorHandling&&Jn&&(Jn.errorThrown=!0,Jn.error=t)}var Xn=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ls(e)&&e.add(this)):this.destination=bb}static create(e,n,r){return new Nr(e,n,r)}next(e){this.isStopped?_u(Lm(e),this):this._next(e)}error(e){this.isStopped?_u(Fm(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_u(Om,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Cb=Function.prototype.bind;function vu(t,e){return Cb.call(t,e)}var Cu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Bs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Bs(r)}else Bs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Bs(n)}}},Nr=class extends Xn{constructor(e,n,r){super();let o;if(B(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Pt.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&vu(e.next,i),error:e.error&&vu(e.error,i),complete:e.complete&&vu(e.complete,i)}):o=e}this.destination=new Cu(o)}};function Bs(t){Pt.useDeprecatedSynchronousErrorHandling?Vm(t):Vs(t)}function Db(t){throw t}function _u(t,e){let{onStoppedNotification:n}=Pt;n&&Ar.setTimeout(()=>n(t,e))}var bb={closed:!0,next:Yo,error:Db,complete:Yo};var Pr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(t){return t}function Du(...t){return bu(t)}function bu(t){return t.length===0?it:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Sb(n)?n:new Nr(n,r,o);return Rr(()=>{let{operator:s,source:c}=this;i.add(s?s.call(i,c):c?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Bm(r),new r((o,i)=>{let s=new Nr({next:c=>{try{n(c)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Pr](){return this}pipe(...n){return bu(n)(this)}toPromise(n){return n=Bm(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Bm(t){var e;return(e=t??Pt.Promise)!==null&&e!==void 0?e:Promise}function Eb(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function Sb(t){return t&&t instanceof Xn||Eb(t)&&Ls(t)}function Eu(t){return B(t?.lift)}function X(t){return e=>{if(Eu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Q(t,e,n,r,o){return new Su(t,e,n,r,o)}var Su=class extends Xn{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:super._next,this._error=o?function(c){try{o(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function kr(){return X((t,e)=>{let n=null;t._refCount++;let r=Q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Or=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Eu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let n=this.getSubject();e.add(this.source.subscribe(Q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return kr()(this)}};var jm=Mr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new js(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new jm}next(n){Rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?gu:(this.currentObservers=null,i.push(n),new Ee(()=>{this.currentObservers=null,qo(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new js(e,n),t})(),js=class extends he{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gu}};var Le=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var st=new ie(t=>t.complete());function Um(t){return t&&B(t.schedule)}function Hm(t){return t[t.length-1]}function Us(t){return B(Hm(t))?t.pop():void 0}function In(t){return Um(Hm(t))?t.pop():void 0}function Gm(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function c(a){try{d(r.next(a))}catch(u){s(u)}}function l(a){try{d(r.throw(a))}catch(u){s(u)}}function d(a){a.done?i(a.value):o(a.value).then(c,l)}d((r=r.apply(t,e||[])).next())})}function $m(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function er(t){return this instanceof er?(this.v=t,this):new er(t)}function zm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(p){return function(h){return Promise.resolve(h).then(p,u)}}function c(p,h){r[p]&&(o[p]=function(y){return new Promise(function(m,b){i.push([p,y,m,b])>1||l(p,y)})},h&&(o[p]=h(o[p])))}function l(p,h){try{d(r[p](h))}catch(y){f(i[0][3],y)}}function d(p){p.value instanceof er?Promise.resolve(p.value.v).then(a,u):f(i[0][2],p)}function a(p){l("next",p)}function u(p){l("throw",p)}function f(p,h){p(h),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Wm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $m=="function"?$m(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(c,l){s=t[i](s),o(c,l,s.done,s.value)})}}function o(i,s,c,l){Promise.resolve(l).then(function(d){i({value:d,done:c})},s)}}var Hs=t=>t&&typeof t.length=="number"&&typeof t!="function";function $s(t){return B(t?.then)}function Gs(t){return B(t[Pr])}function zs(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function Ws(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qs=wb();function Ys(t){return B(t?.[qs])}function Zs(t){return zm(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield er(n.read());if(o)return yield er(void 0);yield yield er(r)}}finally{n.releaseLock()}})}function Qs(t){return B(t?.getReader)}function Se(t){if(t instanceof ie)return t;if(t!=null){if(Gs(t))return Ib(t);if(Hs(t))return xb(t);if($s(t))return Tb(t);if(zs(t))return qm(t);if(Ys(t))return Mb(t);if(Qs(t))return Ab(t)}throw Ws(t)}function Ib(t){return new ie(e=>{let n=t[Pr]();if(B(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xb(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Tb(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Vs)})}function Mb(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function qm(t){return new ie(e=>{Rb(t,e).catch(n=>e.error(n))})}function Ab(t){return qm(Zs(t))}function Rb(t,e){var n,r,o,i;return Gm(this,void 0,void 0,function*(){try{for(n=Wm(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Qe(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Ks(t,e=0){return X((n,r)=>{n.subscribe(Q(r,o=>Qe(r,t,()=>r.next(o),e),()=>Qe(r,t,()=>r.complete(),e),o=>Qe(r,t,()=>r.error(o),e)))})}function Js(t,e=0){return X((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ym(t,e){return Se(t).pipe(Js(e),Ks(e))}function Zm(t,e){return Se(t).pipe(Js(e),Ks(e))}function Qm(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Km(t,e){return new ie(n=>{let r;return Qe(n,e,()=>{r=t[qs](),Qe(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>B(r?.return)&&r.return()})}function Xs(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{Qe(n,e,()=>{let r=t[Symbol.asyncIterator]();Qe(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Jm(t,e){return Xs(Zs(t),e)}function Xm(t,e){if(t!=null){if(Gs(t))return Ym(t,e);if(Hs(t))return Qm(t,e);if($s(t))return Zm(t,e);if(zs(t))return Xs(t,e);if(Ys(t))return Km(t,e);if(Qs(t))return Jm(t,e)}throw Ws(t)}function me(t,e){return e?Xm(t,e):Se(t)}function O(...t){let e=In(t);return me(t,e)}function Fr(t,e){let n=B(t)?t:()=>t,r=o=>o.error(n());return new ie(e?o=>e.schedule(r,0,o):r)}function wu(t){return!!t&&(t instanceof ie||B(t.lift)&&B(t.subscribe))}var nn=Mr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function q(t,e){return X((n,r)=>{let o=0;n.subscribe(Q(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:Nb}=Array;function Pb(t,e){return Nb(e)?t(...e):t(e)}function ea(t){return q(e=>Pb(t,e))}var{isArray:kb}=Array,{getPrototypeOf:Ob,prototype:Fb,keys:Lb}=Object;function ta(t){if(t.length===1){let e=t[0];if(kb(e))return{args:e,keys:null};if(Vb(e)){let n=Lb(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Vb(t){return t&&typeof t=="object"&&Ob(t)===Fb}function na(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Zo(...t){let e=In(t),n=Us(t),{args:r,keys:o}=ta(t);if(r.length===0)return me([],e);let i=new ie(Bb(r,e,o?s=>na(o,s):it));return n?i.pipe(ea(n)):i}function Bb(t,e,n=it){return r=>{eg(e,()=>{let{length:o}=t,i=new Array(o),s=o,c=o;for(let l=0;l<o;l++)eg(e,()=>{let d=me(t[l],e),a=!1;d.subscribe(Q(r,u=>{i[l]=u,a||(a=!0,c--),c||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function eg(t,e,n){t?Qe(n,t,e):e()}function tg(t,e,n,r,o,i,s,c){let l=[],d=0,a=0,u=!1,f=()=>{u&&!l.length&&!d&&e.complete()},p=y=>d<r?h(y):l.push(y),h=y=>{i&&e.next(y),d++;let m=!1;Se(n(y,a++)).subscribe(Q(e,b=>{o?.(b),i?p(b):e.next(b)},()=>{m=!0},void 0,()=>{if(m)try{for(d--;l.length&&d<r;){let b=l.shift();s?Qe(e,s,()=>h(b)):h(b)}f()}catch(b){e.error(b)}}))};return t.subscribe(Q(e,p,()=>{u=!0,f()})),()=>{c?.()}}function we(t,e,n=1/0){return B(e)?we((r,o)=>q((i,s)=>e(r,i,o,s))(Se(t(r,o))),n):(typeof e=="number"&&(n=e),X((r,o)=>tg(r,o,t,n)))}function Lr(t=1/0){return we(it,t)}function ng(){return Lr(1)}function Vr(...t){return ng()(me(t,In(t)))}function ra(t){return new ie(e=>{Se(t()).subscribe(e)})}function Iu(...t){let e=Us(t),{args:n,keys:r}=ta(t),o=new ie(i=>{let{length:s}=n;if(!s){i.complete();return}let c=new Array(s),l=s,d=s;for(let a=0;a<s;a++){let u=!1;Se(n[a]).subscribe(Q(i,f=>{u||(u=!0,d--),c[a]=f},()=>l--,void 0,()=>{(!l||!u)&&(d||i.next(r?na(r,c):c),i.complete())}))}});return e?o.pipe(ea(e)):o}function gt(t,e){return X((n,r)=>{let o=0;n.subscribe(Q(r,i=>t.call(e,i,o++)&&r.next(i)))})}function $t(t){return X((e,n)=>{let r=null,o=!1,i;r=e.subscribe(Q(n,void 0,void 0,s=>{i=Se(t(s,$t(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function rg(t,e,n,r,o){return(i,s)=>{let c=n,l=e,d=0;i.subscribe(Q(s,a=>{let u=d++;l=c?t(l,a,u):(c=!0,a),r&&s.next(l)},o&&(()=>{c&&s.next(l),s.complete()})))}}function tr(t,e){return B(e)?we(t,e,1):we(t,1)}function xn(t){return X((e,n)=>{let r=!1;e.subscribe(Q(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function rn(t){return t<=0?()=>st:X((e,n)=>{let r=0;e.subscribe(Q(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function xu(t){return q(()=>t)}function oa(t=jb){return X((e,n)=>{let r=!1;e.subscribe(Q(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function jb(){return new nn}function Qo(t){return X((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Gt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((o,i)=>t(o,i,r)):it,rn(1),n?xn(e):oa(()=>new nn))}function Br(t){return t<=0?()=>st:X((e,n)=>{let r=[];e.subscribe(Q(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Tu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?gt((o,i)=>t(o,i,r)):it,Br(1),n?xn(e):oa(()=>new nn))}function Mu(t,e){return X(rg(t,e,arguments.length>=2,!0))}function Au(...t){let e=In(t);return X((n,r)=>{(e?Vr(t,n,e):Vr(t,n)).subscribe(r)})}function yt(t,e){return X((n,r)=>{let o=null,i=0,s=!1,c=()=>s&&!o&&r.complete();n.subscribe(Q(r,l=>{o?.unsubscribe();let d=0,a=i++;Se(t(l,a)).subscribe(o=Q(r,u=>r.next(e?e(l,u,a,d++):u),()=>{o=null,c()}))},()=>{s=!0,c()}))})}function Ru(t){return X((e,n)=>{Se(t).subscribe(Q(n,()=>n.complete(),Yo)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=B(t)||e||n?{next:t,error:e,complete:n}:t;return r?X((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;o.subscribe(Q(i,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),i.next(l)},()=>{var l;c=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},l=>{var d;c=!1,(d=r.error)===null||d===void 0||d.call(r,l),i.error(l)},()=>{var l,d;c&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):it}var Hg="https://g.co/ng/security#xss",I=class extends Error{code;constructor(e,n){super(Vd(e,n)),this.code=e}};function Vd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var $g=Symbol("InputSignalNode#UNSET"),Ub=N(C({},mu),{transformFn:void 0,applyValueToInputSignal(t,e){Os(t,e)}});function Gg(t,e){let n=Object.create(Ub);n.value=t,n.transformFn=e?.transform;function r(){if(Rs(n),n.value===$g)throw new I(-950,!1);return n.value}return r[Ge]=n,r}function ci(t){return{toString:t}.toString()}var ia="__parameters__";function Hb(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function zg(t,e,n){return ci(()=>{let r=Hb(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return c.annotation=s,c;function c(l,d,a){let u=l.hasOwnProperty(ia)?l[ia]:Object.defineProperty(l,ia,{value:[]})[ia];for(;u.length<=a;)u.push(null);return(u[a]=u[a]||[]).push(s),l}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function le(t){for(let e in t)if(t[e]===le)return e;throw Error("Could not find renamed property on target object.")}function $b(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Je(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Je).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function og(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Gb=le({__forward_ref__:le});function pr(t){return t.__forward_ref__=pr,t.toString=function(){return Je(this())},t}function ze(t){return Wg(t)?t():t}function Wg(t){return typeof t=="function"&&t.hasOwnProperty(Gb)&&t.__forward_ref__===pr}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function On(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ua(t){return ig(t,Yg)||ig(t,Zg)}function qg(t){return Ua(t)!==null}function ig(t,e){return t.hasOwnProperty(e)?t[e]:null}function zb(t){let e=t&&(t[Yg]||t[Zg]);return e||null}function sg(t){return t&&(t.hasOwnProperty(ag)||t.hasOwnProperty(Wb))?t[ag]:null}var Yg=le({\u0275prov:le}),ag=le({\u0275inj:le}),Zg=le({ngInjectableDef:le}),Wb=le({ngInjectorDef:le}),M=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=w({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qg(t){return t&&!!t.\u0275providers}var qb=le({\u0275cmp:le}),Yb=le({\u0275dir:le}),Zb=le({\u0275pipe:le}),Qb=le({\u0275mod:le}),ma=le({\u0275fac:le}),Xo=le({__NG_ELEMENT_ID__:le}),cg=le({__NG_ENV_ID__:le});function Ha(t){return typeof t=="string"?t:t==null?"":String(t)}function Kb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ha(t)}function Jb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,t)}function Bd(t,e){throw new I(-201,!1)}var $=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}($||{}),Gu;function Kg(){return Gu}function Ke(t){let e=Gu;return Gu=t,e}function Jg(t,e,n){let r=Ua(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&$.Optional)return null;if(e!==void 0)return e;Bd(t,"Injector")}var Xb={},ei=Xb,zu="__NG_DI_FLAG__",ga="ngTempTokenPath",eE="ngTokenPath",tE=/\n/gm,nE="\u0275",lg="__source",Gr;function rE(){return Gr}function Tn(t){let e=Gr;return Gr=t,e}function oE(t,e=$.Default){if(Gr===void 0)throw new I(-203,!1);return Gr===null?Jg(t,void 0,e):Gr.get(t,e&$.Optional?null:void 0,e)}function F(t,e=$.Default){return(Kg()||oE)(ze(t),e)}function E(t,e=$.Default){return F(t,$a(e))}function $a(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wu(t){let e=[];for(let n=0;n<t.length;n++){let r=ze(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let o,i=$.Default;for(let s=0;s<r.length;s++){let c=r[s],l=iE(c);typeof l=="number"?l===-1?o=c.token:i|=l:o=c}e.push(F(o,i))}else e.push(F(r))}return e}function Xg(t,e){return t[zu]=e,t.prototype[zu]=e,t}function iE(t){return t[zu]}function sE(t,e,n,r){let o=t[ga];throw e[lg]&&o.unshift(e[lg]),t.message=aE(`
`+t.message,o,n,r),t[eE]=o,t[ga]=null,t}function aE(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==nE?t.slice(2):t;let o=Je(e);if(Array.isArray(e))o=e.map(Je).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];i.push(s+":"+(typeof c=="string"?JSON.stringify(c):Je(c)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(tE,`
  `)}`}var jd=Xg(zg("Optional"),8);var ey=Xg(zg("SkipSelf"),4);function rr(t,e){let n=t.hasOwnProperty(ma);return n?t[ma]:null}function cE(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=e[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function lE(t){return t.flat(Number.POSITIVE_INFINITY)}function Ud(t,e){t.forEach(n=>Array.isArray(n)?Ud(n,e):e(n))}function ty(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ya(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function uE(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function dE(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function fE(t,e,n){let r=li(t,e);return r>=0?t[r|1]=n:(r=~r,dE(t,r,e,n)),r}function Nu(t,e){let n=li(t,e);if(n>=0)return t[n|1]}function li(t,e){return pE(t,e,1)}function pE(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var Wr={},at=[],qr=new M(""),ny=new M("",-1),ry=new M(""),va=class{get(e,n=ei){if(n===ei){let r=new Error(`NullInjectorError: No provider for ${Je(e)}!`);throw r.name="NullInjectorError",r}return n}};function oy(t,e){let n=t[Qb]||null;if(!n&&e===!0)throw new Error(`Type ${Je(t)} does not have '\u0275mod' property.`);return n}function Rn(t){return t[qb]||null}function iy(t){return t[Yb]||null}function sy(t){return t[Zb]||null}function ay(t){let e=Rn(t)||iy(t)||sy(t);return e!==null?e.standalone:!1}function Ga(t){return{\u0275providers:t}}function hE(...t){return{\u0275providers:cy(!0,t),\u0275fromNgModule:!0}}function cy(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return Ud(e,s=>{let c=s;qu(c,i,[],r)&&(o||=[],o.push(c))}),o!==void 0&&ly(o,i),n}function ly(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];Hd(o,i=>{e(i,r)})}}function qu(t,e,n,r){if(t=ze(t),!t)return!1;let o=null,i=sg(t),s=!i&&Rn(t);if(!i&&!s){let l=t.ngModule;if(i=sg(l),i)o=l;else return!1}else{if(s&&!s.standalone)return!1;o=t}let c=r.has(o);if(s){if(c)return!1;if(r.add(o),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)qu(d,e,n,r)}}else if(i){if(i.imports!=null&&!c){r.add(o);let d;try{Ud(i.imports,a=>{qu(a,e,n,r)&&(d||=[],d.push(a))})}finally{}d!==void 0&&ly(d,e)}if(!c){let d=rr(o)||(()=>new o);e({provide:o,useFactory:d,deps:at},o),e({provide:ry,useValue:o,multi:!0},o),e({provide:qr,useValue:()=>F(o),multi:!0},o)}let l=i.providers;if(l!=null&&!c){let d=t;Hd(l,a=>{e(a,d)})}}else return!1;return o!==t&&t.providers!==void 0}function Hd(t,e){for(let n of t)Qg(n)&&(n=n.\u0275providers),Array.isArray(n)?Hd(n,e):e(n)}var mE=le({provide:String,useValue:le});function uy(t){return t!==null&&typeof t=="object"&&mE in t}function gE(t){return!!(t&&t.useExisting)}function yE(t){return!!(t&&t.useFactory)}function Yr(t){return typeof t=="function"}function vE(t){return!!t.useClass}var za=new M(""),la={},_E={},Pu;function $d(){return Pu===void 0&&(Pu=new va),Pu}var lt=class{},ti=class extends lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Zu(e,s=>this.processProvider(s)),this.records.set(ny,jr(void 0,this)),o.has("environment")&&this.records.set(lt,jr(void 0,this));let i=this.records.get(za);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ry,at,$.Self))}destroy(){Ko(this),this._destroyed=!0;let e=W(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return Ko(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ko(this);let n=Tn(this),r=Ke(void 0),o;try{return e()}finally{Tn(n),Ke(r)}}get(e,n=ei,r=$.Default){if(Ko(this),e.hasOwnProperty(cg))return e[cg](this);r=$a(r);let o,i=Tn(this),s=Ke(void 0);try{if(!(r&$.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=SE(e)&&Ua(e);d&&this.injectableDefInScope(d)?l=jr(Yu(e),la):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let c=r&$.Self?$d():this.parent;return n=r&$.Optional&&n===ei?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[ga]=c[ga]||[]).unshift(Je(e)),i)throw c;return sE(c,e,"R3InjectorError",this.source)}else throw c}finally{Ke(s),Tn(i)}}resolveInjectorInitializers(){let e=W(null),n=Tn(this),r=Ke(void 0),o;try{let i=this.get(qr,at,$.Self);for(let s of i)s()}finally{Tn(n),Ke(r),W(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Je(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ze(e);let n=Yr(e)?e:ze(e&&e.provide),r=DE(e);if(!Yr(e)&&e.multi===!0){let o=this.records.get(n);o||(o=jr(void 0,la,!0),o.factory=()=>Wu(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=W(null);try{return n.value===la&&(n.value=_E,n.value=n.factory()),typeof n.value=="object"&&n.value&&EE(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{W(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ze(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yu(t){let e=Ua(t),n=e!==null?e.factory:rr(t);if(n!==null)return n;if(t instanceof M)throw new I(204,!1);if(t instanceof Function)return CE(t);throw new I(204,!1)}function CE(t){if(t.length>0)throw new I(204,!1);let n=zb(t);return n!==null?()=>n.factory(t):()=>new t}function DE(t){if(uy(t))return jr(void 0,t.useValue);{let e=dy(t);return jr(e,la)}}function dy(t,e,n){let r;if(Yr(t)){let o=ze(t);return rr(o)||Yu(o)}else if(uy(t))r=()=>ze(t.useValue);else if(yE(t))r=()=>t.useFactory(...Wu(t.deps||[]));else if(gE(t))r=()=>F(ze(t.useExisting));else{let o=ze(t&&(t.useClass||t.provide));if(bE(t))r=()=>new o(...Wu(t.deps));else return rr(o)||Yu(o)}return r}function Ko(t){if(t.destroyed)throw new I(205,!1)}function jr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function bE(t){return!!t.deps}function EE(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function SE(t){return typeof t=="function"||typeof t=="object"&&t instanceof M}function Zu(t,e){for(let n of t)Array.isArray(n)?Zu(n,e):n&&Qg(n)?Zu(n.\u0275providers,e):e(n)}function Ct(t,e){t instanceof ti&&Ko(t);let n,r=Tn(t),o=Ke(void 0);try{return e()}finally{Tn(r),Ke(o)}}function fy(){return Kg()!==void 0||rE()!=null}function wE(t){if(!fy())throw new I(-203,!1)}function IE(t){return typeof t=="function"}var ln=0,j=1,P=2,je=3,Ot=4,et=5,ni=6,_a=7,vt=8,Zr=9,on=10,Ie=11,ri=12,ug=13,no=14,_t=15,or=16,Ur=17,sn=18,Wa=19,py=20,Mn=21,ku=22,Ca=23,ct=24,We=25,hy=1;var ir=7,Da=8,Qr=9,Xe=10,ba=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ba||{});function An(t){return Array.isArray(t)&&typeof t[hy]=="object"}function un(t){return Array.isArray(t)&&t[hy]===!0}function my(t){return(t.flags&4)!==0}function qa(t){return t.componentOffset>-1}function Gd(t){return(t.flags&1)===1}function Nn(t){return!!t.template}function Qu(t){return(t[P]&512)!==0}var Ku=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function gy(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ro=(()=>{let t=()=>yy;return t.ngInherit=!0,t})();function yy(t){return t.type.prototype.ngOnChanges&&(t.setInput=TE),xE}function xE(){let t=_y(this),e=t?.current;if(e){let n=t.previous;if(n===Wr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function TE(t,e,n,r,o){let i=this.declaredInputs[r],s=_y(t)||ME(t,{previous:Wr,current:null}),c=s.current||(s.current={}),l=s.previous,d=l[i];c[i]=new Ku(d&&d.currentValue,n,l===Wr),gy(t,e,o,n)}var vy="__ngSimpleChanges__";function _y(t){return t[vy]||null}function ME(t,e){return t[vy]=e}var dg=null;var zt=function(t,e,n){dg?.(t,e,n)},AE="svg",RE="math";function qt(t){for(;Array.isArray(t);)t=t[ln];return t}function Cy(t,e){return qt(e[t])}function Dt(t,e){return qt(e[t.index])}function zd(t,e){return t.data[e]}function Dy(t,e){return t[e]}function Fn(t,e){let n=e[t];return An(n)?n:n[ln]}function Wd(t){return(t[P]&128)===128}function NE(t){return un(t[je])}function Ea(t,e){return e==null?null:t[e]}function by(t){t[Ur]=0}function qd(t){t[P]&1024||(t[P]|=1024,Wd(t)&&Za(t))}function PE(t,e){for(;t>0;)e=e[no],t--;return e}function Ya(t){return!!(t[P]&9216||t[ct]?.dirty)}function Ju(t){t[on].changeDetectionScheduler?.notify(9),t[P]&64&&(t[P]|=1024),Ya(t)&&Za(t)}function Za(t){t[on].changeDetectionScheduler?.notify(0);let e=sr(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Wd(e)));)e=sr(e)}function Ey(t,e){if((t[P]&256)===256)throw new I(911,!1);t[Mn]===null&&(t[Mn]=[]),t[Mn].push(e)}function kE(t,e){if(t[Mn]===null)return;let n=t[Mn].indexOf(e);n!==-1&&t[Mn].splice(n,1)}function sr(t){let e=t[je];return un(e)?e[je]:e}var G={lFrame:Py(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Xu=!1;function OE(){return G.lFrame.elementDepthCount}function FE(){G.lFrame.elementDepthCount++}function LE(){G.lFrame.elementDepthCount--}function Sy(){return G.bindingsEnabled}function wy(){return G.skipHydrationRootTNode!==null}function VE(t){return G.skipHydrationRootTNode===t}function BE(){G.skipHydrationRootTNode=null}function te(){return G.lFrame.lView}function Ue(){return G.lFrame.tView}function Ln(t){return G.lFrame.contextLView=t,t[vt]}function Vn(t){return G.lFrame.contextLView=null,t}function tt(){let t=Iy();for(;t!==null&&t.type===64;)t=t.parent;return t}function Iy(){return G.lFrame.currentTNode}function jE(){let t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ui(t,e){let n=G.lFrame;n.currentTNode=t,n.isParent=e}function xy(){return G.lFrame.isParent}function Ty(){G.lFrame.isParent=!1}function UE(){return G.lFrame.contextLView}function My(){return Xu}function fg(t){let e=Xu;return Xu=t,e}function Ay(){let t=G.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function HE(t){return G.lFrame.bindingIndex=t}function di(){return G.lFrame.bindingIndex++}function $E(t){let e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function GE(){return G.lFrame.inI18n}function zE(t,e){let n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,ed(e)}function WE(){return G.lFrame.currentDirectiveIndex}function ed(t){G.lFrame.currentDirectiveIndex=t}function qE(t){let e=G.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YE(){return G.lFrame.currentQueryIndex}function Yd(t){G.lFrame.currentQueryIndex=t}function ZE(t){let e=t[j];return e.type===2?e.declTNode:e.type===1?t[et]:null}function Ry(t,e,n){if(n&$.SkipSelf){let o=e,i=t;for(;o=o.parent,o===null&&!(n&$.Host);)if(o=ZE(i),o===null||(i=i[no],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=G.lFrame=Ny();return r.currentTNode=e,r.lView=t,!0}function Zd(t){let e=Ny(),n=t[j];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ny(){let t=G.lFrame,e=t===null?null:t.child;return e===null?Py(t):e}function Py(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ky(){let t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Oy=ky;function Qd(){let t=ky();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function QE(t){return(G.lFrame.contextLView=PE(t,G.lFrame.contextLView))[vt]}function oo(){return G.lFrame.selectedIndex}function ar(t){G.lFrame.selectedIndex=t}function Kd(){let t=G.lFrame;return zd(t.tView,t.selectedIndex)}function KE(){return G.lFrame.currentNamespace}var Fy=!0;function Jd(){return Fy}function Xd(t){Fy=t}function JE(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=yy(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function ef(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:a}=i;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),l&&(t.viewHooks??=[]).push(-n,l),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),a!=null&&(t.destroyHooks??=[]).push(n,a)}}function ua(t,e,n){Ly(t,e,3,n)}function da(t,e,n,r){(t[P]&3)===n&&Ly(t,e,n,r)}function Ou(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function Ly(t,e,n,r){let o=r!==void 0?t[Ur]&65535:0,i=r??-1,s=e.length-1,c=0;for(let l=o;l<s;l++)if(typeof e[l+1]=="number"){if(c=e[l],r!=null&&c>=r)break}else e[l]<0&&(t[Ur]+=65536),(c<i||i==-1)&&(XE(t,n,e,l),t[Ur]=(t[Ur]&4294901760)+l+2),l++}function pg(t,e){zt(4,t,e);let n=W(null);try{e.call(t)}finally{W(n),zt(5,t,e)}}function XE(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],c=t[s];o?t[P]>>14<t[Ur]>>16&&(t[P]&3)===e&&(t[P]+=16384,pg(c,i)):pg(c,i)}var zr=-1,cr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function eS(t){return t instanceof cr}function tS(t){return(t.flags&8)!==0}function nS(t){return(t.flags&16)!==0}function td(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,i)}else{let i=o,s=n[++r];oS(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function rS(t){return t===3||t===4||t===6}function oS(t){return t.charCodeAt(0)===64}function oi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?hg(t,n,o,null,e[++r]):hg(t,n,o,null,null))}}return t}function hg(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let c=t[i++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=i-1;break}}}for(;i<t.length;){let c=t[i];if(typeof c=="number")break;if(c===n){if(r===null){o!==null&&(t[i+1]=o);return}else if(r===t[i+1]){t[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),r!==null&&t.splice(i++,0,r),o!==null&&t.splice(i++,0,o)}var Fu={},nd=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$a(r);let o=this.injector.get(e,Fu,r);return o!==Fu||n===Fu?o:this.parentInjector.get(e,n,r)}};function Vy(t){return t!==zr}function Sa(t){return t&32767}function iS(t){return t>>16}function wa(t,e){let n=iS(t),r=e;for(;n>0;)r=r[no],n--;return r}var rd=!0;function Ia(t){let e=rd;return rd=t,e}var sS=256,By=sS-1,jy=5,aS=0,Wt={};function cS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xo)&&(r=n[Xo]),r==null&&(r=n[Xo]=aS++);let o=r&By,i=1<<o;e.data[t+(o>>jy)]|=i}function xa(t,e){let n=Uy(t,e);if(n!==-1)return n;let r=e[j];r.firstCreatePass&&(t.injectorIndex=e.length,Lu(r.data,t),Lu(e,null),Lu(r.blueprint,null));let o=tf(t,e),i=t.injectorIndex;if(Vy(o)){let s=Sa(o),c=wa(o,e),l=c[j].data;for(let d=0;d<8;d++)e[i+d]=c[s+d]|l[s+d]}return e[i+8]=o,i}function Lu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Uy(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function tf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=Wy(o),r===null)return zr;if(n++,o=o[no],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return zr}function od(t,e,n){cS(t,e,n)}function Hy(t,e,n){if(n&$.Optional||t!==void 0)return t;Bd(e,"NodeInjector")}function $y(t,e,n,r){if(n&$.Optional&&r===void 0&&(r=null),!(n&($.Self|$.Host))){let o=t[Zr],i=Ke(void 0);try{return o?o.get(e,r,n&$.Optional):Jg(e,r,n&$.Optional)}finally{Ke(i)}}return Hy(r,e,n)}function Gy(t,e,n,r=$.Default,o){if(t!==null){if(e[P]&2048&&!(r&$.Self)){let s=fS(t,e,n,r,Wt);if(s!==Wt)return s}let i=zy(t,e,n,r,Wt);if(i!==Wt)return i}return $y(e,n,r,o)}function zy(t,e,n,r,o){let i=uS(n);if(typeof i=="function"){if(!Ry(e,t,r))return r&$.Host?Hy(o,n,r):$y(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&$.Optional))Bd(n);else return s}finally{Oy()}}else if(typeof i=="number"){let s=null,c=Uy(t,e),l=zr,d=r&$.Host?e[_t][et]:null;for((c===-1||r&$.SkipSelf)&&(l=c===-1?tf(t,e):e[c+8],l===zr||!gg(r,!1)?c=-1:(s=e[j],c=Sa(l),e=wa(l,e)));c!==-1;){let a=e[j];if(mg(i,c,a.data)){let u=lS(c,e,n,s,r,d);if(u!==Wt)return u}l=e[c+8],l!==zr&&gg(r,e[j].data[c+8]===d)&&mg(i,c,e)?(s=a,c=Sa(l),e=wa(l,e)):c=-1}}return o}function lS(t,e,n,r,o,i){let s=e[j],c=s.data[t+8],l=r==null?qa(c)&&rd:r!=s&&(c.type&3)!==0,d=o&$.Host&&i===c,a=fa(c,s,n,l,d);return a!==null?lr(e,s,a,c):Wt}function fa(t,e,n,r,o){let i=t.providerIndexes,s=e.data,c=i&1048575,l=t.directiveStart,d=t.directiveEnd,a=i>>20,u=r?c:c+a,f=o?c+a:d;for(let p=u;p<f;p++){let h=s[p];if(p<l&&n===h||p>=l&&h.type===n)return p}if(o){let p=s[l];if(p&&Nn(p)&&p.type===n)return l}return null}function lr(t,e,n,r){let o=t[n],i=e.data;if(eS(o)){let s=o;s.resolving&&Jb(Kb(i[n]));let c=Ia(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?Ke(s.injectImpl):null,a=Ry(t,r,$.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&JE(n,i[n],e)}finally{d!==null&&Ke(d),Ia(c),s.resolving=!1,Oy()}}return o}function uS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xo)?t[Xo]:void 0;return typeof e=="number"?e>=0?e&By:dS:e}function mg(t,e,n){let r=1<<t;return!!(n[e+(t>>jy)]&r)}function gg(t,e){return!(t&$.Self)&&!(t&$.Host&&e)}var nr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Gy(this._tNode,this._lView,e,$a(r),n)}};function dS(){return new nr(tt(),te())}function io(t){return ci(()=>{let e=t.prototype.constructor,n=e[ma]||id(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[ma]||id(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function id(t){return Wg(t)?()=>{let e=id(ze(t));return e&&e()}:rr(t)}function fS(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[P]&2048&&!(s[P]&512);){let c=zy(i,s,n,r|$.Self,Wt);if(c!==Wt)return c;let l=i.parent;if(!l){let d=s[py];if(d){let a=d.get(n,Wt,r);if(a!==Wt)return a}l=Wy(s),s=s[no]}i=l}return o}function Wy(t){let e=t[j],n=e.type;return n===2?e.declTNode:n===1?t[et]:null}function yg(t,e=null,n=null,r){let o=qy(t,e,n,r);return o.resolveInjectorInitializers(),o}function qy(t,e=null,n=null,r,o=new Set){let i=[n||at,hE(t)];return r=r||(typeof t=="object"?void 0:Je(t)),new ti(i,e||$d(),r||null,o)}var Ft=class t{static THROW_IF_NOT_FOUND=ei;static NULL=new va;static create(e,n){if(Array.isArray(e))return yg({name:""},n,e,"");{let r=e.name??"";return yg({name:r},e.parent,e.providers,r)}}static \u0275prov=w({token:t,providedIn:"any",factory:()=>F(ny)});static __NG_ELEMENT_ID__=-1};var pS=new M("");pS.__NG_ELEMENT_ID__=t=>{let e=tt();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(t&$.Optional)return null;throw new I(204,!1)};var Yy=!1,Qa=(()=>{class t{static __NG_ELEMENT_ID__=hS;static __NG_ENV_ID__=n=>n}return t})(),sd=class extends Qa{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Ey(this._lView,e),()=>kE(this._lView,e)}};function hS(){return new sd(te())}var Kr=class{},Ka=new M("",{providedIn:"root",factory:()=>!1});var Zy=new M(""),Qy=new M(""),so=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Le(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=w({token:t,providedIn:"root",factory:()=>new t})}return t})();var ad=class extends he{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,fy()&&(this.destroyRef=E(Qa,{optional:!0})??void 0,this.pendingTasks=E(so,{optional:!0})??void 0)}emit(e){let n=W(null);try{super.next(e)}finally{W(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:o,error:i,complete:s});return e instanceof Ee&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ne=ad;function Ta(...t){}function Ky(t){let e,n;function r(){t=Ta;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function vg(t){return queueMicrotask(()=>t()),()=>{t=Ta}}var nf="isAngularZone",Ma=nf+"_ID",mS=0,_e=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ne(!1);onMicrotaskEmpty=new Ne(!1);onStable=new Ne(!1);onError=new Ne(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Yy}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,vS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(nf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,gS,Ta,Ta);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},gS={};function rf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yS(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Ky(()=>{t.callbackScheduled=!1,cd(t),t.isCheckStableRunning=!0,rf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),cd(t)}function vS(t){let e=()=>{yS(t)},n=mS++;t._inner=t._inner.fork({name:"angular",properties:{[nf]:!0,[Ma]:n,[Ma+n]:!0},onInvokeTask:(r,o,i,s,c,l)=>{if(_S(l))return r.invokeTask(i,s,c,l);try{return _g(t),r.invokeTask(i,s,c,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Cg(t)}},onInvoke:(r,o,i,s,c,l,d)=>{try{return _g(t),r.invoke(i,s,c,l,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!CS(l)&&e(),Cg(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cd(t),rf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function _g(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Cg(t){t._nesting--,rf(t)}var ld=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ne;onMicrotaskEmpty=new Ne;onStable=new Ne;onError=new Ne;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function _S(t){return Jy(t,"__ignore_ng_zone__")}function CS(t){return Jy(t,"__scheduler_tick__")}function Jy(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Yt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},DS=new M("",{providedIn:"root",factory:()=>{let t=E(_e),e=E(Yt);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),ud=class{destroyed=!1;listeners=null;errorHandler=E(Yt,{optional:!0});destroyRef=E(Qa);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new I(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new I(953,!1);if(this.listeners===null)return;let n=W(null);try{for(let r of this.listeners)try{r(e)}catch(o){this.errorHandler?.handleError(o)}}finally{W(n)}}};function Xy(t){return new ud}function Dg(t,e){return Gg(t,e)}function bS(t){return Gg($g,t)}var fi=(Dg.required=bS,Dg);function ES(){return ao(tt(),te())}function ao(t,e){return new Lt(Dt(t,e))}var Lt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=ES}return t})();function SS(t){return t instanceof Lt?t.nativeElement:t}function wS(){return this._results[Symbol.iterator]()}var dd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new he}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=lE(e);(this._changesDetected=!cE(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=wS};function ev(t){return(t.flags&128)===128}var tv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tv||{}),nv=new Map,IS=0;function xS(){return IS++}function TS(t){nv.set(t[Wa],t)}function fd(t){nv.delete(t[Wa])}var bg="__ngContext__";function ur(t,e){An(e)?(t[bg]=e[Wa],TS(e)):t[bg]=e}function rv(t){return iv(t[ri])}function ov(t){return iv(t[Ot])}function iv(t){for(;t!==null&&!un(t);)t=t[Ot];return t}var pd;function sv(t){pd=t}function MS(){if(pd!==void 0)return pd;if(typeof document<"u")return document;throw new I(210,!1)}var of=new M("",{providedIn:"root",factory:()=>AS}),AS="ng",sf=new M(""),hr=new M("",{providedIn:"platform",factory:()=>"unknown"});var af=new M("",{providedIn:"root",factory:()=>MS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var RS="h",NS="b";var av=!1,PS=new M("",{providedIn:"root",factory:()=>av});var Eg=new Set;function mr(t){Eg.has(t)||(Eg.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Hr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Hr||{}),cv=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=w({token:t,providedIn:"root",factory:()=>new t})}return t})(),kS=[Hr.EarlyRead,Hr.Write,Hr.MixedReadWrite,Hr.Read],OS=(()=>{class t{ngZone=E(_e);scheduler=E(Kr);errorHandler=E(Yt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;execute(){this.executing=!0;for(let n of kS)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[n]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(7))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static \u0275prov=w({token:t,providedIn:"root",factory:()=>new t})}return t})(),hd=class{impl;hooks;once;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,o){this.impl=e,this.hooks=n,this.once=r,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function cf(t,e){!e?.injector&&wE(cf);let n=e?.injector??E(Ft);return mr("NgAfterNextRender"),LS(t,n,e,!0)}function FS(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function LS(t,e,n,r){let o=e.get(cv);o.impl??=e.get(OS);let i=n?.phase??Hr.MixedReadWrite,s=n?.manualCleanup!==!0?e.get(Qa):null,c=new hd(o.impl,FS(t,i),r,s);return o.impl.register(c),c}var VS=()=>null;function lf(t,e,n=!1){return VS(t,e,n)}var Zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zt||{});var Aa=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hg})`}};function Ja(t){return t instanceof Aa?t.changingThisBreaksApplicationSecurity:t}function lv(t,e){let n=BS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Hg})`)}return n===e}function BS(t){return t instanceof Aa&&t.getTypeName()||null}var jS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uv(t){return t=String(t),t.match(jS)?t:"unsafe:"+t}var uf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(uf||{});function dn(t){let e=US();return e?e.sanitize(uf.URL,t)||"":lv(t,"URL")?Ja(t):uv(Ha(t))}function US(){let t=te();return t&&t[on].sanitizer}function dv(t){return t instanceof Function?t():t}var Pn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Pn||{}),an=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(an||{}),HS;function df(t,e){return HS(t,e)}function $r(t,e,n,r,o){if(r!=null){let i,s=!1;un(r)?i=r:An(r)&&(s=!0,r=r[ln]);let c=qt(r);t===0&&n!==null?o==null?gv(e,n,c):Na(e,n,c,o||null,!0):t===1&&n!==null?Na(e,n,c,o||null,!0):t===2?tw(e,c,s):t===3&&e.destroyNode(c),i!=null&&rw(e,t,i,n,o)}}function $S(t,e){return t.createText(e)}function GS(t,e,n){t.setValue(e,n)}function fv(t,e,n){return t.createElement(e,n)}function zS(t,e){pv(t,e),e[ln]=null,e[et]=null}function WS(t,e,n,r,o,i){r[ln]=o,r[et]=e,Xa(t,r,n,1,o,i)}function pv(t,e){e[on].changeDetectionScheduler?.notify(10),Xa(t,e,e[Ie],2,null,null)}function qS(t){let e=t[ri];if(!e)return Vu(t[j],t);for(;e;){let n=null;if(An(e))n=e[ri];else{let r=e[Xe];r&&(n=r)}if(!n){for(;e&&!e[Ot]&&e!==t;)An(e)&&Vu(e[j],e),e=e[je];e===null&&(e=t),An(e)&&Vu(e[j],e),n=e&&e[Ot]}e=n}}function YS(t,e,n,r){let o=Xe+r,i=n.length;r>0&&(n[o-1][Ot]=e),r<i-Xe?(e[Ot]=n[o],ty(n,Xe+r,e)):(n.push(e),e[Ot]=null),e[je]=n;let s=e[or];s!==null&&n!==s&&hv(s,e);let c=e[sn];c!==null&&c.insertView(t),Ju(e),e[P]|=128}function hv(t,e){let n=t[Qr],r=e[je];if(An(r))t[P]|=ba.HasTransplantedViews;else{let o=r[je][_t];e[_t]!==o&&(t[P]|=ba.HasTransplantedViews)}n===null?t[Qr]=[e]:n.push(e)}function ff(t,e){let n=t[Qr],r=n.indexOf(e);n.splice(r,1)}function Ra(t,e){if(t.length<=Xe)return;let n=Xe+e,r=t[n];if(r){let o=r[or];o!==null&&o!==t&&ff(o,r),e>0&&(t[n-1][Ot]=r[Ot]);let i=ya(t,Xe+e);zS(r[j],r);let s=i[sn];s!==null&&s.detachView(i[j]),r[je]=null,r[Ot]=null,r[P]&=-129}return r}function pf(t,e){if(!(e[P]&256)){let n=e[Ie];n.destroyNode&&Xa(t,e,n,3,null,null),qS(e)}}function Vu(t,e){if(e[P]&256)return;let n=W(null);try{e[P]&=-129,e[P]|=256,e[ct]&&pu(e[ct]),QS(t,e),ZS(t,e),e[j].type===1&&e[Ie].destroy();let r=e[or];if(r!==null&&un(e[je])){r!==e[je]&&ff(r,e);let o=e[sn];o!==null&&o.detachView(t)}fd(e)}finally{W(n)}}function ZS(t,e){let n=t.cleanup,r=e[_a];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[_a]=null);let o=e[Mn];if(o!==null){e[Mn]=null;for(let s=0;s<o.length;s++){let c=o[s];c()}}let i=e[Ca];if(i!==null){e[Ca]=null;for(let s of i)s.destroy()}}function QS(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof cr)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let c=o[i[s]],l=i[s+1];zt(4,c,l);try{l.call(c)}finally{zt(5,c,l)}}else{zt(4,o,i);try{i.call(o)}finally{zt(5,o,i)}}}}}function mv(t,e,n){return KS(t,e.parent,n)}function KS(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[ln];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=t.data[r.directiveStart+o];if(i===Zt.None||i===Zt.Emulated)return null}return Dt(r,n)}}function Na(t,e,n,r,o){t.insertBefore(e,n,r,o)}function gv(t,e,n){t.appendChild(e,n)}function Sg(t,e,n,r,o){r!==null?Na(t,e,n,r,o):gv(t,e,n)}function yv(t,e){return t.parentNode(e)}function JS(t,e){return t.nextSibling(e)}function vv(t,e,n){return ew(t,e,n)}function XS(t,e,n){return t.type&40?Dt(t,n):null}var ew=XS,wg;function hf(t,e,n,r){let o=mv(t,r,e),i=e[Ie],s=r.parent||e[et],c=vv(s,r,e);if(o!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Sg(i,o,n[l],c,!1);else Sg(i,o,n,c,!1);wg!==void 0&&wg(i,r,e,n,o)}function Jo(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return md(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Jo(t,r);{let o=t[e.index];return un(o)?md(-1,o):qt(o)}}else{if(n&128)return Jo(t,e.next);if(n&32)return df(e,t)()||qt(t[e.index]);{let r=_v(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=sr(t[_t]);return Jo(o,r)}else return Jo(t,e.next)}}}return null}function _v(t,e){if(e!==null){let r=t[_t][et],o=e.projection;return r.projection[o]}return null}function md(t,e){let n=Xe+t+1;if(n<e.length){let r=e[n],o=r[j].firstChild;if(o!==null)return Jo(r,o)}return e[ir]}function tw(t,e,n){t.removeChild(null,e,n)}function mf(t,e,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&ur(qt(c),r),n.flags|=2),(n.flags&32)!==32)if(l&8)mf(t,e,n.child,r,o,i,!1),$r(e,t,o,c,i);else if(l&32){let d=df(n,r),a;for(;a=d();)$r(e,t,o,a,i);$r(e,t,o,c,i)}else l&16?Cv(t,e,r,n,o,i):$r(e,t,o,c,i);n=s?n.projectionNext:n.next}}function Xa(t,e,n,r,o,i){mf(n,r,t.firstChild,e,o,i,!1)}function nw(t,e,n){let r=e[Ie],o=mv(t,n,e),i=n.parent||e[et],s=vv(i,n,e);Cv(r,0,e,n,o,s)}function Cv(t,e,n,r,o,i){let s=n[_t],l=s[et].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let a=l[d];$r(e,t,o,a,i)}else{let d=l,a=s[je];ev(r)&&(d.flags|=128),mf(t,e,d,a,o,i,!0)}}function rw(t,e,n,r,o){let i=n[ir],s=qt(n);i!==s&&$r(e,t,r,i,o);for(let c=Xe;c<n.length;c++){let l=n[c];Xa(l[j],l,t,e,r,i)}}function ow(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:an.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=an.Important),t.setStyle(n,r,o,i))}}function iw(t,e,n){t.setAttribute(e,"style",n)}function Dv(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bv(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&td(t,e,r),o!==null&&Dv(t,e,o),i!==null&&iw(t,e,i)}function sw(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var Ev="ng-template";function aw(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&sw(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(gf(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function gf(t){return t.type===4&&t.value!==Ev}function cw(t,e,n){let r=t.type===4&&!n?Ev:t.value;return e===r}function lw(t,e,n){let r=4,o=t.attrs,i=o!==null?fw(o):0,s=!1;for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="number"){if(!s&&!kt(r)&&!kt(l))return!1;if(s&&kt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!cw(t,l,n)||l===""&&e.length===1){if(kt(r))return!1;s=!0}}else if(r&8){if(o===null||!aw(t,o,l,n)){if(kt(r))return!1;s=!0}}else{let d=e[++c],a=uw(l,o,gf(t),n);if(a===-1){if(kt(r))return!1;s=!0;continue}if(d!==""){let u;if(a>i?u="":u=o[a+1].toLowerCase(),r&2&&d!==u){if(kt(r))return!1;s=!0}}}}return kt(r)||s}function kt(t){return(t&1)===0}function uw(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let c=e[++o];for(;typeof c=="string";)c=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return pw(e,t)}function Sv(t,e,n=!1){for(let r=0;r<e.length;r++)if(lw(t,e[r],n))return!0;return!1}function dw(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function fw(t){for(let e=0;e<t.length;e++){let n=t[e];if(rS(n))return e}return t.length}function pw(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function hw(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function Ig(t,e){return t?":not("+e.trim()+")":e}function mw(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];o+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!kt(s)&&(e+=Ig(i,o),o=""),r=s,i=i||!kt(r);n++}return o!==""&&(e+=Ig(i,o)),e}function gw(t){return t.map(mw).join(",")}function yw(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!kt(o))break;o=i}r++}return{attrs:e,classes:n}}var Bn={};function xe(t=1){wv(Ue(),te(),oo()+t,!1)}function wv(t,e,n,r){if(!r)if((e[P]&3)===3){let i=t.preOrderCheckHooks;i!==null&&ua(e,i,n)}else{let i=t.preOrderHooks;i!==null&&da(e,i,0,n)}ar(n)}function A(t,e=$.Default){let n=te();if(n===null)return F(t,e);let r=tt();return Gy(r,n,ze(t),e)}function Iv(){let t="invalid";throw new Error(t)}function xv(t,e,n,r,o,i){let s=W(null);try{let c=null;o&Pn.SignalBased&&(c=e[r][Ge]),c!==null&&c.transformFn!==void 0&&(i=c.transformFn(i)),o&Pn.HasDecoratorInputTransform&&(i=t.inputTransforms[r].call(e,i)),t.setInput!==null?t.setInput(e,c,i,n,r):gy(e,c,r,i)}finally{W(s)}}function vw(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)ar(~o);else{let i=o,s=n[++r],c=n[++r];zE(s,i);let l=e[i];c(2,l)}}}finally{ar(-1)}}function ec(t,e,n,r,o,i,s,c,l,d,a){let u=e.blueprint.slice();return u[ln]=o,u[P]=r|4|128|8|64|1024,(d!==null||t&&t[P]&2048)&&(u[P]|=2048),by(u),u[je]=u[no]=t,u[vt]=n,u[on]=s||t&&t[on],u[Ie]=c||t&&t[Ie],u[Zr]=l||t&&t[Zr]||null,u[et]=i,u[Wa]=xS(),u[ni]=a,u[py]=d,u[_t]=e.type==2?t[_t]:u,u}function pi(t,e,n,r,o){let i=t.data[e];if(i===null)i=_w(t,e,n,r,o),GE()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=jE();i.injectorIndex=s===null?-1:s.injectorIndex}return ui(i,!0),i}function _w(t,e,n,r,o){let i=Iy(),s=xy(),c=s?i:i&&i.parent,l=t.data[e]=ww(t,c,n,e,r,o);return t.firstChild===null&&(t.firstChild=l),i!==null&&(s?i.child==null&&l.parent!==null&&(i.child=l):i.next===null&&(i.next=l,l.prev=i)),l}function Tv(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function Mv(t,e,n,r,o){let i=oo(),s=r&2;try{ar(-1),s&&e.length>We&&wv(t,e,We,!1),zt(s?2:0,o),n(r,o)}finally{ar(i),zt(s?3:1,o)}}function Av(t,e,n){if(my(e)){let r=W(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let c=t.data[s];if(c.contentQueries){let l=n[s];c.contentQueries(1,l,s)}}}finally{W(r)}}}function Rv(t,e,n){Sy()&&(Rw(t,e,n,Dt(n,e)),(n.flags&64)===64&&Lv(t,e,n))}function Nv(t,e,n=Dt){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],c=s===-1?n(e,t):t[s];t[o++]=c}}}function Pv(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=yf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function yf(t,e,n,r,o,i,s,c,l,d,a){let u=We+r,f=u+o,p=Cw(u,f),h=typeof d=="function"?d():d;return p[j]={type:t,blueprint:p,template:n,queries:null,viewQuery:c,declTNode:e,data:p.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1,ssrId:a}}function Cw(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Bn);return n}function Dw(t,e,n,r){let i=r.get(PS,av)||n===Zt.ShadowDom,s=t.selectRootElement(e,i);return bw(s),s}function bw(t){Ew(t)}var Ew=()=>null;function Sw(t,e,n,r){let o=Uv(e);o.push(n),t.firstCreatePass&&Hv(t).push(r,o.length-1)}function ww(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,c=0;return wy()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xg(t,e,n,r,o){for(let i in e){if(!e.hasOwnProperty(i))continue;let s=e[i];if(s===void 0)continue;r??={};let c,l=Pn.None;Array.isArray(s)?(c=s[0],l=s[1]):c=s;let d=i;if(o!==null){if(!o.hasOwnProperty(i))continue;d=o[i]}t===0?Tg(r,n,d,c,l):Tg(r,n,d,c)}return r}function Tg(t,e,n,r,o){let i;t.hasOwnProperty(n)?(i=t[n]).push(e,r):i=t[n]=[e,r],o!==void 0&&i.push(o)}function Iw(t,e,n){let r=e.directiveStart,o=e.directiveEnd,i=t.data,s=e.attrs,c=[],l=null,d=null;for(let a=r;a<o;a++){let u=i[a],f=n?n.get(u):null,p=f?f.inputs:null,h=f?f.outputs:null;l=xg(0,u.inputs,a,l,p),d=xg(1,u.outputs,a,d,h);let y=l!==null&&s!==null&&!gf(e)?Hw(l,a,s):null;c.push(y)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=l,e.outputs=d}function xw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kv(t,e,n,r,o,i,s,c){let l=Dt(e,n),d=e.inputs,a;!c&&d!=null&&(a=d[r])?(vf(t,n,a,r,o),qa(e)&&Tw(n,e.index)):e.type&3?(r=xw(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(l,r,o)):e.type&12}function Tw(t,e){let n=Fn(e,t);n[P]&16||(n[P]|=64)}function Ov(t,e,n,r){if(Sy()){let o=r===null?null:{"":-1},i=Pw(t,n),s,c;i===null?s=c=null:[s,c]=i,s!==null&&Fv(t,e,n,s,o,c),o&&kw(n,r,o)}n.mergedAttrs=oi(n.mergedAttrs,n.attrs)}function Fv(t,e,n,r,o,i){for(let d=0;d<r.length;d++)od(xa(n,e),t,r[d].type);Fw(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let a=r[d];a.providersResolver&&a.providersResolver(a)}let s=!1,c=!1,l=Tv(t,e,r.length,null);for(let d=0;d<r.length;d++){let a=r[d];n.mergedAttrs=oi(n.mergedAttrs,a.hostAttrs),Lw(t,n,e,l,a),Ow(l,a,o),a.contentQueries!==null&&(n.flags|=4),(a.hostBindings!==null||a.hostAttrs!==null||a.hostVars!==0)&&(n.flags|=64);let u=a.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(u.ngOnChanges||u.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),l++}Iw(t,n,i)}function Mw(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;Aw(s)!=c&&s.push(c),s.push(n,r,i)}}function Aw(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Rw(t,e,n,r){let o=n.directiveStart,i=n.directiveEnd;qa(n)&&Vw(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||xa(n,e),ur(r,e);let s=n.initialInputs;for(let c=o;c<i;c++){let l=t.data[c],d=lr(e,t,c,n);if(ur(d,e),s!==null&&Uw(e,c-o,d,l,n,s),Nn(l)){let a=Fn(n.index,e);a[vt]=lr(e,t,c,n)}}}function Lv(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=WE();try{ar(i);for(let c=r;c<o;c++){let l=t.data[c],d=e[c];ed(c),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Nw(l,d)}}finally{ar(-1),ed(s)}}function Nw(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Pw(t,e){let n=t.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(Sv(e,s.selectors,!1))if(r||(r=[]),Nn(s))if(s.findHostDirectiveDefs!==null){let c=[];o=o||new Map,s.findHostDirectiveDefs(s,c,o),r.unshift(...c,s);let l=c.length;gd(t,e,l)}else r.unshift(s),gd(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function gd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kw(t,e,n){if(e){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new I(-301,!1);r.push(e[o],i)}}}function Ow(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Nn(e)&&(n[""]=t)}}function Fw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Lw(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=rr(o.type,!0)),s=new cr(i,Nn(o),A);t.blueprint[r]=s,n[r]=s,Mw(t,e,r,Tv(t,n,o.hostVars,Bn),o)}function Vv(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Vw(t,e,n){let r=Dt(e,t),o=Pv(n),i=t[on].rendererFactory,s=tc(t,ec(t,o,null,Vv(n),r,e,null,i.createRenderer(r,n),null,null,null));t[e.index]=s}function Bw(t,e,n,r,o,i){let s=Dt(t,e);jw(e[Ie],s,i,t.value,n,r,o)}function jw(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let c=s==null?Ha(i):s(i,r||"",o);t.setAttribute(e,o,c,n)}}function Uw(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let c=0;c<s.length;){let l=s[c++],d=s[c++],a=s[c++],u=s[c++];xv(r,n,l,d,a,u)}}function Hw(t,e,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){r===null&&(r=[]);let s=t[i];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(i,s[c+1],s[c+2],n[o+1]);break}}o+=2}return r}function Bv(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function jv(t,e){let n=t.contentQueries;if(n!==null){let r=W(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let c=t.data[s];Yd(i),c.contentQueries(2,e[s],s)}}}finally{W(r)}}}function tc(t,e){return t[ri]?t[ug][Ot]=e:t[ri]=e,t[ug]=e,e}function yd(t,e,n){Yd(0);let r=W(null);try{e(t,n)}finally{W(r)}}function Uv(t){return t[_a]??=[]}function Hv(t){return t.cleanup??=[]}function $v(t,e){let n=t[Zr],r=n?n.get(Yt,null):null;r&&r.handleError(e)}function vf(t,e,n,r,o){for(let i=0;i<n.length;){let s=n[i++],c=n[i++],l=n[i++],d=e[s],a=t.data[s];xv(a,d,r,c,l,o)}}function $w(t,e,n){let r=Cy(e,t);GS(t[Ie],r,n)}function Gw(t,e){let n=Fn(e,t),r=n[j];zw(r,n);let o=n[ln];o!==null&&n[ni]===null&&(n[ni]=lf(o,n[Zr])),_f(r,n,n[vt])}function zw(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function _f(t,e,n){Zd(e);try{let r=t.viewQuery;r!==null&&yd(1,r,n);let o=t.template;o!==null&&Mv(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[sn]?.finishViewCreation(t),t.staticContentQueries&&jv(t,e),t.staticViewQueries&&yd(2,t.viewQuery,n);let i=t.components;i!==null&&Ww(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,Qd()}}function Ww(t,e){for(let n=0;n<e.length;n++)Gw(t,e[n])}function Cf(t,e,n,r){let o=W(null);try{let i=e.tView,c=t[P]&4096?4096:16,l=ec(t,i,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];l[or]=d;let a=t[sn];return a!==null&&(l[sn]=a.createEmbeddedView(i)),_f(i,l,n),l}finally{W(o)}}function qw(t,e){let n=Xe+e;if(n<t.length)return t[n]}function Pa(t,e){return!e||e.firstChild===null||ev(t)}function Df(t,e,n,r=!0){let o=e[j];if(YS(o,e,t,n),r){let s=md(n,t),c=e[Ie],l=yv(c,t[ir]);l!==null&&WS(o,t[et],c,e,l,s)}let i=e[ni];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Yw(t,e){let n=Ra(t,e);return n!==void 0&&pf(n[j],n),n}function ka(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(qt(i)),un(i)&&Zw(i,r);let s=n.type;if(s&8)ka(t,e,n.child,r);else if(s&32){let c=df(n,e),l;for(;l=c();)r.push(l)}else if(s&16){let c=_v(e,n);if(Array.isArray(c))r.push(...c);else{let l=sr(e[_t]);ka(l[j],l,c,r,!0)}}n=o?n.projectionNext:n.next}return r}function Zw(t,e){for(let n=Xe;n<t.length;n++){let r=t[n],o=r[j].firstChild;o!==null&&ka(r[j],r,o,e)}t[ir]!==t[ln]&&e.push(t[ir])}var Gv=[];function Qw(t){return t[ct]??Kw(t)}function Kw(t){let e=Gv.pop()??Object.create(Xw);return e.lView=t,e}function Jw(t){t.lView[ct]!==t&&(t.lView=null,Gv.push(t))}var Xw=N(C({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Za(t.lView)},consumerOnSignalRead(){this.lView[ct]=this}});function eI(t){let e=t[ct]??Object.create(tI);return e.lView=t,e}var tI=N(C({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=sr(t.lView);for(;e&&!zv(e[j]);)e=sr(e);e&&qd(e)},consumerOnSignalRead(){this.lView[ct]=this}});function zv(t){return t.type!==2}function Wv(t){if(t[Ca]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ca])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[P]&8192)}}var nI=100;function qv(t,e=!0,n=0){let o=t[on].rendererFactory,i=!1;i||o.begin?.();try{rI(t,n)}catch(s){throw e&&$v(t,s),s}finally{i||o.end?.()}}function rI(t,e){let n=My();try{fg(!0),vd(t,e);let r=0;for(;Ya(t);){if(r===nI)throw new I(103,!1);r++,vd(t,1)}}finally{fg(n)}}function oI(t,e,n,r){let o=e[P];if((o&256)===256)return;let i=!1,s=!1;Zd(e);let c=!0,l=null,d=null;i||(zv(t)?(d=Qw(e),l=Ns(d)):Em()===null?(c=!1,d=eI(e),l=Ns(d)):e[ct]&&(pu(e[ct]),e[ct]=null));try{by(e),HE(t.bindingStartIndex),n!==null&&Mv(t,e,n,2,r);let a=(o&3)===3;if(!i)if(a){let p=t.preOrderCheckHooks;p!==null&&ua(e,p,null)}else{let p=t.preOrderHooks;p!==null&&da(e,p,0,null),Ou(e,0)}if(s||iI(e),Wv(e),Yv(e,0),t.contentQueries!==null&&jv(t,e),!i)if(a){let p=t.contentCheckHooks;p!==null&&ua(e,p)}else{let p=t.contentHooks;p!==null&&da(e,p,1),Ou(e,1)}vw(t,e);let u=t.components;u!==null&&Qv(e,u,0);let f=t.viewQuery;if(f!==null&&yd(2,f,r),!i)if(a){let p=t.viewCheckHooks;p!==null&&ua(e,p)}else{let p=t.viewHooks;p!==null&&da(e,p,2),Ou(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ku]){for(let p of e[ku])p();e[ku]=null}i||(e[P]&=-73)}catch(a){throw i||Za(e),a}finally{d!==null&&(du(d,l),c&&Jw(d)),Qd()}}function Yv(t,e){for(let n=rv(t);n!==null;n=ov(n))for(let r=Xe;r<n.length;r++){let o=n[r];Zv(o,e)}}function iI(t){for(let e=rv(t);e!==null;e=ov(e)){if(!(e[P]&ba.HasTransplantedViews))continue;let n=e[Qr];for(let r=0;r<n.length;r++){let o=n[r];qd(o)}}}function sI(t,e,n){let r=Fn(e,t);Zv(r,n)}function Zv(t,e){Wd(t)&&vd(t,e)}function vd(t,e){let r=t[j],o=t[P],i=t[ct],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&fu(i)),s||=!1,i&&(i.dirty=!1),t[P]&=-9217,s)oI(r,t,r.template,t[vt]);else if(o&8192){Wv(t),Yv(t,1);let c=r.components;c!==null&&Qv(t,c,1)}}function Qv(t,e,n){for(let r=0;r<e.length;r++)sI(t,e[r],n)}function bf(t,e){let n=My()?64:1088;for(t[on].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let r=sr(t);if(Qu(t)&&!r)return t;t=r}return null}var dr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[j];return ka(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[vt]}get dirty(){return!!(this._lView[P]&9280)||!!this._lView[ct]?.dirty}set context(e){this._lView[vt]=e}get destroyed(){return(this._lView[P]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[je];if(un(e)){let n=e[Da],r=n?n.indexOf(this):-1;r>-1&&(Ra(e,r),ya(n,r))}this._attachedToViewContainer=!1}pf(this._lView[j],this._lView)}onDestroy(e){Ey(this._lView,e)}markForCheck(){bf(this._cdRefInjectingView||this._lView,4)}markForRefresh(){qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[P]&=-129}reattach(){Ju(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,qv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qu(this._lView),n=this._lView[or];n!==null&&!e&&ff(n,this._lView),pv(this._lView[j],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let n=Qu(this._lView),r=this._lView[or];r!==null&&!n&&hv(r,this._lView),Ju(this._lView)}},ii=(()=>{class t{static __NG_ELEMENT_ID__=lI}return t})(),aI=ii,cI=class extends aI{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let o=Cf(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new dr(o)}};function lI(){return Ef(tt(),te())}function Ef(t,e){return t.type&4?new cI(e,t,ao(t,e)):null}var _d=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Je(e)}.`)}},Jr=class{static NULL=new _d},kn=class{},si=class{},Cd=class{},Oa=class{},Xr=class{},gr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>uI()}return t})();function uI(){let t=te(),e=tt(),n=Fn(e.index,t);return(An(n)?n:t)[Ie]}var dI=(()=>{class t{static \u0275prov=w({token:t,providedIn:"root",factory:()=>null})}return t})();function Dd(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")i=c;else if(i==1)o=og(o,c);else if(i==2){let l=c,d=e[++s];r=og(r,l+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}var Fa=class extends Jr{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Rn(e);return new eo(n,this.ngModule)}};function Mg(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let o=t[r];if(o===void 0)continue;let i=Array.isArray(o),s=i?o[0]:o,c=i?o[1]:Pn.None;e?n.push({propName:s,templateName:r,isSignal:(c&Pn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function fI(t){let e=t.toLowerCase();return e==="svg"?AE:e==="math"?RE:null}var eo=class extends Oa{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Mg(e.inputs,!0);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Mg(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=gw(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){let i=W(null);try{o=o||this.ngModule;let s=o instanceof lt?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new nd(e,s):e,l=c.get(Xr,null);if(l===null)throw new I(407,!1);let d=c.get(dI,null),a=c.get(Kr,null),u={rendererFactory:l,sanitizer:d,changeDetectionScheduler:a},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",h=r?Dw(f,r,this.componentDef.encapsulation,c):fv(f,p,fI(p)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let m=null;h!==null&&(m=lf(h,c,!0));let b=yf(0,null,null,1,0,null,null,null,null,null,null),x=ec(null,b,null,y,null,null,u,f,c,null,m);Zd(x);let L,ce,fe=null;try{let re=this.componentDef,Me,J=null;re.findHostDirectiveDefs?(Me=[],J=new Map,re.findHostDirectiveDefs(re,Me,J),Me.push(re)):Me=[re];let Tr=pI(x,h);fe=hI(Tr,h,re,Me,x,u,f),ce=zd(b,We),h&&yI(f,re,h,r),n!==void 0&&vI(ce,this.ngContentSelectors,n),L=gI(fe,re,Me,J,x,[_I]),_f(b,x,null)}catch(re){throw fe!==null&&fd(fe),fd(x),re}finally{Qd()}return new bd(this.componentType,L,ao(ce,x),x,ce)}finally{W(i)}}},bd=class extends Cd{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new dr(o,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView;vf(i[j],i,o,e,n),this.previousInputValues.set(e,n);let s=Fn(this._tNode.index,i);bf(s,1)}}get injector(){return new nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function pI(t,e){let n=t[j],r=We;return t[r]=e,pi(n,r,2,"#host",null)}function hI(t,e,n,r,o,i,s){let c=o[j];mI(r,t,e,s);let l=null;e!==null&&(l=lf(e,o[Zr]));let d=i.rendererFactory.createRenderer(e,n),a=ec(o,Pv(n),null,Vv(n),o[t.index],t,i,d,null,null,l);return c.firstCreatePass&&gd(c,t,r.length-1),tc(o,a),o[t.index]=a}function mI(t,e,n,r){for(let o of t)e.mergedAttrs=oi(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(Dd(e,e.mergedAttrs,!0),n!==null&&bv(r,n,e))}function gI(t,e,n,r,o,i){let s=tt(),c=o[j],l=Dt(s,o);Fv(c,o,s,n,null,r);for(let a=0;a<n.length;a++){let u=s.directiveStart+a,f=lr(o,c,u,s);ur(f,o)}Lv(c,o,s),l&&ur(l,o);let d=lr(o,c,s.directiveStart+s.componentOffset,s);if(t[vt]=o[vt]=d,i!==null)for(let a of i)a(d,e);return Av(c,s,o),d}function yI(t,e,n,r){if(r)td(t,n,["ng-version","19.0.0"]);else{let{attrs:o,classes:i}=yw(e.selectors[0]);o&&td(t,n,o),i&&i.length>0&&Dv(t,n,i.join(" "))}}function vI(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}function _I(){let t=tt();ef(te()[j],t)}var Ed=class extends kn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fa(this);constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n;let i=oy(e);this._bootstrapComponents=dv(i.bootstrap),this._r3Injector=qy(e,n,[{provide:kn,useValue:this},{provide:Jr,useValue:this.componentFactoryResolver},...r],Je(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Sd=class extends si{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ed(this.moduleType,e,[])}};var La=class extends kn{injector;componentFactoryResolver=new Fa(this);instance=null;constructor(e){super();let n=new ti([...e.providers,{provide:kn,useValue:this},{provide:Jr,useValue:this.componentFactoryResolver}],e.parent||$d(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function nc(t,e,n=null){return new La({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var CI=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=cy(!1,n.type),o=r.length>0?nc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=w({token:t,providedIn:"environment",factory:()=>new t(F(lt))})}return t})();function Ce(t){return ci(()=>{let e=Jv(t),n=N(C({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(CI).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zt.Emulated,styles:t.styles||at,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&mr("NgStandalone"),Xv(n);let r=t.dependencies;return n.directiveDefs=Rg(r,!1),n.pipeDefs=Rg(r,!0),n.id=EI(n),n})}function DI(t){return Rn(t)||iy(t)}function bI(t){return t!==null}function jn(t){return ci(()=>({type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ag(t,e){if(t==null)return Wr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,c=Pn.None;Array.isArray(o)?(c=o[0],i=o[1],s=o[2]??i):(i=o,s=o),e?(n[i]=c!==Pn.None?[r,c]:r,e[i]=s):n[i]=r}return n}function qe(t){return ci(()=>{let e=Jv(t);return Xv(e),e})}function Kv(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Wr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ag(t.inputs,e),outputs:Ag(t.outputs),debugInfo:null}}function Xv(t){t.features?.forEach(e=>e(t))}function Rg(t,e){if(!t)return null;let n=e?sy:DI;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bI)}function EI(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let o of n)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var rc=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function SI(t){return typeof t=="function"&&t[Ge]!==void 0}var e_=new M("");function Un(t){return!!t&&typeof t.then=="function"}function Sf(t){return!!t&&typeof t.subscribe=="function"}var oc=new M("");var t_=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=E(oc,{optional:!0})??[];injector=E(Ft);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Ct(this.injector,o);if(Un(i))n.push(i);else if(Sf(i)){let s=new Promise((c,l)=>{i.subscribe({complete:c,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wI=(()=>{class t{static \u0275prov=w({token:t,providedIn:"root",factory:()=>new wd})}return t})(),wd=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},ic=new M("");function II(){Rm(()=>{throw new I(600,!1)})}function xI(t){return t.isBoundToModule}var TI=10;function MI(t,e,n){try{let r=n();return Un(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var yr=(()=>{class t{_bootstrapListeners=[];_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(DS);afterRenderManager=E(cv);zonelessEnabled=E(Ka);rootEffectScheduler=E(wI);dirtyFlags=0;deferredDirtyFlags=0;externalTestViews=new Set;afterTick=new he;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(so).hasPendingTasks.pipe(q(n=>!n));whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=E(lt);get injector(){return this._injector}bootstrap(n,r){let o=n instanceof Oa;if(!this._injector.get(t_).done){let f=!o&&ay(n),p=!1;throw new I(405,p)}let s;o?s=n:s=this._injector.get(Jr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let c=xI(s)?void 0:this._injector.get(kn),l=r||s.selector,d=s.create(Ft.NULL,[],l,c),a=d.location.nativeElement,u=d.injector.get(e_,null);return u?.registerApplication(a),d.onDestroy(()=>{this.detachView(d.hostView),pa(this.components,d),u?.unregisterApplication(a)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let n=W(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,W(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Xr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<TI;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o,notifyErrorHandler:i}of this.allViews)AI(o,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ya(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;pa(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(ic,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>pa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new I(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pa(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AI(t,e,n,r){if(!n&&!Ya(t))return;qv(t,e,n&&!r?0:1)}var BL=new RegExp(`^(\\d+)*(${NS}|${RS})*(.*)`);var RI=()=>null;function Va(t,e){return RI(t,e)}var co=(()=>{class t{static __NG_ELEMENT_ID__=NI}return t})();function NI(){let t=tt();return r_(t,te())}var PI=co,n_=class extends PI{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ao(this._hostTNode,this._hostLView)}get injector(){return new nr(this._hostTNode,this._hostLView)}get parentInjector(){let e=tf(this._hostTNode,this._hostLView);if(Vy(e)){let n=wa(e,this._hostLView),r=Sa(e),o=n[j].data[r+8];return new nr(o,n)}else return new nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ng(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Va(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(c,o,Pa(this._hostTNode,s)),c}createComponent(e,n,r,o,i){let s=e&&!IE(e),c;if(s)c=n;else{let h=n||{};c=h.index,r=h.injector,o=h.projectableNodes,i=h.environmentInjector||h.ngModuleRef}let l=s?e:new eo(Rn(e)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let y=(s?d:this.parentInjector).get(lt,null);y&&(i=y)}let a=Rn(l.componentType??{}),u=Va(this._lContainer,a?.id??null),f=u?.firstChild??null,p=l.create(d,o,f,i);return this.insertImpl(p.hostView,c,Pa(this._hostTNode,u)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(NE(o)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let l=o[je],d=new n_(l,l[et],l[je]);d.detach(d.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Df(s,o,i,r),e.attachToViewContainerRef(),ty(Bu(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ng(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ra(this._lContainer,n);r&&(ya(Bu(this._lContainer),n),pf(r[j],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ra(this._lContainer,n);return r&&ya(Bu(this._lContainer),n)!=null?new dr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ng(t){return t[Da]}function Bu(t){return t[Da]||(t[Da]=[])}function r_(t,e){let n,r=e[t.index];return un(r)?n=r:(n=Bv(r,e,null,t),e[t.index]=n,tc(e,n)),OI(n,e,t,r),new n_(n,t,e)}function kI(t,e){let n=t[Ie],r=n.createComment(""),o=Dt(e,t),i=yv(n,o);return Na(n,i,r,JS(n,o),!1),r}var OI=VI,FI=()=>!1;function LI(t,e,n){return FI(t,e,n)}function VI(t,e,n,r){if(t[ir])return;let o;n.type&8?o=qt(r):o=kI(e,n),t[ir]=o}var Id=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},xd=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),c=this.queries[s.indexInDeclarationView];o.push(c.clone())}return new t(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)s_(e,n).matches!==null&&this.queries[n].setDirty()}},Td=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=zI(e):this.predicate=e}},Md=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ad=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,n,BI(n,i)),this.matchTNodeWithReadOption(e,n,fa(n,e,i,!1,!1))}else r===ii?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,fa(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Lt||o===co||o===ii&&n.type&4)this.addMatch(n.index,-2);else{let i=fa(n,e,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function BI(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function jI(t,e){return t.type&11?ao(t,e):t.type&4?Ef(t,e):null}function UI(t,e,n,r){return n===-1?jI(e,t):n===-2?HI(t,e,r):lr(t,t[j],n,e)}function HI(t,e,n){if(n===Lt)return ao(e,t);if(n===ii)return Ef(e,t);if(n===co)return r_(e,t)}function o_(t,e,n,r){let o=e[sn].queries[r];if(o.matches===null){let i=t.data,s=n.matches,c=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)c.push(null);else{let a=i[d];c.push(UI(e,a,s[l+1],n.metadata.read))}}o.matches=c}return o.matches}function Rd(t,e,n,r){let o=t.queries.getByIndex(n),i=o.matches;if(i!==null){let s=o_(t,e,o,n);for(let c=0;c<i.length;c+=2){let l=i[c];if(l>0)r.push(s[c/2]);else{let d=i[c+1],a=e[-l];for(let u=Xe;u<a.length;u++){let f=a[u];f[or]===f[je]&&Rd(f[j],f,d,r)}if(a[Qr]!==null){let u=a[Qr];for(let f=0;f<u.length;f++){let p=u[f];Rd(p[j],p,d,r)}}}}}return r}function i_(t,e){return t[sn].queries[e].queryList}function $I(t,e,n){let r=new dd((n&4)===4);return Sw(t,e,r,r.destroy),(e[sn]??=new xd).queries.push(new Id(r))-1}function GI(t,e,n){let r=Ue();return r.firstCreatePass&&(WI(r,new Td(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),$I(r,te(),e)}function zI(t){return t.split(",").map(e=>e.trim())}function WI(t,e,n){t.queries===null&&(t.queries=new Md),t.queries.track(new Ad(e,n))}function s_(t,e){return t.queries.getByIndex(e)}function qI(t,e){let n=t[j],r=s_(n,e);return r.crossesNgTemplate?Rd(n,t,e,[]):o_(n,t,r,e)}function Qt(t,e){mr("NgSignals");let n=Nm(t),r=n[Ge];return e?.equal&&(r.equal=e.equal),n.set=o=>Os(r,o),n.update=o=>Pm(r,o),n.asReadonly=YI.bind(n),n}function YI(){let t=this[Ge];if(t.readonlyFn===void 0){let e=()=>this();e[Ge]=t,t.readonlyFn=e}return t.readonlyFn}function a_(t){return SI(t)&&typeof t.set=="function"}function c_(t,e,n){let r,o=hu(()=>{r._dirtyCounter();let i=JI(r,t);if(e&&i===void 0)throw new I(-951,!1);return i});return r=o[Ge],r._dirtyCounter=Qt(0),r._flatValue=void 0,o}function ZI(t){return c_(!0,!1,t)}function QI(t){return c_(!0,!0,t)}function KI(t,e){let n=t[Ge];n._lView=te(),n._queryIndex=e,n._queryList=i_(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function JI(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[P]&4)return e?void 0:at;let o=i_(n,r),i=qI(n,r);return o.reset(i,SS),e?o.first:o._changesDetected||t._flatValue===void 0?t._flatValue=o.toArray():t._flatValue}function Pg(t,e){return ZI(e)}function XI(t,e){return QI(e)}var l_=(Pg.required=XI,Pg);function ex(t){return Object.getPrototypeOf(t.prototype).constructor}function fn(t){let e=ex(t.type),n=!0,r=[t];for(;e;){let o;if(Nn(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=sa(t.inputs),s.inputTransforms=sa(t.inputTransforms),s.declaredInputs=sa(t.declaredInputs),s.outputs=sa(t.outputs);let c=o.hostBindings;c&&ix(t,c);let l=o.viewQuery,d=o.contentQueries;if(l&&rx(t,l),d&&ox(t,d),tx(t,o),$b(t.outputs,o.outputs),Nn(o)&&o.data.animation){let a=t.data;a.animation=(a.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let c=i[s];c&&c.ngInherit&&c(t),c===fn&&(n=!1)}}e=Object.getPrototypeOf(e)}nx(r)}function tx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=e.inputTransforms[o]}}}function nx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=oi(o.hostAttrs,n=oi(n,o.hostAttrs))}}function sa(t){return t===Wr?{}:t===at?[]:t}function rx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function ox(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function ix(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function u_(t,e,n){return t[e]=n}function cn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function kg(t,e,n,r){let o=cn(t,e,n);return cn(t,e+1,r)||o}function sx(t,e,n,r,o,i){let s=kg(t,e,n,r);return kg(t,e+2,o,i)||s}function ax(t){return(t.flags&32)===32}function cx(t,e,n,r,o,i,s,c,l){let d=e.consts,a=pi(e,t,4,s||null,c||null);Ov(e,n,a,Ea(d,l)),ef(e,a);let u=a.tView=yf(2,a,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,a),u.queries=e.queries.embeddedTView(a)),a}function d_(t,e,n,r,o,i,s,c,l,d){let a=n+We,u=e.firstCreatePass?cx(a,e,t,r,o,i,s,c,l):e.data[a];ui(u,!1);let f=lx(e,t,u,n);Jd()&&hf(e,t,f,u),ur(f,t);let p=Bv(f,t,f,u);return t[a]=p,tc(t,p),LI(p,u,t),Gd(u)&&Rv(e,t,u),l!=null&&Nv(t,u,d),u}function wf(t,e,n,r,o,i,s,c){let l=te(),d=Ue(),a=Ea(d.consts,i);return d_(l,d,t,e,n,r,o,a,s,c),wf}var lx=ux;function ux(t,e,n,r){return Xd(!0),e[Ie].createComment("")}function sc(t,e,n,r){let o=te(),i=di();if(cn(o,i,e)){let s=Ue(),c=Kd();Bw(c,o,t,e,n,r)}return sc}function dx(t,e,n,r){return cn(t,di(),n)?e+Ha(n)+r:Bn}function aa(t,e){return t<<17|e<<2}function fr(t){return t>>17&32767}function fx(t){return(t&2)==2}function px(t,e){return t&131071|e<<17}function Nd(t){return t|2}function to(t){return(t&131068)>>2}function ju(t,e){return t&-131069|e<<2}function hx(t){return(t&1)===1}function Pd(t){return t|1}function mx(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,c=fr(s),l=to(s);t[r]=n;let d=!1,a;if(Array.isArray(n)){let u=n;a=u[1],(a===null||li(u,a)>0)&&(d=!0)}else a=n;if(o)if(l!==0){let f=fr(t[c+1]);t[r+1]=aa(f,c),f!==0&&(t[f+1]=ju(t[f+1],r)),t[c+1]=px(t[c+1],r)}else t[r+1]=aa(c,0),c!==0&&(t[c+1]=ju(t[c+1],r)),c=r;else t[r+1]=aa(l,0),c===0?c=r:t[l+1]=ju(t[l+1],r),l=r;d&&(t[r+1]=Nd(t[r+1])),Og(t,a,r,!0),Og(t,a,r,!1),gx(e,a,t,r,i),s=aa(c,l),i?e.classBindings=s:e.styleBindings=s}function gx(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&li(i,e)>=0&&(n[r+1]=Pd(n[r+1]))}function Og(t,e,n,r){let o=t[n+1],i=e===null,s=r?fr(o):to(o),c=!1;for(;s!==0&&(c===!1||i);){let l=t[s],d=t[s+1];yx(l,e)&&(c=!0,t[s+1]=r?Pd(d):Nd(d)),s=r?fr(d):to(d)}c&&(t[n+1]=r?Nd(o):Pd(o))}function yx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?li(t,e)>=0:!1}function nt(t,e,n){let r=te(),o=di();if(cn(r,o,e)){let i=Ue(),s=Kd();kv(i,s,r,t,e,r[Ie],n,!1)}return nt}function Fg(t,e,n,r,o){let i=e.inputs,s=o?"class":"style";vf(t,n,i[s],s,r)}function ac(t,e){return vx(t,e,null,!0),ac}function vx(t,e,n,r){let o=te(),i=Ue(),s=$E(2);if(i.firstUpdatePass&&Cx(i,t,s,r),e!==Bn&&cn(o,s,e)){let c=i.data[oo()];wx(i,c,o,o[Ie],t,o[s+1]=Ix(e,n),r,s)}}function _x(t,e){return e>=t.expandoStartIndex}function Cx(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[oo()],s=_x(t,n);xx(i,r)&&e===null&&!s&&(e=!1),e=Dx(o,i,e,r),mx(o,i,e,n,s,r)}}function Dx(t,e,n,r){let o=qE(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Uu(null,t,e,n,r),n=ai(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Uu(o,t,e,n,r),i===null){let l=bx(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Uu(null,t,e,l[1],r),l=ai(l,e.attrs,r),Ex(t,e,r,l))}else i=Sx(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function bx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(to(r)!==0)return t[fr(r)]}function Ex(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[fr(o)]=r}function Sx(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=ai(r,s,n)}return ai(r,e.attrs,n)}function Uu(t,e,n,r,o){let i=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(i=e[c],r=ai(r,i.hostAttrs,o),i!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ai(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),fE(t,s,n?!0:e[++i]))}return t===void 0?null:t}function wx(t,e,n,r,o,i,s,c){if(!(e.type&3))return;let l=t.data,d=l[c+1],a=hx(d)?Lg(l,e,n,o,to(d),s):void 0;if(!Ba(a)){Ba(i)||fx(d)&&(i=Lg(l,null,n,o,c,s));let u=Cy(oo(),n);ow(r,s,u,o,i)}}function Lg(t,e,n,r,o,i){let s=e===null,c;for(;o>0;){let l=t[o],d=Array.isArray(l),a=d?l[1]:l,u=a===null,f=n[o+1];f===Bn&&(f=u?at:void 0);let p=u?Nu(f,r):a===r?f:void 0;if(d&&!Ba(p)&&(p=Nu(l,r)),Ba(p)&&(c=p,s))return c;let h=t[o+1];o=s?fr(h):to(h)}if(e!==null){let l=i?e.residualClasses:e.residualStyles;l!=null&&(c=Nu(l,r))}return c}function Ba(t){return t!==void 0}function Ix(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Je(Ja(t)))),t}function xx(t,e){return(t.flags&(e?8:16))!==0}function If(t,e){mr("NgControlFlow");let n=te(),r=di(),o=n[r]!==Bn?n[r]:-1,i=o!==-1?Vg(n,We+o):void 0,s=0;if(cn(n,r,t)){let c=W(null);try{if(i!==void 0&&Yw(i,s),t!==-1){let l=We+t,d=Vg(n,l),a=Tx(n[j],l),u=Va(d,a.tView.ssrId),f=Cf(n,a,e,{dehydratedView:u});Df(d,f,s,Pa(a,u))}}finally{W(c)}}else if(i!==void 0){let c=qw(i,s);c!==void 0&&(c[vt]=e)}}function Vg(t,e){return t[e]}function Tx(t,e){return zd(t,e)}function Mx(t,e,n,r,o,i){let s=e.consts,c=Ea(s,o),l=pi(e,t,2,r,c);return Ov(e,n,l,Ea(s,i)),l.attrs!==null&&Dd(l,l.attrs,!1),l.mergedAttrs!==null&&Dd(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function K(t,e,n,r){let o=te(),i=Ue(),s=We+t,c=o[Ie],l=i.firstCreatePass?Mx(s,i,o,e,n,r):i.data[s],d=Ax(i,o,l,c,e,t);o[s]=d;let a=Gd(l);return ui(l,!0),bv(c,d,l),!ax(l)&&Jd()&&hf(i,o,d,l),OE()===0&&ur(d,o),FE(),a&&(Rv(i,o,l),Av(i,l,o)),r!==null&&Nv(o,l),K}function ne(){let t=tt();xy()?Ty():(t=t.parent,ui(t,!1));let e=t;VE(e)&&BE(),LE();let n=Ue();return n.firstCreatePass&&(ef(n,t),my(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&tS(e)&&Fg(n,e,te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nS(e)&&Fg(n,e,te(),e.stylesWithoutHost,!1),ne}function He(t,e,n,r){return K(t,e,n,r),ne(),He}var Ax=(t,e,n,r,o,i)=>(Xd(!0),fv(r,o,KE()));function lo(){return te()}var ja="en-US";var Rx=ja;function Nx(t){typeof t=="string"&&(Rx=t.toLowerCase().replace(/_/g,"-"))}var Px=(t,e,n)=>{};function Pe(t,e,n,r){let o=te(),i=Ue(),s=tt();return f_(i,o,o[Ie],s,t,e,r),Pe}function kx(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let c=e[_a],l=o[i+2];return c.length>l?c[l]:null}typeof s=="string"&&(i+=2)}return null}function f_(t,e,n,r,o,i,s){let c=Gd(r),d=t.firstCreatePass&&Hv(t),a=e[vt],u=Uv(e),f=!0;if(r.type&3||s){let y=Dt(r,e),m=s?s(y):y,b=u.length,x=s?ce=>s(qt(ce[r.index])):r.index,L=null;if(!s&&c&&(L=kx(t,e,o,r.index)),L!==null){let ce=L.__ngLastListenerFn__||L;ce.__ngNextListenerFn__=i,L.__ngLastListenerFn__=i,f=!1}else{i=jg(r,e,a,i),Px(y,o,i);let ce=n.listen(m,o,i);u.push(i,ce),d&&d.push(o,x,b,b+1)}}else i=jg(r,e,a,i);let p=r.outputs,h;if(f&&p!==null&&(h=p[o])){let y=h.length;if(y)for(let m=0;m<y;m+=2){let b=h[m],x=h[m+1],fe=e[b][x].subscribe(i),re=u.length;u.push(i,fe),d&&d.push(o,r.index,re,-(re+1))}}}function Bg(t,e,n,r){let o=W(null);try{return zt(6,e,n),n(r)!==!1}catch(i){return $v(t,i),!1}finally{zt(7,e,n),W(o)}}function jg(t,e,n,r){return function o(i){if(i===Function)return r;let s=t.componentOffset>-1?Fn(t.index,e):e;bf(s,5);let c=Bg(e,n,r,i),l=o.__ngNextListenerFn__;for(;l;)c=Bg(e,n,l,i)&&c,l=l.__ngNextListenerFn__;return c}}function xf(t=1){return QE(t)}function Ox(t,e){let n=null,r=dw(t);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){n=o;continue}if(r===null?Sv(t,i,!0):hw(r,i))return o}return n}function cc(t){let e=te()[_t][et];if(!e.projection){let n=t?t.length:1,r=e.projection=uE(n,null),o=r.slice(),i=e.child;for(;i!==null;){if(i.type!==128){let s=t?Ox(i,t):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function lc(t,e=0,n,r,o,i){let s=te(),c=Ue(),l=r?t+1:null;l!==null&&d_(s,c,l,r,o,i,null,n);let d=pi(c,We+t,16,null,n||null);d.projection===null&&(d.projection=e),Ty();let u=!s[ni]||wy();s[_t][et].projection[d.projection]===null&&l!==null?Fx(s,c,l):u&&(d.flags&32)!==32&&nw(c,s,d)}function Fx(t,e,n){let r=We+n,o=e.data[r],i=t[r],s=Va(i,o.tView.ssrId),c=Cf(t,o,void 0,{dehydratedView:s});Df(i,c,0,Pa(o,s))}function p_(t,e,n,r){KI(t,GI(e,n,r))}function h_(t=1){Yd(YE()+t)}function Lx(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function uc(t){let e=UE();return Dy(e,We+t)}function Re(t,e=""){let n=te(),r=Ue(),o=t+We,i=r.firstCreatePass?pi(r,o,1,e,null):r.data[o],s=Vx(r,n,i,e,t);n[o]=s,Jd()&&hf(r,n,s,i),ui(i,!1)}var Vx=(t,e,n,r,o)=>(Xd(!0),$S(e[Ie],r));function Tf(t){return uo("",t,""),Tf}function uo(t,e,n){let r=te(),o=dx(r,t,e,n);return o!==Bn&&$w(r,oo(),o),uo}function hi(t,e,n){a_(e)&&(e=e());let r=te(),o=di();if(cn(r,o,e)){let i=Ue(),s=Kd();kv(i,s,r,t,e,r[Ie],n,!1)}return hi}function dc(t,e){let n=a_(t);return n&&t.set(e),n}function mi(t,e){let n=te(),r=Ue(),o=tt();return f_(r,n,n[Ie],o,t,e),mi}function Bx(t,e,n){let r=Ue();if(r.firstCreatePass){let o=Nn(t);kd(n,r.data,r.blueprint,o,!0),kd(e,r.data,r.blueprint,o,!1)}}function kd(t,e,n,r,o){if(t=ze(t),Array.isArray(t))for(let i=0;i<t.length;i++)kd(t[i],e,n,r,o);else{let i=Ue(),s=te(),c=tt(),l=Yr(t)?t:ze(t.provide),d=dy(t),a=c.providerIndexes&1048575,u=c.directiveStart,f=c.providerIndexes>>20;if(Yr(t)||!t.multi){let p=new cr(d,o,A),h=$u(l,e,o?a:a+f,u);h===-1?(od(xa(c,s),i,l),Hu(i,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(p),s.push(p)):(n[h]=p,s[h]=p)}else{let p=$u(l,e,a+f,u),h=$u(l,e,a,a+f),y=p>=0&&n[p],m=h>=0&&n[h];if(o&&!m||!o&&!y){od(xa(c,s),i,l);let b=Hx(o?Ux:jx,n.length,o,r,d);!o&&m&&(n[h].providerFactory=b),Hu(i,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=m_(n[o?h:p],d,!o&&r);Hu(i,t,p>-1?p:h,b)}!o&&r&&m&&n[h].componentProviders++}}}function Hu(t,e,n,r){let o=Yr(e),i=vE(e);if(o||i){let l=(i?ze(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let a=d.indexOf(n);a===-1?d.push(n,[r,l]):d[a+1].push(r,l)}else d.push(n,l)}}}function m_(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $u(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function jx(t,e,n,r){return Od(this.multi,[])}function Ux(t,e,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=lr(n,n[j],this.providerFactory.index,r);i=c.slice(0,s),Od(o,i);for(let l=s;l<c.length;l++)i.push(c[l])}else i=[],Od(o,i);return i}function Od(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Hx(t,e,n,r,o){let i=new cr(t,n,A);return i.multi=[],i.index=e,i.componentProviders=0,m_(i,o,r&&!n),i}function gi(t,e=[]){return n=>{n.providersResolver=(r,o)=>Bx(r,o?o(t):t,e)}}function g_(t,e,n,r,o,i,s){return Gx(te(),Ay(),t,e,n,r,o,i,s)}function y_(t,e){let n=t[e];return n===Bn?void 0:n}function $x(t,e,n,r,o,i){let s=e+n;return cn(t,s,o)?u_(t,s+1,i?r.call(i,o):r(o)):y_(t,s+1)}function Gx(t,e,n,r,o,i,s,c,l){let d=e+n;return sx(t,d,o,i,s,c)?u_(t,d+4,l?r.call(l,o,i,s,c):r(o,i,s,c)):y_(t,d+4)}function fc(t,e){let n=Ue(),r,o=t+We;n.firstCreatePass?(r=zx(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=rr(r.type,!0)),s,c=Ke(A);try{let l=Ia(!1),d=i();return Ia(l),Lx(n,te(),o,d),d}finally{Ke(c)}}function zx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function pc(t,e,n){let r=t+We,o=te(),i=Dy(o,r);return Wx(o,r)?$x(o,Ay(),e,i.transform,n,i):i.transform(n)}function Wx(t,e){return t[j].data[e].pure}var Fd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},hc=(()=>{class t{compileModuleSync(n){return new Sd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=oy(n),i=dv(o.declarations).reduce((s,c)=>{let l=Rn(c);return l&&s.push(new eo(l)),s},[]);return new Fd(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qx=(()=>{class t{zone=E(_e);changeDetectionScheduler=E(Kr);applicationRef=E(yr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yx=new M("",{factory:()=>!1});function v_({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new _e(N(C({},C_()),{scheduleInRootZone:n})),[{provide:_e,useFactory:t},{provide:qr,multi:!0,useFactory:()=>{let r=E(qx,{optional:!0});return()=>r.initialize()}},{provide:qr,multi:!0,useFactory:()=>{let r=E(Zx);return()=>{r.initialize()}}},e===!0?{provide:Zy,useValue:!0}:[],{provide:Qy,useValue:n??Yy}]}function __(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=v_({ngZoneFactory:()=>{let o=C_(t);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&mr("NgZone_CoalesceEvent"),new _e(o)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ga([{provide:Yx,useValue:!0},{provide:Ka,useValue:!1},r])}function C_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Zx=(()=>{class t{subscription=new Ee;initialized=!1;zone=E(_e);pendingTasks=E(so);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qx=(()=>{class t{appRef=E(yr);taskService=E(so);ngZone=E(_e);zonelessEnabled=E(Ka);disableScheduling=E(Zy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ee;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ma):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(Qy,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ld||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?vg:Ky;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ma+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,vg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kx(){return typeof $localize<"u"&&$localize.locale||ja}var Mf=new M("",{providedIn:"root",factory:()=>E(Mf,$.Optional|$.SkipSelf)||Kx()});var Ld=new M("");function ca(t){return!t.moduleRef}function Jx(t){let e=ca(t)?t.r3Injector:t.moduleRef.injector,n=e.get(_e);return n.run(()=>{ca(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Yt,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),ca(t)){let i=()=>e.destroy(),s=t.platformInjector.get(Ld);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ld);s.add(i),t.moduleRef.onDestroy(()=>{pa(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return MI(r,n,()=>{let i=e.get(t_);return i.runInitializers(),i.donePromise.then(()=>{let s=e.get(Mf,ja);if(Nx(s||ja),ca(t)){let c=e.get(yr);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return Xx(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Xx(t,e){let n=t.injector.get(yr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new I(-403,!1);e.push(t)}var ha=null;function eT(t=[],e){return Ft.create({name:e,providers:[{provide:za,useValue:"platform"},{provide:Ld,useValue:new Set([()=>ha=null])},...t]})}function tT(t=[]){if(ha)return ha;let e=eT(t);return ha=e,II(),nT(e),e}function nT(t){let e=t.get(sf,null);Ct(t,()=>{e?.forEach(n=>n())})}var Hn=(()=>{class t{static __NG_ELEMENT_ID__=rT}return t})();function rT(t){return oT(tt(),te(),(t&16)===16)}function oT(t,e,n){if(qa(t)&&!n){let r=Fn(t.index,e);return new dr(r,r)}else if(t.type&175){let r=e[_t];return new dr(r,e)}return null}function D_(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=tT(r),i=[v_({}),{provide:Kr,useExisting:Qx},...n||[]],s=new La({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return Jx({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(e){return Promise.reject(e)}}function yi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function vi(t,e){mr("NgSignals");let n=hu(t);return e?.equal&&(n[Ge].equal=e.equal),n}function Vt(t){let e=W(null);try{return t()}finally{W(e)}}var Ug=class{[Ge];constructor(e){this[Ge]=e}destroy(){this[Ge].destroy()}};function b_(t){let e=Rn(t);if(!e)return null;let n=new eo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var I_=null;function hn(){return I_}function x_(t){I_??=t}var mc=class{};var rt=new M(""),Ff=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:()=>E(aT),providedIn:"platform"})}return t})(),T_=new M(""),aT=(()=>{class t extends Ff{_location;_history;_doc=E(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hn().getBaseHref(this._doc)}onPopState(n){let r=hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Lf(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function E_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function pn(t){return t&&t[0]!=="?"?"?"+t:t}var $n=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:()=>E(Vf),providedIn:"root"})}return t})(),M_=new M(""),Vf=(()=>{class t extends $n{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??E(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Lf(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+pn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+pn(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+pn(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(F(Ff),F(M_,8))};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bf=(()=>{class t extends $n{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Lf(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+pn(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+pn(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(F(Ff),F(M_,8))};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})(),fo=(()=>{class t{_subject=new he;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=uT(E_(S_(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+pn(r))}normalize(n){return t.stripTrailingSlash(lT(this._basePath,S_(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pn(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=pn;static joinWithSlash=Lf;static stripTrailingSlash=E_;static \u0275fac=function(r){return new(r||t)(F($n))};static \u0275prov=w({token:t,factory:()=>cT(),providedIn:"root"})}return t})();function cT(){return new fo(F($n))}function lT(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function S_(t){return t.replace(/\/index.html$/,"")}function uT(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function A_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Af=/\s+/,w_=[],R_=(()=>{class t{_ngEl;_renderer;initialClasses=w_;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Af):w_}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Af):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Af).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||t)(A(Lt),A(gr))};static \u0275dir=qe({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();function dT(t,e){return new I(2100,!1)}var Rf=class{createSubscription(e,n){return Vt(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Vt(()=>e.unsubscribe())}},Nf=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},fT=new Nf,pT=new Rf,yc=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Un(n))return fT;if(Sf(n))return pT;throw dT(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(A(Hn,16))};static \u0275pipe=Kv({name:"async",type:t,pure:!1})}return t})();var Bt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jn({type:t});static \u0275inj=On({})}return t})(),jf="browser",hT="server";function mT(t){return t===jf}function Uf(t){return t===hT}var N_=(()=>{class t{static \u0275prov=w({token:t,providedIn:"root",factory:()=>mT(E(hr))?new Pf(E(rt),window):new kf})}return t})(),Pf=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=gT(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function gT(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}var kf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},gc=class{};var Gf=class extends mc{supportsDOMEvents=!0},zf=class t extends Gf{static makeCurrent(){x_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yT();return n==null?null:vT(n)}resetBaseElement(){_i=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return A_(document.cookie,e)}},_i=null;function yT(){return _i=_i||document.querySelector("base"),_i?_i.getAttribute("href"):null}function vT(t){return new URL(t,document.baseURI).pathname}var _T=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})(),Wf=new M(""),V_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(F(Wf),F(_e))};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})(),vc=class{_doc;constructor(e){this._doc=e}manager},qf="ng-app-id";function P_(t){for(let e of t)e.remove()}function k_(t,e){let n=e.createElement("style");return n.textContent=t,n}function CT(t,e,n){let r=t.head?.querySelectorAll(`style[${qf}="${e}"]`);if(r)for(let o of r)o.textContent&&(o.removeAttribute(qf),n.set(o.textContent,{usage:0,elements:[o]}))}function Yf(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var B_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.isServer=Uf(i),CT(n,r,this.inline),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,k_);r?.forEach(o=>this.addUsage(o,this.external,Yf))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(P_(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])P_(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,k_(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Yf(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(qf,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(F(rt),F(of),F(af,8),F(hr))};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})(),$f={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qf=/%COMP%/g,j_="%COMP%",DT=`_nghost-${j_}`,bT=`_ngcontent-${j_}`,ET=!0,ST=new M("",{providedIn:"root",factory:()=>ET});function wT(t){return bT.replace(Qf,t)}function IT(t){return DT.replace(Qf,t)}function U_(t,e){return e.map(n=>n.replace(Qf,t))}var O_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,c,l,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=c,this.ngZone=l,this.nonce=d,this.platformIsServer=Uf(c),this.defaultRenderer=new Ci(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Zt.ShadowDom&&(r=N(C({},r),{encapsulation:Zt.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof _c?o.applyToHost(n):o instanceof Di&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,a=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(r.encapsulation){case Zt.Emulated:i=new _c(l,d,r,this.appId,a,s,c,u);break;case Zt.ShadowDom:return new Zf(l,d,n,r,s,c,this.nonce,u);default:i=new Di(l,d,r,a,s,c,u);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(r){return new(r||t)(F(V_),F(B_),F(of),F(ST),F(rt),F(hr),F(_e),F(af))};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})(),Ci=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS($f[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(F_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(F_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=$f[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=$f[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(an.DashCase|an.Important)?e.style.setProperty(n,r,o&an.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&an.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=hn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function F_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Zf=class extends Ci{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,o,i,s,c,l){super(e,i,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=U_(o.id,o.styles);for(let u of d){let f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=u,this.shadowRoot.appendChild(f)}let a=o.getExternalStyles?.();if(a)for(let u of a){let f=Yf(u,i);c&&f.setAttribute("nonce",c),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Di=class extends Ci{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,s,c,l){super(e,i,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=l?U_(l,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_c=class extends Di{contentAttr;hostAttr;constructor(e,n,r,o,i,s,c,l){let d=o+"-"+r.id;super(e,n,r,i,s,c,l,d),this.contentAttr=wT(d),this.hostAttr=IT(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xT=(()=>{class t extends vc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static \u0275fac=function(r){return new(r||t)(F(rt))};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})(),L_=["alt","control","meta","shift"],TT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MT={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},AT=(()=>{class t extends vc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o){let i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hn().onAndCancel(n,i.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),L_.forEach(d=>{let a=r.indexOf(d);a>-1&&(r.splice(a,1),s+=d+".")}),s+=i,r.length!=0||i.length===0)return null;let l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=TT[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),L_.forEach(s=>{if(s!==o){let c=MT[s];c(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(F(rt))};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})();function H_(t,e){return D_(C({rootComponent:t},RT(e)))}function RT(t){return{appProviders:[...FT,...t?.providers??[]],platformProviders:OT}}function NT(){zf.makeCurrent()}function PT(){return new Yt}function kT(){return sv(document),document}var OT=[{provide:hr,useValue:jf},{provide:sf,useValue:NT,multi:!0},{provide:rt,useFactory:kT,deps:[]}];var FT=[{provide:za,useValue:"root"},{provide:Yt,useFactory:PT,deps:[]},{provide:Wf,useClass:xT,multi:!0,deps:[rt,_e,hr]},{provide:Wf,useClass:AT,multi:!0,deps:[rt]},O_,B_,V_,{provide:Xr,useExisting:O_},{provide:gc,useClass:_T,deps:[]},[]];var $_=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(F(rt))};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var U="primary",Li=Symbol("RouteTitle"),tp=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vo(t){return new tp(t)}function VT(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],c=t[i];if(s[0]===":")o[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function BT(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kt(t[n],e[n]))return!1;return!0}function Kt(t,e){let n=t?np(t):void 0,r=e?np(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!eC(t[o],e[o]))return!1;return!0}function np(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}else return t===e}function tC(t){return t.length>0?t[t.length-1]:null}function zn(t){return wu(t)?t:Un(t)?me(Promise.resolve(t)):O(t)}var jT={exact:rC,subset:oC},nC={exact:UT,subset:HT,ignored:()=>!0};function G_(t,e,n){return jT[n.paths](t.root,e.root,n.matrixParams)&&nC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function UT(t,e){return Kt(t,e)}function rC(t,e,n){if(!_r(t.segments,e.segments)||!bc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rC(t.children[r],e.children[r],n))return!1;return!0}function HT(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>eC(t[n],e[n]))}function oC(t,e,n){return iC(t,e,e.segments,n)}function iC(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!_r(o,n)||e.hasChildren()||!bc(o,n,r))}else if(t.segments.length===n.length){if(!_r(t.segments,n)||!bc(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!oC(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!_r(t.segments,o)||!bc(t.segments,o,r)||!t.children[U]?!1:iC(t.children[U],e,i,r)}}function bc(t,e,n){return e.every((r,o)=>nC[n](t[o].parameters,r.parameters))}var gn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new se([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){return zT.serialize(this)}},se=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ec(this)}},vr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vo(this.parameters),this._parameterMap}toString(){return aC(this)}};function $T(t,e){return _r(t,e)&&t.every((n,r)=>Kt(n.parameters,e[r].parameters))}function _r(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function GT(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===U&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==U&&(n=n.concat(e(o,r)))}),n}var Vi=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:()=>new _o,providedIn:"root"})}return t})(),_o=class{parse(e){let n=new op(e);return new gn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bi(e.root,!0)}`,r=YT(e.queryParams),o=typeof e.fragment=="string"?`#${WT(e.fragment)}`:"";return`${n}${r}${o}`}},zT=new _o;function Ec(t){return t.segments.map(e=>aC(e)).join("/")}function bi(t,e){if(!t.hasChildren())return Ec(t);if(e){let n=t.children[U]?bi(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==U&&r.push(`${o}:${bi(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=GT(t,(r,o)=>o===U?[bi(t.children[U],!1)]:[`${o}:${bi(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${Ec(t)}/${n[0]}`:`${Ec(t)}/(${n.join("//")})`}}function sC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cc(t){return sC(t).replace(/%3B/gi,";")}function WT(t){return encodeURI(t)}function rp(t){return sC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sc(t){return decodeURIComponent(t)}function z_(t){return Sc(t.replace(/\+/g,"%20"))}function aC(t){return`${rp(t.path)}${qT(t.parameters)}`}function qT(t){return Object.entries(t).map(([e,n])=>`;${rp(e)}=${rp(n)}`).join("")}function YT(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Cc(n)}=${Cc(o)}`).join("&"):`${Cc(n)}=${Cc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ZT=/^[^\/()?;#]+/;function Kf(t){let e=t.match(ZT);return e?e[0]:""}var QT=/^[^\/()?;=#]+/;function KT(t){let e=t.match(QT);return e?e[0]:""}var JT=/^[^=?&#]+/;function XT(t){let e=t.match(JT);return e?e[0]:""}var eM=/^[^&#]+/;function tM(t){let e=t.match(eM);return e?e[0]:""}var op=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new se([],{}):new se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new se(e,n)),r}parseSegment(){let e=Kf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new vr(Sc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=KT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Kf(this.remaining);o&&(r=o,this.capture(r))}e[Sc(n)]=Sc(r)}parseQueryParam(e){let n=XT(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=tM(this.remaining);s&&(r=s,this.capture(r))}let o=z_(n),i=z_(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kf(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new I(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=U);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[U]:new se([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function cC(t){return t.segments.length>0?new se([],{[U]:t}):t}function lC(t){let e={};for(let[r,o]of Object.entries(t.children)){let i=lC(o);if(r===U&&i.segments.length===0&&i.hasChildren())for(let[s,c]of Object.entries(i.children))e[s]=c;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new se(t.segments,e);return nM(n)}function nM(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new se(t.segments.concat(e.segments),e.children)}return t}function Ti(t){return t instanceof gn}function rM(t,e,n=null,r=null){let o=uC(t);return dC(o,e,n,r)}function uC(t){let e;function n(i){let s={};for(let l of i.children){let d=n(l);s[l.outlet]=d}let c=new se(i.url,s);return i===t&&(e=c),c}let r=n(t.root),o=cC(r);return e??o}function dC(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return Jf(o,o,o,n,r);let i=oM(e);if(i.toRoot())return Jf(o,o,new se([],{}),n,r);let s=iM(i,o,t),c=s.processChildren?wi(s.segmentGroup,s.index,i.commands):pC(s.segmentGroup,s.index,i.commands);return Jf(o,s.segmentGroup,c,n,r)}function wc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Mi(t){return typeof t=="object"&&t!=null&&t.outlets}function Jf(t,e,n,r,o){let i={};r&&Object.entries(r).forEach(([l,d])=>{i[l]=Array.isArray(d)?d.map(a=>`${a}`):`${d}`});let s;t===e?s=n:s=fC(t,e,n);let c=cC(lC(s));return new gn(c,i,o)}function fC(t,e,n){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===e?r[o]=n:r[o]=fC(i,e,n)}),new se(t.segments,r)}var Ic=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&wc(r[0]))throw new I(4003,!1);let o=r.find(Mi);if(o&&o!==tC(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ic(!0,0,t);let e=0,n=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let c={};return Object.entries(i.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...o,{outlets:c}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&o.push(c))}),o):[...o,i]},[]);return new Ic(n,e,r)}var mo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function iM(t,e,n){if(t.isAbsolute)return new mo(e,!0,0);if(!n)return new mo(e,!1,NaN);if(n.parent===null)return new mo(n,!0,0);let r=wc(t.commands[0])?0:1,o=n.segments.length-1+r;return sM(n,o,t.numberOfDoubleDots)}function sM(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new I(4005,!1);o=r.segments.length}return new mo(r,!1,o-i)}function aM(t){return Mi(t[0])?t[0].outlets:{[U]:t}}function pC(t,e,n){if(t??=new se([],{}),t.segments.length===0&&t.hasChildren())return wi(t,e,n);let r=cM(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new se(t.segments.slice(0,r.pathIndex),{});return i.children[U]=new se(t.segments.slice(r.pathIndex),t.children),wi(i,0,o)}else return r.match&&o.length===0?new se(t.segments,{}):r.match&&!t.hasChildren()?ip(t,e,n):r.match?wi(t,0,o):ip(t,e,n)}function wi(t,e,n){if(n.length===0)return new se(t.segments,{});{let r=aM(n),o={};if(Object.keys(r).some(i=>i!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let i=wi(t.children[U],e,n);return new se(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=pC(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new se(t.segments,o)}}function cM(t,e,n){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;let s=t.segments[o],c=n[r];if(Mi(c))break;let l=`${c}`,d=r<n.length-1?n[r+1]:null;if(o>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!q_(l,d,s))return i;r+=2}else{if(!q_(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function ip(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let i=n[o];if(Mi(i)){let l=lM(i.outlets);return new se(r,l)}if(o===0&&wc(n[0])){let l=t.segments[e];r.push(new vr(l.path,W_(n[0]))),o++;continue}let s=Mi(i)?i.outlets[U]:`${i}`,c=o<n.length-1?n[o+1]:null;s&&c&&wc(c)?(r.push(new vr(s,W_(c))),o+=2):(r.push(new vr(s,{})),o++)}return new se(r,{})}function lM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ip(new se([],{}),0,r))}),e}function W_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function q_(t,e,n){return t==n.path&&Kt(e,n.parameters)}var Ii="imperative",Oe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Oe||{}),bt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Co=class extends bt{type=Oe.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",o=null){super(e,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yn=class extends bt{urlAfterRedirects;type=Oe.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(dt||{}),xc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(xc||{}),mn=class extends bt{reason;code;type=Oe.NavigationCancel;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gn=class extends bt{reason;code;type=Oe.NavigationSkipped;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}},Ai=class extends bt{error;target;type=Oe.NavigationError;constructor(e,n,r,o){super(e,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tc=class extends bt{urlAfterRedirects;state;type=Oe.RoutesRecognized;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sp=class extends bt{urlAfterRedirects;state;type=Oe.GuardsCheckStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ap=class extends bt{urlAfterRedirects;state;shouldActivate;type=Oe.GuardsCheckEnd;constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cp=class extends bt{urlAfterRedirects;state;type=Oe.ResolveStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lp=class extends bt{urlAfterRedirects;state;type=Oe.ResolveEnd;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},up=class{route;type=Oe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dp=class{route;type=Oe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},fp=class{snapshot;type=Oe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pp=class{snapshot;type=Oe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hp=class{snapshot;type=Oe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{snapshot;type=Oe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mc=class{routerEvent;position;anchor;type=Oe.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ri=class{},Do=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function uM(t,e){return t.providers&&!t._injector&&(t._injector=nc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jt(t){return t.outlet||U}function dM(t,e){let n=t.filter(r=>jt(r)===e);return n.push(...t.filter(r=>jt(r)!==e)),n}function Bi(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Bi(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ji(this.rootInjector)}},ji=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gp(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(F(lt))};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ac=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=yp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=yp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=vp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return vp(e,this._root).map(n=>n.value)}};function yp(t,e){if(t===e.value)return e;for(let n of e.children){let r=yp(t,n);if(r)return r}return null}function vp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=vp(t,n);if(r.length)return r.unshift(e),r}return[]}var ut=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ho(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Rc=class extends Ac{snapshot;constructor(e,n){super(e),this.snapshot=n,xp(this,e)}toString(){return this.snapshot.toString()}};function hC(t){let e=fM(t),n=new Le([new vr("",{})]),r=new Le({}),o=new Le({}),i=new Le({}),s=new Le(""),c=new vn(n,r,i,s,o,U,t,e.root);return c.snapshot=e.root,new Rc(new ut(c,[]),e)}function fM(t){let e={},n={},r={},o="",i=new go([],e,r,o,n,U,t,null,{});return new Pc("",new ut(i,[]))}var vn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,o,i,s,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(q(d=>d[Li]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(q(e=>vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(q(e=>vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nc(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:C(C({},e.params),t.params),data:C(C({},e.data),t.data),resolve:C(C(C(C({},t.data),e.data),o?.data),t._resolvedData)}:r={params:C({},t.params),data:C({},t.data),resolve:C(C({},t.data),t._resolvedData??{})},o&&gC(o)&&(r.resolve[Li]=o.title),r}var go=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Li]}constructor(e,n,r,o,i,s,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Pc=class extends Ac{url;constructor(e,n){super(n),this.url=e,xp(this,n)}toString(){return mC(this._root)}};function xp(t,e){e.value._routerState=t,e.children.forEach(n=>xp(t,n))}function mC(t){let e=t.children.length>0?` { ${t.children.map(mC).join(", ")} } `:"";return`${t.value}${e}`}function Xf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Kt(e.params,n.params)||t.paramsSubject.next(n.params),BT(e.url,n.url)||t.urlSubject.next(n.url),Kt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _p(t,e){let n=Kt(t.params,e.params)&&$T(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||_p(t.parent,e.parent))}function gC(t){return typeof t.title=="string"||t.title===null}var pM=new M(""),Tp=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=U;activateEvents=new Ne;deactivateEvents=new Ne;attachEvents=new Ne;detachEvents=new Ne;routerOutletData=fi(void 0);parentContexts=E(ji);location=E(co);changeDetector=E(Hn);inputBinder=E(Lc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Cp(n,c,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=qe({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ro]})}return t})(),Cp=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,o){this.route=e,this.childContexts=n,this.parent=r,this.outletData=o}get(e,n){return e===vn?this.route:e===ji?this.childContexts:e===pM?this.outletData:this.parent.get(e,n)}},Lc=new M(""),Y_=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Zo([r.queryParams,r.params,r.data]).pipe(yt(([i,s,c],l)=>(c=C(C(C({},i),s),c),l===0?O(c):Promise.resolve(c)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=b_(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of s.inputs)n.activatedComponentRef.setInput(c,i[c])});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})();function hM(t,e,n){let r=Ni(t,e._root,n?n._root:void 0);return new Rc(r,e)}function Ni(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=mM(t,e,n);return new ut(r,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Ni(t,c)),s}}let r=gM(e.value),o=e.children.map(i=>Ni(t,i));return new ut(r,o)}}function mM(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Ni(t,r,o);return Ni(t,r)})}function gM(t){return new vn(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var Pi=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},yC="ngNavigationCancelingError";function kc(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ti(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=vC(!1,dt.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function vC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[yC]=!0,n.cancellationCode=e,n}function yM(t){return _C(t)&&Ti(t.url)}function _C(t){return!!t&&t[yC]}var vM=(t,e,n,r)=>q(o=>(new Dp(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),Dp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Xf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=ho(n);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=ho(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=ho(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=ho(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new mp(i.value.snapshot))}),e.children.length&&this.forwardEvent(new pp(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(Xf(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Xf(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Oc=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function _M(t,e,n){let r=t._root,o=e?e._root:null;return Ei(r,o,n,[r.value])}function CM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Eo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qg(t)?t:e.get(t):r}function Ei(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=ho(e);return t.children.forEach(s=>{DM(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,c])=>xi(c,n.getContext(s),o)),o}function DM(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let l=bM(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Oc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Ei(t,e,c?c.children:null,r,o):Ei(t,e,n,r,o),l&&c&&c.outlet&&c.outlet.isActivated&&o.canDeactivateChecks.push(new yo(c.outlet.component,s))}else s&&xi(e,c,o),o.canActivateChecks.push(new Oc(r)),i.component?Ei(t,null,c?c.children:null,r,o):Ei(t,null,n,r,o);return o}function bM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!_r(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_r(t.url,e.url)||!Kt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_p(t,e)||!Kt(t.queryParams,e.queryParams);case"paramsChange":default:return!_p(t,e)}}function xi(t,e,n){let r=ho(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?e?xi(s,e.children.getContext(i),n):xi(s,null,n):xi(s,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new yo(e.outlet.component,o)):n.canDeactivateChecks.push(new yo(null,o)):n.canDeactivateChecks.push(new yo(null,o))}function Ui(t){return typeof t=="function"}function EM(t){return typeof t=="boolean"}function SM(t){return t&&Ui(t.canLoad)}function wM(t){return t&&Ui(t.canActivate)}function IM(t){return t&&Ui(t.canActivateChild)}function xM(t){return t&&Ui(t.canDeactivate)}function TM(t){return t&&Ui(t.canMatch)}function CC(t){return t instanceof nn||t?.name==="EmptyError"}var Dc=Symbol("INITIAL_VALUE");function bo(){return yt(t=>Zo(t.map(e=>e.pipe(rn(1),Au(Dc)))).pipe(q(e=>{for(let n of e)if(n!==!0){if(n===Dc)return Dc;if(n===!1||MM(n))return n}return!0}),gt(e=>e!==Dc),rn(1)))}function MM(t){return Ti(t)||t instanceof Pi}function AM(t,e){return we(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?O(N(C({},n),{guardsResult:!0})):RM(s,r,o,t).pipe(we(c=>c&&EM(c)?NM(r,i,t,e):O(c)),q(c=>N(C({},n),{guardsResult:c})))})}function RM(t,e,n,r){return me(t).pipe(we(o=>LM(o.component,o.route,n,e,r)),Gt(o=>o!==!0,!0))}function NM(t,e,n,r){return me(e).pipe(tr(o=>Vr(kM(o.route.parent,r),PM(o.route,r),FM(t,o.path,n),OM(t,o.route,n))),Gt(o=>o!==!0,!0))}function PM(t,e){return t!==null&&e&&e(new hp(t)),O(!0)}function kM(t,e){return t!==null&&e&&e(new fp(t)),O(!0)}function OM(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let o=r.map(i=>ra(()=>{let s=Bi(e)??n,c=Eo(i,s),l=wM(c)?c.canActivate(e,t):Ct(s,()=>c(e,t));return zn(l).pipe(Gt())}));return O(o).pipe(bo())}function FM(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>CM(s)).filter(s=>s!==null).map(s=>ra(()=>{let c=s.guards.map(l=>{let d=Bi(s.node)??n,a=Eo(l,d),u=IM(a)?a.canActivateChild(r,t):Ct(d,()=>a(r,t));return zn(u).pipe(Gt())});return O(c).pipe(bo())}));return O(i).pipe(bo())}function LM(t,e,n,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return O(!0);let s=i.map(c=>{let l=Bi(e)??o,d=Eo(c,l),a=xM(d)?d.canDeactivate(t,e,n,r):Ct(l,()=>d(t,e,n,r));return zn(a).pipe(Gt())});return O(s).pipe(bo())}function VM(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return O(!0);let i=o.map(s=>{let c=Eo(s,t),l=SM(c)?c.canLoad(e,n):Ct(t,()=>c(e,n));return zn(l)});return O(i).pipe(bo(),DC(r))}function DC(t){return Du(Ve(e=>{if(typeof e!="boolean")throw kc(t,e)}),q(e=>e===!0))}function BM(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return O(!0);let i=o.map(s=>{let c=Eo(s,t),l=TM(c)?c.canMatch(e,n):Ct(t,()=>c(e,n));return zn(l)});return O(i).pipe(bo(),DC(r))}var ki=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Oi=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function po(t){return Fr(new ki(t))}function jM(t){return Fr(new I(4e3,!1))}function UM(t){return Fr(vC(!1,dt.GuardRejected))}var bp=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return O(r);if(o.numberOfChildren>1||!o.children[U])return jM(`${e.redirectTo}`);o=o.children[U]}}applyRedirectCommands(e,n,r,o,i){if(typeof n!="string"){let c=n,{queryParams:l,fragment:d,routeConfig:a,url:u,outlet:f,params:p,data:h,title:y}=o,m=Ct(i,()=>c({params:p,data:h,queryParams:l,fragment:d,routeConfig:a,url:u,outlet:f,title:y}));if(m instanceof gn)throw new Oi(m);n=m}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Oi(s);return s}applyRedirectCreateUrlTree(e,n,r,o){let i=this.createSegmentGroup(e,n.root,r,o);return new gn(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let c=i.substring(1);r[o]=n[c]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){let i=this.createSegments(e,n.segments,r,o),s={};return Object.entries(n.children).forEach(([c,l])=>{s[c]=this.createSegmentGroup(e,l,r,o)}),new se(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new I(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}},Ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HM(t,e,n,r,o){let i=bC(t,e,n);return i.matched?(r=uM(e,r),BM(r,e,n,o).pipe(q(s=>s===!0?i:C({},Ep)))):O(i)}function bC(t,e,n){if(e.path==="**")return $M(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?C({},Ep):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||VT)(n,t,e);if(!o)return C({},Ep);let i={};Object.entries(o.posParams??{}).forEach(([c,l])=>{i[c]=l.path});let s=o.consumed.length>0?C(C({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function $M(t){return{matched:!0,parameters:t.length>0?tC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Z_(t,e,n,r){return n.length>0&&WM(t,n,r)?{segmentGroup:new se(e,zM(r,new se(n,t.children))),slicedSegments:[]}:n.length===0&&qM(t,n,r)?{segmentGroup:new se(t.segments,GM(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new se(t.segments,t.children),slicedSegments:n}}function GM(t,e,n,r){let o={};for(let i of n)if(Vc(t,e,i)&&!r[jt(i)]){let s=new se([],{});o[jt(i)]=s}return C(C({},r),o)}function zM(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&jt(r)!==U){let o=new se([],{});n[jt(r)]=o}return n}function WM(t,e,n){return n.some(r=>Vc(t,e,r)&&jt(r)!==U)}function qM(t,e,n){return n.some(r=>Vc(t,e,r))}function Vc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function YM(t,e,n){return e.length===0&&!t.children[n]}var Sp=class{};function ZM(t,e,n,r,o,i,s="emptyOnly"){return new wp(t,e,n,r,o,s,i).recognize()}var QM=31,wp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,o,i,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new bp(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=Z_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(q(({children:n,rootSnapshot:r})=>{let o=new ut(r,n),i=new Pc("",o),s=rM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let n=new go([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,n).pipe(q(r=>({children:r,rootSnapshot:n})),$t(r=>{if(r instanceof Oi)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ki?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,i):this.processSegment(e,n,r,r.segments,o,!0,i).pipe(q(s=>s instanceof ut?[s]:[]))}processChildren(e,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return me(i).pipe(tr(s=>{let c=r.children[s],l=dM(n,s);return this.processSegmentGroup(e,l,c,s,o)}),Mu((s,c)=>(s.push(...c),s)),xn(null),Tu(),we(s=>{if(s===null)return po(r);let c=EC(s);return KM(c),O(c)}))}processSegment(e,n,r,o,i,s,c){return me(n).pipe(tr(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,o,i,s,c).pipe($t(d=>{if(d instanceof ki)return O(null);throw d}))),Gt(l=>!!l),$t(l=>{if(CC(l))return YM(r,o,i)?O(new Sp):po(r);throw l}))}processSegmentAgainstRoute(e,n,r,o,i,s,c,l){return jt(r)!==s&&(s===U||!Vc(o,i,r))?po(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s,l):po(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s,c){let{matched:l,parameters:d,consumedSegments:a,positionalParamSegments:u,remainingSegments:f}=bC(n,o,i);if(!l)return po(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QM&&(this.allowRedirects=!1));let p=new go(i,d,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Q_(o),jt(o),o.component??o._loadedComponent??null,o,K_(o)),h=Nc(p,c,this.paramsInheritanceStrategy);p.params=Object.freeze(h.params),p.data=Object.freeze(h.data);let y=this.applyRedirects.applyRedirectCommands(a,o.redirectTo,u,p,e);return this.applyRedirects.lineralizeSegments(o,y).pipe(we(m=>this.processSegment(e,r,n,m.concat(f),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,o,i,s){let c=HM(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(yt(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(yt(({routes:d})=>{let a=r._loadedInjector??e,{parameters:u,consumedSegments:f,remainingSegments:p}=l,h=new go(f,u,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Q_(r),jt(r),r.component??r._loadedComponent??null,r,K_(r)),y=Nc(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(y.params),h.data=Object.freeze(y.data);let{segmentGroup:m,slicedSegments:b}=Z_(n,f,p,d);if(b.length===0&&m.hasChildren())return this.processChildren(a,d,m,h).pipe(q(L=>new ut(h,L)));if(d.length===0&&b.length===0)return O(new ut(h,[]));let x=jt(r)===i;return this.processSegment(a,d,m,b,x?U:i,!0,h).pipe(q(L=>new ut(h,L instanceof ut?[L]:[])))}))):po(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):VM(e,n,r,this.urlSerializer).pipe(we(o=>o?this.configLoader.loadChildren(e,n).pipe(Ve(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):UM(n))):O({routes:[],injector:e})}};function KM(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function JM(t){let e=t.value.routeConfig;return e&&e.path===""}function EC(t){let e=[],n=new Set;for(let r of t){if(!JM(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=EC(r.children);e.push(new ut(r.value,o))}return e.filter(r=>!n.has(r))}function Q_(t){return t.data||{}}function K_(t){return t.resolve||{}}function XM(t,e,n,r,o,i){return we(s=>ZM(t,e,n,r,s.extractedUrl,o,i).pipe(q(({state:c,tree:l})=>N(C({},s),{targetSnapshot:c,urlAfterRedirects:l}))))}function eA(t,e){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return O(n);let i=new Set(o.map(l=>l.route)),s=new Set;for(let l of i)if(!s.has(l))for(let d of SC(l))s.add(d);let c=0;return me(s).pipe(tr(l=>i.has(l)?tA(l,r,t,e):(l.data=Nc(l,l.parent,t).resolve,O(void 0))),Ve(()=>c++),Br(1),we(l=>c===s.size?O(n):st))})}function SC(t){let e=t.children.map(n=>SC(n)).flat();return[t,...e]}function tA(t,e,n,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!gC(o)&&(i[Li]=o.title),nA(i,t,e,r).pipe(q(s=>(t._resolvedData=s,t.data=Nc(t,t.parent,n).resolve,null)))}function nA(t,e,n,r){let o=np(t);if(o.length===0)return O({});let i={};return me(o).pipe(we(s=>rA(t[s],e,n,r).pipe(Gt(),Ve(c=>{if(c instanceof Pi)throw kc(new _o,c);i[s]=c}))),Br(1),xu(i),$t(s=>CC(s)?st:Fr(s)))}function rA(t,e,n,r){let o=Bi(e)??r,i=Eo(t,o),s=i.resolve?i.resolve(e,n):Ct(o,()=>i(e,n));return zn(s)}function ep(t){return yt(e=>{let n=t(e);return n?me(n).pipe(q(()=>e)):O(e)})}var wC=(()=>{class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===U);return r}getResolvedTitleForRoute(n){return n.data[Li]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:()=>E(oA),providedIn:"root"})}return t})(),oA=(()=>{class t extends wC{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(F($_))};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hi=new M("",{providedIn:"root",factory:()=>({})}),iA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ce({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,o){r&1&&He(0,"router-outlet")},dependencies:[Tp],encapsulation:2})}return t})();function Mp(t){let e=t.children&&t.children.map(Mp),n=e?N(C({},t),{children:e}):C({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=iA),n}var Fi=new M(""),Ap=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(hc);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return O(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=zn(n.loadComponent()).pipe(q(IC),Ve(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),Qo(()=>{this.componentLoaders.delete(n)})),o=new Or(r,()=>new he).pipe(kr());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=sA(r,this.compiler,n,this.onLoadEndListener).pipe(Qo(()=>{this.childrenLoaders.delete(r)})),s=new Or(i,()=>new he).pipe(kr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sA(t,e,n,r){return zn(t.loadChildren()).pipe(q(IC),we(o=>o instanceof si||Array.isArray(o)?O(o):me(e.compileModuleAsync(o))),q(o=>{r&&r(t);let i,s,c=!1;return Array.isArray(o)?(s=o,c=!0):(i=o.create(n).injector,s=i.get(Fi,[],{optional:!0,self:!0}).flat()),{routes:s.map(Mp),injector:i}}))}function aA(t){return t&&typeof t=="object"&&"default"in t}function IC(t){return aA(t)?t.default:t}var Rp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:()=>E(cA),providedIn:"root"})}return t})(),cA=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xC=new M(""),TC=new M("");function lA(t,e,n){let r=t.get(TC),o=t.get(rt);return t.get(_e).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let i,s=new Promise(d=>{i=d}),c=o.startViewTransition(()=>(i(),uA(t))),{onViewTransitionCreated:l}=r;return l&&Ct(t,()=>l({transition:c,from:e,to:n})),s})}function uA(t){return new Promise(e=>{cf({read:()=>setTimeout(e)},{injector:t})})}var MC=new M(""),Np=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new he;transitionAbortSubject=new he;configLoader=E(Ap);environmentInjector=E(lt);urlSerializer=E(Vi);rootContexts=E(ji);location=E(fo);inputBindingEnabled=E(Lc,{optional:!0})!==null;titleStrategy=E(wC);options=E(Hi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(Rp);createViewTransition=E(xC,{optional:!0});navigationErrorHandler=E(MC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>O(void 0);rootComponentType=null;constructor(){let n=o=>this.events.next(new up(o)),r=o=>this.events.next(new dp(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(N(C(C({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new Le({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ii,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gt(i=>i.id!==0),q(i=>N(C({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),yt(i=>{let s=!1,c=!1;return O(i).pipe(yt(l=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",dt.SupersededByNewNavigation),st;this.currentTransition=i,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?N(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&a!=="reload"){let u="";return this.events.next(new Gn(l.id,this.urlSerializer.serialize(l.rawUrl),u,xc.IgnoredSameUrlNavigation)),l.resolve(!1),st}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return O(l).pipe(yt(u=>{let f=this.transitions?.getValue();return this.events.next(new Co(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?st:Promise.resolve(u)}),XM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(u=>{i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=N(C({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let f=new Tc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:u,extractedUrl:f,source:p,restoredState:h,extras:y}=l,m=new Co(u,this.urlSerializer.serialize(f),p,h);this.events.next(m);let b=hC(this.rootComponentType).snapshot;return this.currentTransition=i=N(C({},l),{targetSnapshot:b,urlAfterRedirects:f,extras:N(C({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(i)}else{let u="";return this.events.next(new Gn(l.id,this.urlSerializer.serialize(l.extractedUrl),u,xc.IgnoredByUrlHandlingStrategy)),l.resolve(!1),st}}),Ve(l=>{let d=new sp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),q(l=>(this.currentTransition=i=N(C({},l),{guards:_M(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),i)),AM(this.environmentInjector,l=>this.events.next(l)),Ve(l=>{if(i.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw kc(this.urlSerializer,l.guardsResult);let d=new ap(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),gt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",dt.GuardRejected),!1)),ep(l=>{if(l.guards.canActivateChecks.length)return O(l).pipe(Ve(d=>{let a=new cp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(a)}),yt(d=>{let a=!1;return O(d).pipe(eA(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(d,"",dt.NoDataFromResolver)}}))}),Ve(d=>{let a=new lp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(a)}))}),ep(l=>{let d=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(Ve(f=>{a.component=f}),q(()=>{})));for(let f of a.children)u.push(...d(f));return u};return Zo(d(l.targetSnapshot.root)).pipe(xn(null),rn(1))}),ep(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:l,targetSnapshot:d}=i,a=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return a?me(a).pipe(q(()=>i)):O(i)}),q(l=>{let d=hM(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=i=N(C({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,i}),Ve(()=>{this.events.next(new Ri)}),vM(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),rn(1),Ve({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ru(this.transitionAbortSubject.pipe(Ve(l=>{throw l}))),Qo(()=>{!s&&!c&&this.cancelNavigationTransition(i,"",dt.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),$t(l=>{if(c=!0,_C(l))this.events.next(new mn(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode)),yM(l)?this.events.next(new Do(l.url,l.navigationBehaviorOptions)):i.resolve(!1);else{let d=new Ai(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);try{let a=Ct(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(a instanceof Pi){let{message:u,cancellationCode:f}=kc(this.urlSerializer,a);this.events.next(new mn(i.id,this.urlSerializer.serialize(i.extractedUrl),u,f)),this.events.next(new Do(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(d),l}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return st}))}))}cancelNavigationTransition(n,r,o){let i=new mn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dA(t){return t!==Ii}var fA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:()=>E(pA),providedIn:"root"})}return t})(),Ip=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},pA=(()=>{class t extends Ip{static \u0275fac=(()=>{let n;return function(o){return(n||(n=io(t)))(o||t)}})();static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:()=>E(hA),providedIn:"root"})}return t})(),hA=(()=>{class t extends AC{location=E(fo);urlSerializer=E(Vi);options=E(Hi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=E(Rp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new gn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=hC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Co)this.stateMemento=this.createStateMemento();else if(n instanceof Gn)this.rawUrlTree=r.initialUrl;else if(n instanceof Tc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else n instanceof Ri?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof mn&&(n.code===dt.GuardRejected||n.code===dt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ai?this.restoreHistory(r,!0):n instanceof yn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=n instanceof gn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let i=this.browserPageId,s=C(C({},r.extras.state),this.generateNgRouterState(r.id,i));this.location.replaceState(o,"",s)}else{let i=C(C({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",i)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.currentUrlTree===n.finalUrl&&i===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=io(t)))(o||t)}})();static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Si=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Si||{});function RC(t,e){t.events.pipe(gt(n=>n instanceof yn||n instanceof mn||n instanceof Ai||n instanceof Gn),q(n=>n instanceof yn||n instanceof Gn?Si.COMPLETE:(n instanceof mn?n.code===dt.Redirect||n.code===dt.SupersededByNewNavigation:!1)?Si.REDIRECTING:Si.FAILED),gt(n=>n!==Si.REDIRECTING),rn(1)).subscribe(()=>{e()})}var mA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},De=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(rc);stateManager=E(AC);options=E(Hi,{optional:!0})||{};pendingTasks=E(so);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(Np);urlSerializer=E(Vi);location=E(fo);urlHandlingStrategy=E(Rp);_events=new he;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(fA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(Fi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(Lc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ee;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof mn&&r.code!==dt.Redirect&&r.code!==dt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yn)this.navigated=!0;else if(r instanceof Do){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l=C({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dA(o.source)},s);this.scheduleNavigation(c,Ii,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}vA(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ii,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let l=C({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Mp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:c,preserveFragment:l}=r,d=l?this.currentUrlTree.fragment:s,a=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":a=C(C({},this.currentUrlTree.queryParams),i);break;case"preserve":a=this.currentUrlTree.queryParams;break;default:a=i||null}a!==null&&(a=this.removeEmptyProps(a));let u;try{let f=o?o.snapshot:this.routerState.snapshot.root;u=uC(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return dC(u,n,a,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=Ti(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ii,null,r)}navigate(n,r={skipLocationChange:!1}){return yA(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=C({},mA):r===!1?o=C({},gA):o=r,Ti(n))return G_(this.currentUrlTree,n,o);let i=this.parseUrl(n);return G_(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let c,l,d;s?(c=s.resolve,l=s.reject,d=s.promise):d=new Promise((u,f)=>{c=u,l=f});let a=this.pendingTasks.add();return RC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(a))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yA(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}function vA(t){return!(t instanceof Ri)&&!(t instanceof Do)}var Fc=class{};var _A=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i,s){this.router=n,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(gt(n=>n instanceof yn),tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=nc(i.providers,n,`Route: ${i.path}`));let s=i._injector??n,c=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(c,i.children??i._loadedRoutes))}return me(o).pipe(Lr())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=O(null);let i=o.pipe(we(s=>s===null?O(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return me([i,s]).pipe(Lr())}else return i})}static \u0275fac=function(r){return new(r||t)(F(De),F(hc),F(lt),F(Fc),F(Ap))};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NC=new M(""),CA=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof yn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Gn&&n.code===xc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Iv()};static \u0275prov=w({token:t,factory:t.\u0275fac})}return t})();function PC(t,...e){return Ga([{provide:Fi,multi:!0,useValue:t},[],{provide:vn,useFactory:kC,deps:[De]},{provide:ic,multi:!0,useFactory:OC},e.map(n=>n.\u0275providers)])}function kC(t){return t.routerState.root}function So(t,e){return{\u0275kind:t,\u0275providers:e}}function OC(){let t=E(Ft);return e=>{let n=t.get(yr);if(e!==n.components[0])return;let r=t.get(De),o=t.get(FC);t.get(Pp)===1&&r.initialNavigation(),t.get(LC,null,$.Optional)?.setUpPreloading(),t.get(NC,null,$.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var FC=new M("",{factory:()=>new he}),Pp=new M("",{providedIn:"root",factory:()=>1});function DA(){return So(2,[{provide:Pp,useValue:0},{provide:oc,multi:!0,deps:[Ft],useFactory:e=>{let n=e.get(T_,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let o=e.get(De),i=e.get(FC);RC(o,()=>{r(!0)}),e.get(Np).afterPreactivation=()=>(r(!0),i.closed?O(void 0):i),o.initialNavigation()}))}}])}function bA(){return So(3,[{provide:oc,multi:!0,useFactory:()=>{let e=E(De);return()=>{e.setUpLocationChangeListener()}}},{provide:Pp,useValue:2}])}var LC=new M("");function EA(t){return So(0,[{provide:LC,useExisting:_A},{provide:Fc,useExisting:t}])}function VC(){return So(6,[{provide:$n,useClass:Bf}])}function SA(){return So(8,[Y_,{provide:Lc,useExisting:Y_}])}function wA(t){let e=[{provide:xC,useValue:lA},{provide:TC,useValue:C({skipNextTransition:!!t?.skipInitialTransition},t)}];return So(9,e)}var J_=new M("ROUTER_FORROOT_GUARD"),IA=[fo,{provide:Vi,useClass:_o},De,ji,{provide:vn,useFactory:kC,deps:[De]},Ap,[]],BC=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[IA,[],{provide:Fi,multi:!0,useValue:n},{provide:J_,useFactory:AA,deps:[[De,new jd,new ey]]},r?.errorHandler?{provide:MC,useValue:r.errorHandler}:[],{provide:Hi,useValue:r||{}},r?.useHash?TA():MA(),xA(),r?.preloadingStrategy?EA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?RA(r):[],r?.bindToComponentInputs?SA().\u0275providers:[],r?.enableViewTransitions?wA().\u0275providers:[],NA()]}}static forChild(n){return{ngModule:t,providers:[{provide:Fi,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)(F(J_,8))};static \u0275mod=jn({type:t});static \u0275inj=On({})}return t})();function xA(){return{provide:NC,useFactory:()=>{let t=E(N_),e=E(_e),n=E(Hi),r=E(Np),o=E(Vi);return n.scrollOffset&&t.setOffset(n.scrollOffset),new CA(o,r,t,e,n)}}}function TA(){return{provide:$n,useClass:Bf}}function MA(){return{provide:$n,useClass:Vf}}function AA(t){return"guarded"}function RA(t){return[t.initialNavigation==="disabled"?bA().\u0275providers:[],t.initialNavigation==="enabledBlocking"?DA().\u0275providers:[]]}var X_=new M("");function NA(){return[{provide:X_,useFactory:OC},{provide:ic,multi:!0,useExisting:X_}]}var PA=["*"],Jt=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["app-card"]],ngContentSelectors:PA,decls:2,vars:0,consts:[[1,"card"]],template:function(n,r){n&1&&(cc(),K(0,"div",0),lc(1),ne())},styles:[".card[_ngcontent-%COMP%]{background-color:#fffcf9;padding:3rem;box-shadow:0 1.5rem 4rem #00000026;border-radius:.5rem}"]})};var kA=["*"],OA=(t,e,n,r)=>({button__default:t,button__primary:e,button__secondary:n,button__danger:r}),Et=class t{color=fi("default");disabled=fi(!1);click=Xy();onClick(){this.click.emit()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["app-button"]],inputs:{color:[1,"color"],disabled:[1,"disabled"]},outputs:{click:"click"},ngContentSelectors:kA,decls:2,vars:7,consts:[[1,"button","text",3,"click","disabled","ngClass"]],template:function(n,r){n&1&&(cc(),K(0,"button",0),Pe("click",function(){return r.onClick()}),lc(1),ne()),n&2&&nt("disabled",r.disabled())("ngClass",g_(2,OA,r.color()==="default",r.color()==="primary",r.color()==="secondary",r.color()==="danger"))},dependencies:[Bt,R_],styles:[".button[_ngcontent-%COMP%]{padding:2rem;border:none;border-radius:3rem;width:100%;display:block;font-size:2rem;font-family:Roboto,sans-serif;color:#f7f7f7}.button__primary[_ngcontent-%COMP%]{background-color:#55c57a}.button__secondary[_ngcontent-%COMP%]{background-color:#477998}.button__danger[_ngcontent-%COMP%]{background-color:#ff7730}.button__default[_ngcontent-%COMP%]{background-color:#fffcf9;color:#777}.button[_ngcontent-%COMP%]:disabled{background-color:#a1dfb6}"]})};function Bc(){return`GP-${Math.floor(1e5+Math.random()*9e5)}`}var jc=(r=>(r[r.WIN=0]="WIN",r[r.LOSE=1]="LOSE",r[r.DRAW=2]="DRAW",r))(jc||{});var Ut={production:!0,appBaseUrl:"https://cholnhial.github.io/grenadepong"};var kp=class{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){let e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){let e=[];for(let n of this._parts)e.push(n);return FA(e).buffer}};function FA(t){let e=0;for(let o of t)e+=o.byteLength;let n=new Uint8Array(e),r=0;for(let o of t){let i=new Uint8Array(o.buffer,o.byteOffset,o.byteLength);n.set(i,r),r+=o.byteLength}return n}function Lp(t){return new Op(t).unpack()}function Vp(t){let e=new Fp,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}var Op=class{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){let e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){let e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){let e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){let e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){let e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){let e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){let e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){let e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){let e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);let n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){let n=this.read(e),r=0,o="",i,s;for(;r<e;)i=n[r],i<160?(s=i,r++):(i^192)<32?(s=(i&31)<<6|n[r+1]&63,r+=2):(i^224)<16?(s=(i&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(s=(i&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),o+=String.fromCodePoint(s);return this.index+=e,o}unpack_array(e){let n=new Array(e);for(let r=0;r<e;r++)n[r]=this.unpack();return n}unpack_map(e){let n={};for(let r=0;r<e;r++){let o=this.unpack();n[o]=this.unpack()}return n}unpack_float(){let e=this.unpack_uint32(),n=e>>31,r=(e>>23&255)-127,o=e&8388607|8388608;return(n===0?1:-1)*o*2**(r-23)}unpack_double(){let e=this.unpack_uint32(),n=this.unpack_uint32(),r=e>>31,o=(e>>20&2047)-1023,s=(e&1048575|1048576)*2**(o-20)+n*2**(o-52);return(r===0?1:-1)*s}read(e){let n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}},Fp=class{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{let n=e.constructor;if(e instanceof Array){let r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){let r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){let r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){let n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){let n=this._textEncoder.encode(e),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){let n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");let r=o=>{if(o<n){let i=this.pack(e[o]);return i instanceof Promise?i.then(()=>r(o+1)):r(o+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);let r=Math.floor(Math.log(e)/Math.LN2),o=e/2**r-1,i=Math.floor(o*2**52),s=2**32,c=n<<31|r+1023<<20|i/s&1048575,l=i%s;this._bufferBuilder.append(203),this.pack_int32(c),this.pack_int32(l)}pack_object(e){let n=Object.keys(e),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");let o=i=>{if(i<n.length){let s=n[i];if(e.hasOwnProperty(s)){this.pack(s);let c=this.pack(e[s]);if(c instanceof Promise)return c.then(()=>o(i+1))}return o(i+1)}};return o(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){let n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){let n=e/4294967296,r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){let n=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new kp,this._textEncoder=new TextEncoder}};var UC=!0,HC=!0;function $i(t,e,n){let r=t.match(e);return r&&r.length>=n&&parseInt(r[n],10)}function Xt(t,e,n){if(!t.RTCPeerConnection)return;let r=t.RTCPeerConnection.prototype,o=r.addEventListener;r.addEventListener=function(s,c){if(s!==e)return o.apply(this,arguments);let l=d=>{let a=n(d);a&&(c.handleEvent?c.handleEvent(a):c(a))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(c,l),o.apply(this,[s,l])};let i=r.removeEventListener;r.removeEventListener=function(s,c){if(s!==e||!this._eventMap||!this._eventMap[e])return i.apply(this,arguments);if(!this._eventMap[e].has(c))return i.apply(this,arguments);let l=this._eventMap[e].get(c);return this._eventMap[e].delete(c),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,i.apply(this,[s,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(s){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),s&&this.addEventListener(e,this["_on"+e]=s)},enumerable:!0,configurable:!0})}function $C(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(UC=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function GC(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(HC=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function Uc(){if(typeof window=="object"){if(UC)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function wo(t,e){HC&&console.warn(t+" is deprecated, please use "+e+" instead.")}function zC(t){let e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;let{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){let r=n.userAgentData.brands.find(o=>o.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=$i(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=$i(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=$i(n.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function jC(t){return Object.prototype.toString.call(t)==="[object Object]"}function jp(t){return jC(t)?Object.keys(t).reduce(function(e,n){let r=jC(t[n]),o=r?jp(t[n]):t[n],i=r&&!Object.keys(o).length;return o===void 0||i?e:Object.assign(e,{[n]:o})},{}):t}function Bp(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Bp(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(o=>{Bp(t,t.get(o),n)})}))}function Up(t,e,n){let r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(e===null)return o;let i=[];return t.forEach(s=>{s.type==="track"&&s.trackIdentifier===e.id&&i.push(s)}),i.forEach(s=>{t.forEach(c=>{c.type===r&&c.trackId===s.id&&Bp(t,c,o)})}),o}var Gc={};Ss(Gc,{fixNegotiationNeeded:()=>qp,shimAddTrackRemoveTrack:()=>Wp,shimAddTrackRemoveTrackWithNative:()=>qC,shimGetSendersWithDtmf:()=>Gp,shimGetUserMedia:()=>Hc,shimMediaStream:()=>Hp,shimOnTrack:()=>$p,shimPeerConnection:()=>$c,shimSenderReceiverGetStats:()=>zp});var WC=Uc;function Hc(t,e){let n=t&&t.navigator;if(!n.mediaDevices)return;let r=function(c){if(typeof c!="object"||c.mandatory||c.optional)return c;let l={};return Object.keys(c).forEach(d=>{if(d==="require"||d==="advanced"||d==="mediaSource")return;let a=typeof c[d]=="object"?c[d]:{ideal:c[d]};a.exact!==void 0&&typeof a.exact=="number"&&(a.min=a.max=a.exact);let u=function(f,p){return f?f+p.charAt(0).toUpperCase()+p.slice(1):p==="deviceId"?"sourceId":p};if(a.ideal!==void 0){l.optional=l.optional||[];let f={};typeof a.ideal=="number"?(f[u("min",d)]=a.ideal,l.optional.push(f),f={},f[u("max",d)]=a.ideal,l.optional.push(f)):(f[u("",d)]=a.ideal,l.optional.push(f))}a.exact!==void 0&&typeof a.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[u("",d)]=a.exact):["min","max"].forEach(f=>{a[f]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[u(f,d)]=a[f])})}),c.advanced&&(l.optional=(l.optional||[]).concat(c.advanced)),l},o=function(c,l){if(e.version>=61)return l(c);if(c=JSON.parse(JSON.stringify(c)),c&&typeof c.audio=="object"){let d=function(a,u,f){u in a&&!(f in a)&&(a[f]=a[u],delete a[u])};c=JSON.parse(JSON.stringify(c)),d(c.audio,"autoGainControl","googAutoGainControl"),d(c.audio,"noiseSuppression","googNoiseSuppression"),c.audio=r(c.audio)}if(c&&typeof c.video=="object"){let d=c.video.facingMode;d=d&&(typeof d=="object"?d:{ideal:d});let a=e.version<66;if(d&&(d.exact==="user"||d.exact==="environment"||d.ideal==="user"||d.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!a)){delete c.video.facingMode;let u;if(d.exact==="environment"||d.ideal==="environment"?u=["back","rear"]:(d.exact==="user"||d.ideal==="user")&&(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(h=>h.kind==="videoinput");let p=f.find(h=>u.some(y=>h.label.toLowerCase().includes(y)));return!p&&f.length&&u.includes("back")&&(p=f[f.length-1]),p&&(c.video.deviceId=d.exact?{exact:p.deviceId}:{ideal:p.deviceId}),c.video=r(c.video),WC("chrome: "+JSON.stringify(c)),l(c)})}c.video=r(c.video)}return WC("chrome: "+JSON.stringify(c)),l(c)},i=function(c){return e.version>=64?c:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[c.name]||c.name,message:c.message,constraint:c.constraint||c.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(c,l,d){o(c,a=>{n.webkitGetUserMedia(a,l,u=>{d&&d(i(u))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){let c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return o(l,d=>c(d).then(a=>{if(d.audio&&!a.getAudioTracks().length||d.video&&!a.getVideoTracks().length)throw a.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return a},a=>Promise.reject(i(a))))}}}function Hp(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function $p(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});let e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",o=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(c=>c.track&&c.track.id===o.track.id):i={track:o.track};let s=new Event("track");s.track=o.track,s.receiver=i,s.transceiver={receiver:i},s.streams=[r.stream],this.dispatchEvent(s)}),r.stream.getTracks().forEach(o=>{let i;t.RTCPeerConnection.prototype.getReceivers?i=this.getReceivers().find(c=>c.track&&c.track.id===o.id):i={track:o};let s=new Event("track");s.track=o,s.receiver=i,s.transceiver={receiver:i},s.streams=[r.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else Xt(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Gp(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){let e=function(o,i){return{track:i,get dtmf(){return this._dtmf===void 0&&(i.kind==="audio"?this._dtmf=o.createDTMFSender(i):this._dtmf=null),this._dtmf},_pc:o}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let o=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(c,l){let d=o.apply(this,arguments);return d||(d=e(this,c),this._senders.push(d)),d};let i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(c){i.apply(this,arguments);let l=this._senders.indexOf(c);l!==-1&&this._senders.splice(l,1)}}let n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(i){this._senders=this._senders||[],n.apply(this,[i]),i.getTracks().forEach(s=>{this._senders.push(e(this,s))})};let r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(i){this._senders=this._senders||[],r.apply(this,[i]),i.getTracks().forEach(s=>{let c=this._senders.find(l=>l.track===s);c&&this._senders.splice(this._senders.indexOf(c),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){let e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){let r=e.apply(this,[]);return r.forEach(o=>o._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function zp(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){let n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){let i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i});let r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){let i=r.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){let i=this;return this._pc.getStats().then(s=>Up(s,i.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){let n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){let o=n.apply(this,[]);return o.forEach(i=>i._pc=this),o}),Xt(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){let o=this;return this._pc.getStats().then(i=>Up(i,o.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;let e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){let r=arguments[0],o,i,s;return this.getSenders().forEach(c=>{c.track===r&&(o?s=!0:o=c)}),this.getReceivers().forEach(c=>(c.track===r&&(i?s=!0:i=c),c.track===r)),s||o&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):o?o.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function qC(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};let e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,c){if(!c)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let l=e.apply(this,arguments);return this._shimmedLocalStreams[c.id]?this._shimmedLocalStreams[c.id].indexOf(l)===-1&&this._shimmedLocalStreams[c.id].push(l):this._shimmedLocalStreams[c.id]=[c,l],l};let n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(d=>{if(this.getSenders().find(u=>u.track===d))throw new DOMException("Track already exists.","InvalidAccessError")});let c=this.getSenders();n.apply(this,arguments);let l=this.getSenders().filter(d=>c.indexOf(d)===-1);this._shimmedLocalStreams[s.id]=[s].concat(l)};let r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],r.apply(this,arguments)};let o=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(c=>{let l=this._shimmedLocalStreams[c].indexOf(s);l!==-1&&this._shimmedLocalStreams[c].splice(l,1),this._shimmedLocalStreams[c].length===1&&delete this._shimmedLocalStreams[c]}),o.apply(this,arguments)}}function Wp(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return qC(t);let n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){let a=n.apply(this);return this._reverseStreams=this._reverseStreams||{},a.map(u=>this._reverseStreams[u.id])};let r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(a){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.getTracks().forEach(u=>{if(this.getSenders().find(p=>p.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[a.id]){let u=new t.MediaStream(a.getTracks());this._streams[a.id]=u,this._reverseStreams[u.id]=a,a=u}r.apply(this,[a])};let o=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(a){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[a.id]||a]),delete this._reverseStreams[this._streams[a.id]?this._streams[a.id].id:a.id],delete this._streams[a.id]},t.RTCPeerConnection.prototype.addTrack=function(a,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(y=>y===a))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(y=>y.track===a))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let h=this._streams[u.id];if(h)h.addTrack(a),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let y=new t.MediaStream([a]);this._streams[u.id]=y,this._reverseStreams[y.id]=u,this.addStream(y)}return this.getSenders().find(y=>y.track===a)};function i(d,a){let u=a.sdp;return Object.keys(d._reverseStreams||[]).forEach(f=>{let p=d._reverseStreams[f],h=d._streams[p.id];u=u.replace(new RegExp(h.id,"g"),p.id)}),new RTCSessionDescription({type:a.type,sdp:u})}function s(d,a){let u=a.sdp;return Object.keys(d._reverseStreams||[]).forEach(f=>{let p=d._reverseStreams[f],h=d._streams[p.id];u=u.replace(new RegExp(p.id,"g"),h.id)}),new RTCSessionDescription({type:a.type,sdp:u})}["createOffer","createAnswer"].forEach(function(d){let a=t.RTCPeerConnection.prototype[d],u={[d](){let f=arguments;return arguments.length&&typeof arguments[0]=="function"?a.apply(this,[h=>{let y=i(this,h);f[0].apply(null,[y])},h=>{f[1]&&f[1].apply(null,h)},arguments[2]]):a.apply(this,arguments).then(h=>i(this,h))}};t.RTCPeerConnection.prototype[d]=u[d]});let c=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?c.apply(this,arguments):(arguments[0]=s(this,arguments[0]),c.apply(this,arguments))};let l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){let d=l.get.apply(this);return d.type===""?d:i(this,d)}}),t.RTCPeerConnection.prototype.removeTrack=function(a){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!a._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(a._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(p=>{this._streams[p].getTracks().find(y=>a.track===y)&&(f=this._streams[p])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(a.track),this.dispatchEvent(new Event("negotiationneeded")))}}function $c(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){let r=t.RTCPeerConnection.prototype[n],o={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=o[n]})}function qp(t,e){Xt(t,"negotiationneeded",n=>{let r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var qc={};Ss(qc,{shimAddTransceiver:()=>Xp,shimCreateAnswer:()=>nh,shimCreateOffer:()=>th,shimGetDisplayMedia:()=>YC,shimGetParameters:()=>eh,shimGetUserMedia:()=>zc,shimOnTrack:()=>Yp,shimPeerConnection:()=>Wc,shimRTCDataChannel:()=>Jp,shimReceiverGetStats:()=>Qp,shimRemoveStream:()=>Kp,shimSenderGetStats:()=>Zp});function zc(t,e){let n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(o,i,s){wo("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(o).then(i,s)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){let o=function(s,c,l){c in s&&!(l in s)&&(s[l]=s[c],delete s[c])},i=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),o(s.audio,"autoGainControl","mozAutoGainControl"),o(s.audio,"noiseSuppression","mozNoiseSuppression")),i(s)},r&&r.prototype.getSettings){let s=r.prototype.getSettings;r.prototype.getSettings=function(){let c=s.apply(this,arguments);return o(c,"mozAutoGainControl","autoGainControl"),o(c,"mozNoiseSuppression","noiseSuppression"),c}}if(r&&r.prototype.applyConstraints){let s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(c){return this.kind==="audio"&&typeof c=="object"&&(c=JSON.parse(JSON.stringify(c)),o(c,"autoGainControl","mozAutoGainControl"),o(c,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[c])}}}}function YC(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){let o=new DOMException("getDisplayMedia without video constraints is undefined");return o.name="NotFoundError",o.code=8,Promise.reject(o)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function Yp(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Wc(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){let i=t.RTCPeerConnection.prototype[o],s={[o](){return arguments[0]=new(o==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[o]=s[o]});let n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){let[i,s,c]=arguments;return r.apply(this,[i||null]).then(l=>{if(e.version<53&&!s)try{l.forEach(d=>{d.type=n[d.type]||d.type})}catch(d){if(d.name!=="TypeError")throw d;l.forEach((a,u)=>{l.set(u,Object.assign({},a,{type:n[a.type]||a.type}))})}return l}).then(s,c)}}function Zp(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;let e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){let o=e.apply(this,[]);return o.forEach(i=>i._pc=this),o});let n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){let o=n.apply(this,arguments);return o._pc=this,o}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Qp(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;let e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){let r=e.apply(this,[]);return r.forEach(o=>o._pc=this),r}),Xt(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Kp(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){wo("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function Jp(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function Xp(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;let e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];let o=r.length>0;o&&r.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});let i=e.apply(this,arguments);if(o){let{sender:s}=i,c=s.getParameters();(!("encodings"in c)||c.encodings.length===1&&Object.keys(c.encodings[0]).length===0)&&(c.encodings=r,s.sendEncodings=r,this.setParametersPromises.push(s.setParameters(c).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return i})}function eh(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;let e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){let r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function th(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;let e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function nh(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;let e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}var Yc={};Ss(Yc,{shimAudioContext:()=>uh,shimCallbacksAPI:()=>ih,shimConstraints:()=>ZC,shimCreateOfferLegacy:()=>lh,shimGetUserMedia:()=>sh,shimLocalStreamsAPI:()=>rh,shimRTCIceServerUrls:()=>ah,shimRemoteStreamsAPI:()=>oh,shimTrackEventTransceiver:()=>ch});function rh(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){let e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(o=>e.call(this,o,r)),r.getVideoTracks().forEach(o=>e.call(this,o,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...o){return o&&o.forEach(i=>{this._localStreams?this._localStreams.includes(i)||this._localStreams.push(i):this._localStreams=[i]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);let r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);let o=n.getTracks();this.getSenders().forEach(i=>{o.includes(i.track)&&this.removeTrack(i)})})}}function oh(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(o=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(o))return;this._remoteStreams.push(o);let i=new Event("addstream");i.stream=o,this.dispatchEvent(i)})})}});let e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){let r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(o){o.streams.forEach(i=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(i)>=0)return;r._remoteStreams.push(i);let s=new Event("addstream");s.stream=i,r.dispatchEvent(s)})}),e.apply(r,arguments)}}}function ih(t){if(typeof t!="object"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,o=e.setLocalDescription,i=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(d,a){let u=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[u]);return a?(f.then(d,a),Promise.resolve()):f},e.createAnswer=function(d,a){let u=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[u]);return a?(f.then(d,a),Promise.resolve()):f};let c=function(l,d,a){let u=o.apply(this,[l]);return a?(u.then(d,a),Promise.resolve()):u};e.setLocalDescription=c,c=function(l,d,a){let u=i.apply(this,[l]);return a?(u.then(d,a),Promise.resolve()):u},e.setRemoteDescription=c,c=function(l,d,a){let u=s.apply(this,[l]);return a?(u.then(d,a),Promise.resolve()):u},e.addIceCandidate=c}function sh(t){let e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){let n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=o=>r(ZC(o))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(r,o,i){e.mediaDevices.getUserMedia(r).then(o,i)}.bind(e))}function ZC(t){return t&&t.video!==void 0?Object.assign({},t,{video:jp(t.video)}):t}function ah(t){if(!t.RTCPeerConnection)return;let e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,o){if(r&&r.iceServers){let i=[];for(let s=0;s<r.iceServers.length;s++){let c=r.iceServers[s];c.urls===void 0&&c.url?(wo("RTCIceServer.url","RTCIceServer.urls"),c=JSON.parse(JSON.stringify(c)),c.urls=c.url,delete c.url,i.push(c)):i.push(r.iceServers[s])}r.iceServers=i}return new e(r,o)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function ch(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function lh(t){let e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);let o=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):r.offerToReceiveAudio===!0&&!o&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);let i=this.getTransceivers().find(s=>s.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveVideo===!0&&!i&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function uh(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var ph={};Ss(ph,{removeExtmapAllowMixed:()=>Kc,shimAddIceCandidateNullOrEmpty:()=>qi,shimConnectionState:()=>Qc,shimMaxMessageSize:()=>zi,shimParameterlessSetLocalDescription:()=>Yi,shimRTCIceCandidate:()=>Gi,shimRTCIceCandidateRelayProtocol:()=>Zc,shimSendThrowTypeError:()=>Wi});var Io=$o(fh());function Gi(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;let e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){let o=new e(r),i=Io.default.parseCandidate(r.candidate);for(let s in i)s in o||Object.defineProperty(o,s,{value:i[s]});return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,Xt(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Zc(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||Xt(t,"icecandidate",e=>{if(e.candidate){let n=Io.default.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function zi(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});let n=function(c){if(!c||!c.sdp)return!1;let l=Io.default.splitSections(c.sdp);return l.shift(),l.some(d=>{let a=Io.default.parseMLine(d);return a&&a.kind==="application"&&a.protocol.indexOf("SCTP")!==-1})},r=function(c){let l=c.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;let d=parseInt(l[1],10);return d!==d?-1:d},o=function(c){let l=65536;return e.browser==="firefox"&&(e.version<57?c===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},i=function(c,l){let d=65536;e.browser==="firefox"&&e.version===57&&(d=65535);let a=Io.default.matchPrefix(c.sdp,"a=max-message-size:");return a.length>0?d=parseInt(a[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(d=2147483637),d},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){let{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){let l=r(arguments[0]),d=o(l),a=i(arguments[0],l),u;d===0&&a===0?u=Number.POSITIVE_INFINITY:d===0||a===0?u=Math.max(d,a):u=Math.min(d,a);let f={};Object.defineProperty(f,"maxMessageSize",{get(){return u}}),this._sctp=f}return s.apply(this,arguments)}}function Wi(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,o){let i=r.send;r.send=function(){let c=arguments[0],l=c.length||c.size||c.byteLength;if(r.readyState==="open"&&o.sctp&&l>o.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+o.sctp.maxMessageSize+" bytes)");return i.apply(r,arguments)}}let n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){let o=n.apply(this,arguments);return e(o,this),o},Xt(t,"datachannel",r=>(e(r.channel,r.target),r))}function Qc(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;let e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{let r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=o=>{let i=o.target;if(i._lastConnectionState!==i.connectionState){i._lastConnectionState=i.connectionState;let s=new Event("connectionstatechange",o);i.dispatchEvent(s)}return o},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Kc(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;let n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(o){if(o&&o.sdp&&o.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){let i=o.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&o instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:o.type,sdp:i}):o.sdp=i}return n.apply(this,arguments)}}function qi(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;let n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Yi(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;let n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let o=arguments[0]||{};if(typeof o!="object"||o.type&&o.sdp)return n.apply(this,arguments);if(o={type:o.type,sdp:o.sdp},!o.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":o.type="offer";break;default:o.type="answer";break}return o.sdp||o.type!=="offer"&&o.type!=="answer"?n.apply(this,[o]):(o.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}var LA=$o(fh());function QC({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){let n=Uc,r=zC(t),o={browserDetails:r,commonShim:ph,extractVersion:$i,disableLog:$C,disableWarnings:GC,sdp:LA};switch(r.browser){case"chrome":if(!Gc||!$c||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),o;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),o;n("adapter.js shimming chrome."),o.browserShim=Gc,qi(t,r),Yi(t,r),Hc(t,r),Hp(t,r),$c(t,r),$p(t,r),Wp(t,r),Gp(t,r),zp(t,r),qp(t,r),Gi(t,r),Zc(t,r),Qc(t,r),zi(t,r),Wi(t,r),Kc(t,r);break;case"firefox":if(!qc||!Wc||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),o;n("adapter.js shimming firefox."),o.browserShim=qc,qi(t,r),Yi(t,r),zc(t,r),Wc(t,r),Yp(t,r),Kp(t,r),Zp(t,r),Qp(t,r),Jp(t,r),Xp(t,r),eh(t,r),th(t,r),nh(t,r),Gi(t,r),Qc(t,r),zi(t,r),Wi(t,r);break;case"safari":if(!Yc||!e.shimSafari)return n("Safari shim is not included in this adapter release."),o;n("adapter.js shimming safari."),o.browserShim=Yc,qi(t,r),Yi(t,r),ah(t,r),lh(t,r),ih(t,r),rh(t,r),oh(t,r),ch(t,r),sh(t,r),uh(t,r),Gi(t,r),Zc(t,r),zi(t,r),Wi(t,r),Kc(t,r);break;default:n("Unsupported browser!");break}return o}var VA=QC({window:typeof window>"u"?void 0:window}),hh=VA;function br(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var Xc=class{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{let n=[],r=e.byteLength,o=Math.ceil(r/this.chunkedMTU),i=0,s=0;for(;s<r;){let c=Math.min(r,s+this.chunkedMTU),l=e.slice(s,c),d={__peerData:this._dataCount,n:i,data:l,total:o};n.push(d),s=c,i++}return this._dataCount++,n}}};function BA(t){let e=0;for(let o of t)e+=o.byteLength;let n=new Uint8Array(e),r=0;for(let o of t)n.set(o,r),r+=o.byteLength;return n}var mh=hh.default||hh,Zi=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){let t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return mh.browserDetails.browser}getVersion(){return mh.browserDetails.version||0}isUnifiedPlanSupported(){let t=this.getBrowser(),e=mh.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},jA=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),JC=()=>Math.random().toString(36).slice(2),KC={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},gh=class extends Xc{noop(){}blobToArrayBuffer(e,n){let r=new FileReader;return r.onload=function(o){o.target&&n(o.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=KC,this.browser=Zi.getBrowser(),this.browserVersion=Zi.getVersion(),this.pack=Vp,this.unpack=Lp,this.supports=function(){let n={browser:Zi.isBrowserSupported(),webRTC:Zi.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(KC),n.audioVideo=!0;let o;try{o=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!o.ordered;try{o.binaryType="blob",n.binaryBlob=!Zi.isIOS}catch{}}catch{}finally{o&&o.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=jA,this.randomToken=JC}},ot=new gh,UA="PeerJS: ";var yh=class{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){let r=[UA,...n];for(let o in r)r[o]instanceof Error&&(r[o]="("+r[o].name+") "+r[o].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}},S=new yh,Sh={},HA=Object.prototype.hasOwnProperty,Ye="~";function Ki(){}Object.create&&(Ki.prototype=Object.create(null),new Ki().__proto__||(Ye=!1));function $A(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function XC(t,e,n,r,o){if(typeof n!="function")throw new TypeError("The listener must be a function");var i=new $A(n,r||t,o),s=Ye?Ye+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],i]:t._events[s].push(i):(t._events[s]=i,t._eventsCount++),t}function Jc(t,e){--t._eventsCount===0?t._events=new Ki:delete t._events[e]}function $e(){this._events=new Ki,this._eventsCount=0}$e.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)HA.call(n,r)&&e.push(Ye?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};$e.prototype.listeners=function(e){var n=Ye?Ye+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s};$e.prototype.listenerCount=function(e){var n=Ye?Ye+e:e,r=this._events[n];return r?r.fn?1:r.length:0};$e.prototype.emit=function(e,n,r,o,i,s){var c=Ye?Ye+e:e;if(!this._events[c])return!1;var l=this._events[c],d=arguments.length,a,u;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,o),!0;case 5:return l.fn.call(l.context,n,r,o,i),!0;case 6:return l.fn.call(l.context,n,r,o,i,s),!0}for(u=1,a=new Array(d-1);u<d;u++)a[u-1]=arguments[u];l.fn.apply(l.context,a)}else{var f=l.length,p;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,n);break;case 3:l[u].fn.call(l[u].context,n,r);break;case 4:l[u].fn.call(l[u].context,n,r,o);break;default:if(!a)for(p=1,a=new Array(d-1);p<d;p++)a[p-1]=arguments[p];l[u].fn.apply(l[u].context,a)}}return!0};$e.prototype.on=function(e,n,r){return XC(this,e,n,r,!1)};$e.prototype.once=function(e,n,r){return XC(this,e,n,r,!0)};$e.prototype.removeListener=function(e,n,r,o){var i=Ye?Ye+e:e;if(!this._events[i])return this;if(!n)return Jc(this,i),this;var s=this._events[i];if(s.fn)s.fn===n&&(!o||s.once)&&(!r||s.context===r)&&Jc(this,i);else{for(var c=0,l=[],d=s.length;c<d;c++)(s[c].fn!==n||o&&!s[c].once||r&&s[c].context!==r)&&l.push(s[c]);l.length?this._events[i]=l.length===1?l[0]:l:Jc(this,i)}return this};$e.prototype.removeAllListeners=function(e){var n;return e?(n=Ye?Ye+e:e,this._events[n]&&Jc(this,n)):(this._events=new Ki,this._eventsCount=0),this};$e.prototype.off=$e.prototype.removeListener;$e.prototype.addListener=$e.prototype.on;$e.prefixed=Ye;$e.EventEmitter=$e;Sh=$e;var Er={};br(Er,"ConnectionType",()=>Dn);br(Er,"PeerErrorType",()=>be);br(Er,"BaseConnectionErrorType",()=>el);br(Er,"DataConnectionErrorType",()=>sl);br(Er,"SerializationType",()=>Xi);br(Er,"SocketEventType",()=>Cn);br(Er,"ServerMessageType",()=>Be);var Dn=function(t){return t.Data="data",t.Media="media",t}(Dn||{}),be=function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t}(be||{}),el=function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t}(el||{}),sl=function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t}(sl||{}),Xi=function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t}(Xi||{}),Cn=function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t}(Cn||{}),Be=function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t}(Be||{}),wh={};wh=JSON.parse('{"name":"peerjs","version":"1.5.4","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xFCckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","browser-minified-msgpack":"dist/serializer.msgpack.mjs","types":"dist/types.d.ts","engines":{"node":">= 14"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 80, safari >= 15"},"source":"lib/global.ts"},"browser-minified-msgpack":{"context":"browser","outputFormat":"esmodule","isLibrary":true,"optimize":true,"engines":{"browsers":"chrome >= 83, edge >= 83, firefox >= 102, safari >= 15"},"source":"lib/dataconnection/StreamConnection/MsgPack.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit && tsc -p e2e/tsconfig.json --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"jest","test:watch":"jest --watch","coverage":"jest --coverage --collectCoverageFrom=\\"./lib/**\\"","format":"prettier --write .","format:check":"prettier --check .","semantic-release":"semantic-release","e2e":"wdio run e2e/wdio.local.conf.ts","e2e:bstack":"wdio run e2e/wdio.bstack.conf.ts"},"devDependencies":{"@parcel/config-default":"^2.9.3","@parcel/packager-ts":"^2.9.3","@parcel/transformer-typescript-tsc":"^2.9.3","@parcel/transformer-typescript-types":"^2.9.3","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@swc/core":"^1.3.27","@swc/jest":"^0.2.24","@types/jasmine":"^4.3.4","@wdio/browserstack-service":"^8.11.2","@wdio/cli":"^8.11.2","@wdio/globals":"^8.11.2","@wdio/jasmine-framework":"^8.11.2","@wdio/local-runner":"^8.11.2","@wdio/spec-reporter":"^8.11.2","@wdio/types":"^8.10.4","http-server":"^14.1.1","jest":"^29.3.1","jest-environment-jsdom":"^29.3.1","mock-socket":"^9.0.0","parcel":"^2.9.3","prettier":"^3.0.0","semantic-release":"^21.0.0","ts-node":"^10.9.1","typescript":"^5.0.0","wdio-geckodriver-service":"^5.0.1"},"dependencies":{"@msgpack/msgpack":"^2.8.0","eventemitter3":"^4.0.7","peerjs-js-binarypack":"^2.1.0","webrtc-adapter":"^9.0.0"},"alias":{"process":false,"buffer":false}}');var vh=class extends Sh.EventEmitter{constructor(e,n,r,o,i,s=5e3){super(),this.pingInterval=s,this._disconnected=!0,this._messagesQueue=[];let c=e?"wss://":"ws://";this._baseUrl=c+n+":"+r+o+"peerjs?key="+i}start(e,n){this._id=e;let r=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+wh.version),this._disconnected=!1,this._socket.onmessage=o=>{let i;try{i=JSON.parse(o.data),S.log("Server message received:",i)}catch{S.log("Invalid server message",o.data);return}this.emit(Cn.Message,i)},this._socket.onclose=o=>{this._disconnected||(S.log("Socket closed.",o),this._cleanup(),this._disconnected=!0,this.emit(Cn.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),S.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){S.log("Cannot send heartbeat, because socket closed");return}let e=JSON.stringify({type:Be.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){let e=[...this._messagesQueue];this._messagesQueue=[];for(let n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Cn.Error,"Invalid message");return}if(!this._wsOpen())return;let n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}},tl=class{constructor(e){this.connection=e}startConnection(e){let n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Dn.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){let r=this.connection,o={ordered:!!e.reliable},i=n.createDataChannel(r.label,o);r._initializeDataChannel(i),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){S.log("Creating RTCPeerConnection.");let e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){let n=this.connection.peer,r=this.connection.connectionId,o=this.connection.type,i=this.connection.provider;S.log("Listening for ICE candidates."),e.onicecandidate=s=>{!s.candidate||!s.candidate.candidate||(S.log(`Received ICE candidates for ${n}:`,s.candidate),i.socket.send({type:Be.Candidate,payload:{candidate:s.candidate,type:o,connectionId:r},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":S.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(el.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":S.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(el.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":S.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},S.log("Listening for data channel"),e.ondatachannel=s=>{S.log("Received data channel");let c=s.channel;i.getConnection(n,r)._initializeDataChannel(c)},S.log("Listening for remote stream"),e.ontrack=s=>{S.log("Received remote stream");let c=s.streams[0],l=i.getConnection(n,r);if(l.type===Dn.Media){let d=l;this._addStreamToMediaConnection(c,d)}}}cleanup(){S.log("Cleaning up PeerConnection to "+this.connection.peer);let e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};let n=e.signalingState!=="closed",r=!1,o=this.connection.dataChannel;o&&(r=!!o.readyState&&o.readyState!=="closed"),(n||r)&&e.close()}_makeOffer(){return _(this,null,function*(){let e=this.connection.peerConnection,n=this.connection.provider;try{let r=yield e.createOffer(this.connection.options.constraints);S.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{yield e.setLocalDescription(r),S.log("Set localDescription:",r,`for:${this.connection.peer}`);let o={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Dn.Data){let i=this.connection;o=N(C({},o),{label:i.label,reliable:i.reliable,serialization:i.serialization})}n.socket.send({type:Be.Offer,payload:o,dst:this.connection.peer})}catch(o){o!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(be.WebRTC,o),S.log("Failed to setLocalDescription, ",o))}}catch(r){n.emitError(be.WebRTC,r),S.log("Failed to createOffer, ",r)}})}_makeAnswer(){return _(this,null,function*(){let e=this.connection.peerConnection,n=this.connection.provider;try{let r=yield e.createAnswer();S.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{yield e.setLocalDescription(r),S.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:Be.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(o){n.emitError(be.WebRTC,o),S.log("Failed to setLocalDescription, ",o)}}catch(r){n.emitError(be.WebRTC,r),S.log("Failed to create answer, ",r)}})}handleSDP(e,n){return _(this,null,function*(){n=new RTCSessionDescription(n);let r=this.connection.peerConnection,o=this.connection.provider;S.log("Setting remote description",n);let i=this;try{yield r.setRemoteDescription(n),S.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&(yield i._makeAnswer())}catch(s){o.emitError(be.WebRTC,s),S.log("Failed to setRemoteDescription, ",s)}})}handleCandidate(e){return _(this,null,function*(){S.log("handleCandidate:",e);try{yield this.connection.peerConnection.addIceCandidate(e),S.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(be.WebRTC,n),S.log("Failed to handleCandidate, ",n)}})}_addTracksToConnection(e,n){if(S.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return S.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{n.addTrack(r,e)})}_addStreamToMediaConnection(e,n){S.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}},nl=class extends Sh.EventEmitter{emitError(e,n){S.error("Error:",n),this.emit("error",new _h(`${e}`,n))}},_h=class extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}},rl=class extends nl{get open(){return this._open}constructor(e,n,r){super(),this.peer=e,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}},ol=class t extends rl{static#e=this.ID_PREFIX="mc_";get type(){return Dn.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,r){super(e,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||t.ID_PREFIX+ot.randomToken(),this._negotiator=new tl(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{S.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{S.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){S.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){let n=e.type,r=e.payload;switch(e.type){case Be.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case Be.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:S.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){S.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection(N(C({},this.options._payload),{_stream:e}));let r=this.provider._getMessages(this.connectionId);for(let o of r)this.handleMessage(o);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}},Ch=class{constructor(e){this._options=e}_buildRequest(e){let n=this._options.secure?"https":"http",{host:r,port:o,path:i,key:s}=this._options,c=new URL(`${n}://${r}:${o}${i}${s}/${e}`);return c.searchParams.set("ts",`${Date.now()}${Math.random()}`),c.searchParams.set("version",wh.version),fetch(c.href,{referrerPolicy:this._options.referrerPolicy})}retrieveId(){return _(this,null,function*(){try{let e=yield this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){S.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==ot.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}})}listAllPeers(){return _(this,null,function*(){try{let e=yield this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===ot.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw S.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}})}},il=class t extends rl{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Dn.Data}constructor(e,n,r){super(e,n,r),this.connectionId=this.options.connectionId||t.ID_PREFIX+JC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new tl(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{S.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{S.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{S.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(sl.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}handleMessage(e){return _(this,null,function*(){let n=e.payload;switch(e.type){case Be.Answer:yield this._negotiator.handleSDP(e.type,n.sdp);break;case Be.Candidate:yield this._negotiator.handleCandidate(n.candidate);break;default:S.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}})}},Ji=class extends il{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>il.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return S.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;let e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}},Qi=class extends Ji{close(e){super.close(e),this._chunkedData={}}constructor(e,n,r){super(e,n,r),this.chunker=new Xc,this.serialization=Xi.Binary,this._chunkedData={}}_handleDataMessage({data:e}){let n=Lp(e),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){let n=e.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];let o=BA(r.data);this._handleDataMessage({data:o})}}_send(e,n){let r=Vp(e);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}_send_blob(e){return _(this,null,function*(){let n=yield e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)})}_sendChunks(e){let n=this.chunker.chunk(e);S.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(let r of n)this.send(r,!0)}},Dh=class extends Ji{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Xi.None}},bh=class extends Ji{_handleDataMessage({data:e}){let n=this.parse(this.decoder.decode(e)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){let r=this.encoder.encode(this.stringify(e));if(r.byteLength>=ot.chunkedMTU){this.emitError(sl.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=Xi.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}};var Eh=class t extends nl{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){let e=Object.create(null);for(let[n,r]of this._connections)e[n]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:Dh,json:bh,binary:Qi,"binary-utf8":Qi,default:Qi},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?n=e:e&&(r=e.toString()),n=C({debug:0,host:ot.CLOUD_HOST,port:ot.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:ot.randomToken(),config:ot.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{}},n),this._options=n,this._serializers=C(C({},this._serializers),this.options.serializers),this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==ot.CLOUD_HOST?this._options.secure=ot.isSecure():this._options.host==ot.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&S.setLogFunction(this._options.logFunction),S.logLevel=this._options.debug||0,this._api=new Ch(n),this._socket=this._createServerConnection(),!ot.supports.audioVideo&&!ot.supports.data){this._delayedAbort(be.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!ot.validateId(r)){this._delayedAbort(be.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(o=>this._initialize(o)).catch(o=>this._abort(be.ServerError,o))}_createServerConnection(){let e=new vh(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Cn.Message,n=>{this._handleMessage(n)}),e.on(Cn.Error,n=>{this._abort(be.SocketError,n)}),e.on(Cn.Disconnected,()=>{this.disconnected||(this.emitError(be.Network,"Lost connection to server."),this.disconnect())}),e.on(Cn.Close,()=>{this.disconnected||this._abort(be.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){let n=e.type,r=e.payload,o=e.src;switch(n){case Be.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Be.Error:this._abort(be.ServerError,r.msg);break;case Be.IdTaken:this._abort(be.UnavailableID,`ID "${this.id}" is taken`);break;case Be.InvalidKey:this._abort(be.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Be.Leave:S.log(`Received leave message from ${o}`),this._cleanupPeer(o),this._connections.delete(o);break;case Be.Expire:this.emitError(be.PeerUnavailable,`Could not connect to peer ${o}`);break;case Be.Offer:{let i=r.connectionId,s=this.getConnection(o,i);if(s&&(s.close(),S.warn(`Offer received for existing Connection ID:${i}`)),r.type===Dn.Media){let l=new ol(o,this,{connectionId:i,_payload:r,metadata:r.metadata});s=l,this._addConnection(o,s),this.emit("call",l)}else if(r.type===Dn.Data){let l=new this._serializers[r.serialization](o,this,{connectionId:i,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});s=l,this._addConnection(o,s),this.emit("connection",l)}else{S.warn(`Received malformed connection type:${r.type}`);return}let c=this._getMessages(i);for(let l of c)s.handleMessage(l);break}default:{if(!r){S.warn(`You received a malformed message from ${o} of type ${n}`);return}let i=r.connectionId,s=this.getConnection(o,i);s&&s.peerConnection?s.handleMessage(e):i?this._storeMessage(i,e):S.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){let n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n=C({serialization:"default"},n),this.disconnected){S.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(be.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}let r=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,r),r}call(e,n,r={}){if(this.disconnected){S.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(be.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){S.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}let o=new ol(e,this,N(C({},r),{_stream:n}));return this._addConnection(e,o),o}_addConnection(e,n){S.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){let n=this._connections.get(e.peer);if(n){let r=n.indexOf(e);r!==-1&&n.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){let r=this._connections.get(e);if(!r)return null;for(let o of r)if(o.connectionId===n)return o;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){S.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(S.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(let e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){let n=this._connections.get(e);if(n)for(let r of n)r.close()}disconnect(){if(this.disconnected)return;let e=this.id;S.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)S.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)S.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(be.ServerError,n))}};var e0=Eh;var en=class t{constructor(){}peer;connections=[];peerConnection=null;isInitAsHost=!1;onData=new he;onConnectedToHost=new he;onConnectionClosed=new he;init(e,n=null,r=!0){let o=Ut.production?{}:{debug:3};if(this.peer=new e0(e,o),r)this.isInitAsHost=!0,this.peer.on("connection",i=>{console.log("Connection"),this.connections.push(i),i.on("data",s=>{this.onData.next(s)}),i.on("close",()=>{this.onConnectionClosed.next(i),console.log(`Connection with ${i.peer} closed.`)})});else{if(!n)throw new Error("Host id to connect to not specified");this.peer.on("open",i=>{this.peerConnection=this.peer.connect(n),this.peerConnection.on("open",()=>{this.onConnectedToHost.next(""),console.log("Connection made to host")}),this.peerConnection.on("data",s=>{this.onData.next(s)}),this.peerConnection.on("close",()=>{this.onConnectionClosed.next(this.peerConnection),console.log("Connection to host closed.")})})}this.peer.on("error",i=>{console.error("Peer error:",i)})}sendData(e){this.isInitAsHost?this.connections.forEach(n=>{n.open&&n.send(e)}):this.peerConnection?.send(e)}getOnDataSubject(){return this.onData}getOnConnectedToHost(){return this.onConnectedToHost}getOnConnectionClosedSubject(){return this.onConnectionClosed}cleanup(){this.connections.forEach(e=>e.close()),this.onData.complete(),this.onConnectionClosed.complete(),this.peer.destroy()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})};var St=class t{constructor(e,n){this.peerService=e;this.router=n}randomBackgroundIndex=null;hostPeerId=null;mode;playerName;otherPlayerName;scoreStatus;isRestart;canvasHeight;canvasWidth;getRandomBackgroundIndex(){return this.randomBackgroundIndex||(this.randomBackgroundIndex=Math.floor(Math.random()*4)+1),this.randomBackgroundIndex}setRandomBackgroundIndex(e){this.randomBackgroundIndex=e}setHostPeerId(e){this.hostPeerId=e}getHostPeerId(){return this.hostPeerId}setMode(e){this.mode=e}getMode(){return this.mode}setPlayerName(e){this.playerName=e}setOtherPlayerName(e){this.otherPlayerName=e}getOtherPlayerName(){return this.otherPlayerName}getPlayerName(){return this.playerName}getScoreStatus(){return this.scoreStatus}setScoreStatus(e){this.scoreStatus=e}getIsRestart(){return this.isRestart}setIsRestart(e){this.isRestart=e}setCanvasHeight(e){this.canvasHeight=e}setCanvasWidth(e){this.canvasWidth=e}getCanvasWidth(){return this.canvasWidth}getCanvasHeight(){return this.canvasHeight}restartGame(){return _(this,null,function*(){let e={type:"RESTART",payload:{}};this.isRestart=!0,this.peerService.sendData(e),yield this.router.navigate(["game"],{queryParams:{reload:Date.now()}})})}static \u0275fac=function(n){return new(n||t)(F(en),F(De))};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})};var cl=class t{constructor(e,n){this.router=e;this.gameService=n}onCreateNew(){return _(this,null,function*(){this.gameService.setMode("HOSTING"),this.gameService.setHostPeerId(Bc()),yield this.router.navigate(["/name"])})}onJoin(){return _(this,null,function*(){yield this.router.navigate(["/join"])})}environment=Ut;static \u0275fac=function(n){return new(n||t)(A(De),A(St))};static \u0275cmp=Ce({type:t,selectors:[["app-start"]],decls:9,vars:1,consts:[[1,"container"],[1,"logo-container"],["alt","Logo",1,"logo",3,"src"],[1,"buttons"],["color","primary",3,"click"],["color","secondary",3,"click"]],template:function(n,r){n&1&&(K(0,"div",0)(1,"div",1),He(2,"img",2),ne(),K(3,"app-card")(4,"div",3)(5,"app-button",4),Pe("click",function(){return r.onCreateNew()}),Re(6,"New Game"),ne(),K(7,"app-button",5),Pe("click",function(){return r.onJoin()}),Re(8,"Join"),ne()()()()),n&2&&(xe(2),nt("src",r.environment.production?"/grenadepong/logo.png":"logo.png",dn))},dependencies:[Jt,Et,BC],styles:[".container[_ngcontent-%COMP%]{padding:3rem}.logo-container[_ngcontent-%COMP%]{display:grid;place-items:center}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}.logo[_ngcontent-%COMP%]{margin:0 auto;width:25rem}"]})};var l0=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(A(gr),A(Lt))};static \u0275dir=qe({type:t})}return t})(),GA=(()=>{class t extends l0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=io(t)))(o||t)}})();static \u0275dir=qe({type:t,features:[fn]})}return t})(),u0=new M("");var zA={provide:u0,useExisting:pr(()=>Ro),multi:!0};function WA(){let t=hn()?hn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var qA=new M(""),Ro=(()=>{class t extends l0{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!WA())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(A(gr),A(Lt),A(qA,8))};static \u0275dir=qe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Pe("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[gi([zA]),fn]})}return t})();function YA(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Th=new M(""),d0=new M("");function ZA(t){return YA(t.value)?{required:!0}:null}function t0(t){return null}function f0(t){return t!=null}function p0(t){return Un(t)?me(t):t}function h0(t){let e={};return t.forEach(n=>{e=n!=null?C(C({},e),n):e}),Object.keys(e).length===0?null:e}function m0(t,e){return e.map(n=>n(t))}function QA(t){return!t.validate}function g0(t){return t.map(e=>QA(e)?e:n=>e.validate(n))}function KA(t){if(!t)return null;let e=t.filter(f0);return e.length==0?null:function(n){return h0(m0(n,e))}}function Mh(t){return t!=null?KA(g0(t)):null}function JA(t){if(!t)return null;let e=t.filter(f0);return e.length==0?null:function(n){let r=m0(n,e).map(p0);return Iu(r).pipe(q(h0))}}function Ah(t){return t!=null?JA(g0(t)):null}function n0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function XA(t){return t._rawValidators}function eR(t){return t._rawAsyncValidators}function xh(t){return t?Array.isArray(t)?t:[t]:[]}function dl(t,e){return Array.isArray(t)?t.includes(e):t===e}function r0(t,e){let n=xh(e);return xh(t).forEach(o=>{dl(n,o)||n.push(o)}),n}function o0(t,e){return xh(e).filter(n=>!dl(t,n))}var fl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ah(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Mo=class extends fl{name;get formDirective(){return null}get path(){return null}},ss=class extends fl{_parent=null;name=null;valueAccessor=null},pl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},tR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hj=N(C({},tR),{"[class.ng-submitted]":"isSubmitted"}),yl=(()=>{class t extends pl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(A(ss,2))};static \u0275dir=qe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&ac("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[fn]})}return t})(),vl=(()=>{class t extends pl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(A(Mo,10))};static \u0275dir=qe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&ac("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[fn]})}return t})();var ts="VALID",ul="INVALID",xo="PENDING",ns="DISABLED",Ao=class{},hl=class extends Ao{value;source;constructor(e,n){super(),this.value=e,this.source=n}},os=class extends Ao{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},is=class extends Ao{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},To=class extends Ao{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function y0(t){return(_l(t)?t.validators:t)||null}function nR(t){return Array.isArray(t)?Mh(t):t||null}function v0(t,e){return(_l(e)?e.asyncValidators:t)||null}function rR(t){return Array.isArray(t)?Ah(t):t||null}function _l(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function oR(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function iR(t,e,n){t._forEachChild((r,o)=>{if(n[o]===void 0)throw new I(1002,"")})}var ml=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Vt(this.statusReactive)}set status(e){Vt(()=>this.statusReactive.set(e))}_status=vi(()=>this.statusReactive());statusReactive=Qt(void 0);get valid(){return this.status===ts}get invalid(){return this.status===ul}get pending(){return this.status==xo}get disabled(){return this.status===ns}get enabled(){return this.status!==ns}errors;get pristine(){return Vt(this.pristineReactive)}set pristine(e){Vt(()=>this.pristineReactive.set(e))}_pristine=vi(()=>this.pristineReactive());pristineReactive=Qt(!0);get dirty(){return!this.pristine}get touched(){return Vt(this.touchedReactive)}set touched(e){Vt(()=>this.touchedReactive.set(e))}_touched=vi(()=>this.touchedReactive());touchedReactive=Qt(!1);get untouched(){return!this.touched}_events=new he;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(r0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(r0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(o0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(o0(e,this._rawAsyncValidators))}hasValidator(e){return dl(this._rawValidators,e)}hasAsyncValidator(e){return dl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(N(C({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new is(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new is(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(N(C({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new os(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new os(!0,r))}markAsPending(e={}){this.status=xo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new To(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(N(C({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ns,this.errors=null,this._forEachChild(o=>{o.disable(N(C({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hl(this.value,r)),this._events.next(new To(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(N(C({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ts,this._forEachChild(r=>{r.enable(N(C({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(N(C({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ts||this.status===xo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new hl(this.value,n)),this._events.next(new To(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(N(C({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ns:ts}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=xo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=p0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new To(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?ns:this.errors?ul:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xo)?xo:this._anyControlsHaveStatus(ul)?ul:ts}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new os(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new is(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_l(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=nR(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=rR(this._rawAsyncValidators)}},gl=class extends ml{constructor(e,n,r){super(y0(n),v0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){iR(this,!0,e),Object.keys(e).forEach(r=>{oR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Rh=new M("CallSetDisabledState",{providedIn:"root",factory:()=>Nh}),Nh="always";function sR(t,e){return[...e.path,t]}function _0(t,e,n=Nh){C0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),cR(t,e),uR(t,e),lR(t,e),aR(t,e)}function i0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function aR(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function C0(t,e){let n=XA(t);e.validator!==null?t.setValidators(n0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=eR(t);e.asyncValidator!==null?t.setAsyncValidators(n0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();i0(e._rawValidators,o),i0(e._rawAsyncValidators,o)}function cR(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&D0(t,e)})}function lR(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&D0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function D0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function uR(t,e){let n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function dR(t,e){t==null,C0(t,e)}function fR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function pR(t){return Object.getPrototypeOf(t.constructor)===GA}function hR(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mR(t,e){if(!e)return null;Array.isArray(e);let n,r,o;return e.forEach(i=>{i.constructor===Ro?n=i:pR(i)?r=i:o=i}),o||r||n||null}var gR={provide:Mo,useExisting:pr(()=>as)},rs=Promise.resolve(),as=(()=>{class t extends Mo{callSetDisabledState;get submitted(){return Vt(this.submittedReactive)}_submitted=vi(()=>this.submittedReactive());submittedReactive=Qt(!1);_directives=new Set;form;ngSubmit=new Ne;options;constructor(n,r,o){super(),this.callSetDisabledState=o,this.form=new gl({},Mh(n),Ah(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){rs.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),_0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){rs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){rs.then(()=>{let r=this._findContainer(n.path),o=new gl({});dR(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){rs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){rs.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),hR(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(A(Th,10),A(d0,10),A(Rh,8))};static \u0275dir=qe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Pe("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[gi([gR]),fn]})}return t})();function s0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function a0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var yR=class extends ml{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(y0(n),v0(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_l(n)&&(n.nonNullable||n.initialValueIsDefault)&&(a0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){s0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){s0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){a0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var vR={provide:ss,useExisting:pr(()=>cs)},c0=Promise.resolve(),cs=(()=>{class t extends ss{_changeDetectorRef;callSetDisabledState;control=new yR;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ne;constructor(n,r,o,i,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=mR(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),fR(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){_0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){c0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&yi(r);c0.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?sR(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(A(Mo,9),A(Th,10),A(d0,10),A(u0,10),A(Hn,8),A(Rh,8))};static \u0275dir=qe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[gi([vR]),fn,ro]})}return t})(),Cl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=qe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var _R=(()=>{class t{_validator=t0;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):t0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=qe({type:t,features:[ro]})}return t})();var CR={provide:Th,useExisting:pr(()=>ls),multi:!0};var ls=(()=>{class t extends _R{required;inputName="required";normalizeInput=yi;createValidator=n=>ZA;enabled(n){return n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=io(t)))(o||t)}})();static \u0275dir=qe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&sc("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[gi([CR]),fn]})}return t})();var DR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jn({type:t});static \u0275inj=On({})}return t})();var Dl=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Rh,useValue:n.callSetDisabledState??Nh}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jn({type:t});static \u0275inj=On({imports:[DR]})}return t})();var bl=class t{constructor(e,n,r){this.route=e;this.gameService=n;this.router=r}name=Qt("");isJoining=!1;ngOnInit(){let e=this.route.snapshot.queryParamMap.get("host-peer-id"),n=this.route.snapshot.queryParamMap.get("background-index");e&&(this.gameService.setHostPeerId(e),this.gameService.setMode("JOINING"),this.isJoining=!0),n&&this.gameService.setRandomBackgroundIndex(Number.parseInt(n))}onSubmit(){return _(this,null,function*(){this.gameService.setPlayerName(this.name()),this.gameService.getMode()!="JOINING"?yield this.router.navigate(["/wait"]):(this.gameService.setMode("JOINING"),yield this.router.navigate(["/game"]))})}environment=Ut;static \u0275fac=function(n){return new(n||t)(A(vn),A(St),A(De))};static \u0275cmp=Ce({type:t,selectors:[["app-name"]],decls:9,vars:3,consts:[["nameForm","ngForm"],[1,"container"],[1,"logo-container"],["alt","Logo",1,"logo",3,"src"],[3,"ngSubmit"],["name","name","required","","placeholder","NICKNAME",1,"text",3,"ngModelChange","ngModel"],["color","primary",3,"disabled"]],template:function(n,r){if(n&1){let o=lo();K(0,"div",1)(1,"div",2),He(2,"img",3),ne(),K(3,"app-card")(4,"form",4,0),Pe("ngSubmit",function(){return Ln(o),Vn(r.onSubmit())}),K(6,"input",5),mi("ngModelChange",function(s){return Ln(o),dc(r.name,s)||(r.name=s),Vn(s)}),ne(),K(7,"app-button",6),Re(8,"Start"),ne()()()()}if(n&2){let o=uc(5);xe(2),nt("src",r.environment.production?"/grenadepong/logo.png":"logo.png",dn),xe(4),hi("ngModel",r.name),xe(),nt("disabled",!o.valid)}},dependencies:[Dl,Cl,Ro,yl,vl,ls,cs,as,Bt,Jt,Et],styles:["input[_ngcontent-%COMP%]{font-size:1.6rem;padding:1.5rem 2rem;width:100%;border-radius:2rem;border:1px solid #999;transition:all .3s;margin-bottom:.5rem;font-family:Roboto,sans-serif}input[_ngcontent-%COMP%]::placeholder{color:#999}input[_ngcontent-%COMP%]:focus:valid{border-bottom:3px solid #55c57a}input[_ngcontent-%COMP%]:focus:invalid{border-bottom:3px solid #ff7730}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 1rem 2rem #0000001a;border-bottom:3px solid #55c57a}.container[_ngcontent-%COMP%]{padding:3rem}.logo-container[_ngcontent-%COMP%]{display:grid;place-items:center}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}.logo[_ngcontent-%COMP%]{margin:0 auto;width:25rem}"]})};var E0={extension:{type:R.Environment,name:"browser",priority:-1},test:()=>!0,load:()=>_(void 0,null,function*(){yield import("./chunk-ZOR5VATP.js")})};var S0={extension:{type:R.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:()=>_(void 0,null,function*(){yield import("./chunk-HHVQWY62.js")})};var El;function w0(t){return El!==void 0||(El=(()=>{let e={stencil:!0,failIfMajorPerformanceCaveat:t??Ts.defaultOptions.failIfMajorPerformanceCaveat};try{if(!ve.get().getWebGLRenderingContext())return!1;let r=ve.get().createCanvas().getContext("webgl",e),o=!!r?.getContextAttributes()?.stencil;if(r){let i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,o}catch{return!1}})()),El}var Sl;function I0(){return _(this,arguments,function*(t={}){return Sl!==void 0||(Sl=yield _(this,null,function*(){let e=ve.get().getNavigator().gpu;if(!e)return!1;try{return yield(yield e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})),Sl})}var x0=["webgl","webgpu","canvas"];function T0(t){return _(this,null,function*(){let e=[];t.preference?(e.push(t.preference),x0.forEach(i=>{i!==t.preference&&e.push(i)})):e=x0.slice();let n,r={};for(let i=0;i<e.length;i++){let s=e[i];if(s==="webgpu"&&(yield I0())){let{WebGPURenderer:c}=yield import("./chunk-GQ4TNGRE.js");n=c,r=C(C({},t),t.webgpu);break}else if(s==="webgl"&&w0(t.failIfMajorPerformanceCaveat??Ts.defaultOptions.failIfMajorPerformanceCaveat)){let{WebGLRenderer:c}=yield import("./chunk-WBJOIYRA.js");n=c,r=C(C({},t),t.webgl);break}else if(s==="canvas")throw r=C({},t),new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");let o=new n;return yield o.init(r),o})}var bR=(()=>{let t=class Ph{constructor(...n){this.stage=new gm,n[0]!==void 0&&nu(tu,"Application constructor options are deprecated, please use Application.init() instead.")}init(n){return _(this,null,function*(){n=C({},n),this.renderer=yield T0(n),Ph._plugins.forEach(r=>{r.init.call(this,n)})})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return nu(tu,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(n=!1,r=!1){let o=Ph._plugins.slice(0);o.reverse(),o.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(n),this.renderer=null}};return t._plugins=[],t})(),wl=bR;Rt.handleByList(R.Application,wl._plugins);Rt.add(bm);var us=class extends Dm{constructor(e,n){super();let{textures:r,data:o}=e;Object.keys(o.pages).forEach(i=>{let s=o.pages[parseInt(i,10)],c=r[s.id];this.pages.push({texture:c})}),Object.keys(o.chars).forEach(i=>{let s=o.chars[i],{frame:c,source:l}=r[s.page],d=new mm(s.x+c.x,s.y+c.y,s.width,s.height),a=new Nt({source:l,frame:d});this.chars[i]={id:i.codePointAt(0),xOffset:s.xOffset,yOffset:s.yOffset,xAdvance:s.xAdvance,kerning:s.kerning??{},texture:a}}),this.baseRenderedFontSize=o.fontSize,this.baseMeasurementFontSize=o.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:o.fontSize},this.baseLineOffset=o.baseLineOffset,this.lineHeight=o.lineHeight,this.fontFamily=o.fontFamily,this.distanceField=o.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){let{texture:n}=this.pages[e];n.destroy(!0)}this.pages=null}static install(e){ou.install(e)}static uninstall(e){ou.uninstall(e)}};var Il={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){let e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(let u in e){let f=e[u].match(/^[a-z]+/gm)[0],p=e[u].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(let y in p){let m=p[y].split("="),b=m[0],x=m[1].replace(/"/gm,""),L=parseFloat(x),ce=isNaN(L)?x:L;h[b]=ce}n[f].push(h)}let r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[o]=n.info,[i]=n.common,[s]=n.distanceField??[];s&&(r.distanceField={range:parseInt(s.distanceRange,10),type:s.fieldType}),r.fontSize=parseInt(o.size,10),r.fontFamily=o.face,r.lineHeight=parseInt(i.lineHeight,10);let c=n.page;for(let u=0;u<c.length;u++)r.pages.push({id:parseInt(c[u].id,10)||0,file:c[u].file});let l={};r.baseLineOffset=r.lineHeight-parseInt(i.base,10);let d=n.char;for(let u=0;u<d.length;u++){let f=d[u],p=parseInt(f.id,10),h=f.letter??f.char??String.fromCharCode(p);h==="space"&&(h=" "),l[p]=h,r.chars[h]={id:p,page:parseInt(f.page,10)||0,x:parseInt(f.x,10),y:parseInt(f.y,10),width:parseInt(f.width,10),height:parseInt(f.height,10),xOffset:parseInt(f.xoffset,10),yOffset:parseInt(f.yoffset,10),xAdvance:parseInt(f.xadvance,10),kerning:{}}}let a=n.kerning||[];for(let u=0;u<a.length;u++){let f=parseInt(a[u].first,10),p=parseInt(a[u].second,10),h=parseInt(a[u].amount,10);r.chars[l[p]].kerning[l[f]]=h}return r}};var kh={test(t){let e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){let e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=t.getElementsByTagName("info")[0],r=t.getElementsByTagName("common")[0],o=t.getElementsByTagName("distanceField")[0];o&&(e.distanceField={type:o.getAttribute("fieldType"),range:parseInt(o.getAttribute("distanceRange"),10)});let i=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),c=t.getElementsByTagName("kerning");e.fontSize=parseInt(n.getAttribute("size"),10),e.fontFamily=n.getAttribute("face"),e.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let d=0;d<i.length;d++)e.pages.push({id:parseInt(i[d].getAttribute("id"),10)||0,file:i[d].getAttribute("file")});let l={};e.baseLineOffset=e.lineHeight-parseInt(r.getAttribute("base"),10);for(let d=0;d<s.length;d++){let a=s[d],u=parseInt(a.getAttribute("id"),10),f=a.getAttribute("letter")??a.getAttribute("char")??String.fromCharCode(u);f==="space"&&(f=" "),l[u]=f,e.chars[f]={id:u,page:parseInt(a.getAttribute("page"),10)||0,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),width:parseInt(a.getAttribute("width"),10),height:parseInt(a.getAttribute("height"),10),xOffset:parseInt(a.getAttribute("xoffset"),10),yOffset:parseInt(a.getAttribute("yoffset"),10),xAdvance:parseInt(a.getAttribute("xadvance"),10),kerning:{}}}for(let d=0;d<c.length;d++){let a=parseInt(c[d].getAttribute("first"),10),u=parseInt(c[d].getAttribute("second"),10),f=parseInt(c[d].getAttribute("amount"),10);e.chars[l[u]].kerning[l[a]]=f}return e}};var Oh={test(t){return typeof t=="string"&&t.includes("<font>")?kh.test(ve.get().parseXML(t)):!1},parse(t){return kh.parse(ve.get().parseXML(t))}};var ER=[".xml",".fnt"],M0={extension:{type:R.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof us,getCacheableAssets(t,e){let n={};return t.forEach(r=>{n[r]=e,n[`${r}-bitmap`]=e}),n[`${e.fontFamily}-bitmap`]=e,n}},A0={extension:{type:R.LoadParser,priority:pt.Normal},name:"loadBitmapFont",test(t){return ER.includes(ht.extname(t).toLowerCase())},testParse(t){return _(this,null,function*(){return Il.test(t)||Oh.test(t)})},parse(t,e,n){return _(this,null,function*(){let r=Il.test(t)?Il.parse(t):Oh.parse(t),{src:o}=e,{pages:i}=r,s=[],c=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let u=0;u<i.length;++u){let f=i[u].file,p=ht.join(ht.dirname(o),f);p=vm(p,o),s.push({src:p,data:c})}let l=yield n.load(s),d=s.map(u=>l[u.src]);return new us({data:r,textures:d},o)})},load(t,e){return _(this,null,function*(){return yield(yield ve.get().fetch(t)).text()})},unload(t,e,n){return _(this,null,function*(){yield Promise.all(t.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),t.destroy()})}};var xl=class{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}_next(){return _(this,null,function*(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());yield this._loader.load(e),this._isLoading=!1,this._next()}})}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}};var R0={extension:{type:R.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof Nt),getCacheableAssets:(t,e)=>{let n={};return t.forEach(r=>{e.forEach((o,i)=>{n[r+(i===0?"":i+1)]=o})}),n}};function Tl(t){return _(this,null,function*(){if("Image"in globalThis)return new Promise(e=>{let n=new Image;n.onload=()=>{e(!0)},n.onerror=()=>{e(!1)},n.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{let e=yield(yield fetch(t)).blob();yield createImageBitmap(e)}catch{return!1}return!0}return!1})}var N0={extension:{type:R.DetectionParser,priority:1},test:()=>_(void 0,null,function*(){return Tl("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=")}),add:t=>_(void 0,null,function*(){return[...t,"avif"]}),remove:t=>_(void 0,null,function*(){return t.filter(e=>e!=="avif")})};var P0=["png","jpg","jpeg"],k0={extension:{type:R.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:t=>_(void 0,null,function*(){return[...t,...P0]}),remove:t=>_(void 0,null,function*(){return t.filter(e=>!P0.includes(e))})};var SR="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function No(t){return SR?!1:document.createElement("video").canPlayType(t)!==""}var O0={extension:{type:R.DetectionParser,priority:0},test:()=>_(void 0,null,function*(){return No("video/mp4")}),add:t=>_(void 0,null,function*(){return[...t,"mp4","m4v"]}),remove:t=>_(void 0,null,function*(){return t.filter(e=>e!=="mp4"&&e!=="m4v")})};var F0={extension:{type:R.DetectionParser,priority:0},test:()=>_(void 0,null,function*(){return No("video/ogg")}),add:t=>_(void 0,null,function*(){return[...t,"ogv"]}),remove:t=>_(void 0,null,function*(){return t.filter(e=>e!=="ogv")})};var L0={extension:{type:R.DetectionParser,priority:0},test:()=>_(void 0,null,function*(){return No("video/webm")}),add:t=>_(void 0,null,function*(){return[...t,"webm"]}),remove:t=>_(void 0,null,function*(){return t.filter(e=>e!=="webm")})};var V0={extension:{type:R.DetectionParser,priority:0},test:()=>_(void 0,null,function*(){return Tl("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")}),add:t=>_(void 0,null,function*(){return[...t,"webp"]}),remove:t=>_(void 0,null,function*(){return t.filter(e=>e!=="webp")})};var Ml=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,n,r)=>(this._parsersValidated=!1,e[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,n){let r={promise:null,parser:null};return r.promise=_(this,null,function*(){let o=null,i=null;if(n.loadParser&&(i=this._parserHash[n.loadParser],i||ft(`[Assets] specified load parser "${n.loadParser}" not found while loading ${e}`)),!i){for(let s=0;s<this.parsers.length;s++){let c=this.parsers[s];if(c.load&&c.test?.(e,n,this)){i=c;break}}if(!i)return ft(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=yield i.load(e,n,this),r.parser=i;for(let s=0;s<this.parsers.length;s++){let c=this.parsers[s];c.parse&&c.parse&&(yield c.testParse?.(o,n,this))&&(o=(yield c.parse(o,n,this))||o,r.parser=c)}return o}),r}load(e,n){return _(this,null,function*(){this._parsersValidated||this._validateParsers();let r=0,o={},i=ws(e),s=Kn(e,d=>({alias:[d],src:d,data:{}})),c=s.length,l=s.map(d=>_(this,null,function*(){let a=ht.toAbsolute(d.src);if(!o[d.src])try{this.promiseCache[a]||(this.promiseCache[a]=this._getLoadPromiseAndParser(a,d)),o[d.src]=yield this.promiseCache[a].promise,n&&n(++r/c)}catch(u){throw delete this.promiseCache[a],delete o[d.src],new Error(`[Loader.load] Failed to load ${a}.
${u}`)}}));return yield Promise.all(l),i?o[s[0].src]:o})}unload(e){return _(this,null,function*(){let r=Kn(e,o=>({alias:[o],src:o})).map(o=>_(this,null,function*(){let i=ht.toAbsolute(o.src),s=this.promiseCache[i];if(s){let c=yield s.promise;delete this.promiseCache[i],yield s.parser?.unload?.(c,o,this)}}));yield Promise.all(r)})}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,n)=>(n.name?e[n.name]&&ft(`[Assets] loadParser name conflict "${n.name}"`):ft("[Assets] loadParser should have a name"),N(C({},e),{[n.name]:n})),{})}};function wt(t,e){if(Array.isArray(e)){for(let n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function It(t,e){let n=t.split("?")[0],r=ht.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}var wR=".json",IR="application/json",B0={extension:{type:R.LoadParser,priority:pt.Low},name:"loadJson",test(t){return wt(t,IR)||It(t,wR)},load(t){return _(this,null,function*(){return yield(yield ve.get().fetch(t)).json()})}};var xR=".txt",TR="text/plain",j0={name:"loadTxt",extension:{type:R.LoadParser,priority:pt.Low,name:"loadTxt"},test(t){return wt(t,TR)||It(t,xR)},load(t){return _(this,null,function*(){return yield(yield ve.get().fetch(t)).text()})}};var MR=["normal","bold","100","200","300","400","500","600","700","800","900"],AR=[".ttf",".otf",".woff",".woff2"],RR=["font/ttf","font/otf","font/woff","font/woff2"],NR=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function PR(t){let e=ht.extname(t),o=ht.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)),i=o.length>0;for(let c of o)if(!c.match(NR)){i=!1;break}let s=o.join(" ");return i||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}var kR=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function OR(t){return kR.test(t)?t:encodeURI(t)}var U0={extension:{type:R.LoadParser,priority:pt.Low},name:"loadWebFont",test(t){return wt(t,RR)||It(t,AR)},load(t,e){return _(this,null,function*(){let n=ve.get().getFontFaceSet();if(n){let r=[],o=e.data?.family??PR(t),i=e.data?.weights?.filter(c=>MR.includes(c))??["normal"],s=e.data??{};for(let c=0;c<i.length;c++){let l=i[c],d=new FontFace(o,`url(${OR(t)})`,N(C({},s),{weight:l}));yield d.load(),n.add(d),r.push(d)}return mt.set(`${o}-and-url`,{url:t,fontFaces:r}),r.length===1?r[0]:r}return ft("[loadWebFont] FontFace API is not supported. Skipping loading font"),null})},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>{mt.remove(e.family),ve.get().getFontFaceSet().delete(e)})}};function Po(t,e=1){let n=Sn.RETINA_PREFIX?.exec(t);return n?parseFloat(n[1]):e}function ko(t,e,n){t.label=n,t._sourceOrigin=n;let r=new Nt({source:t,label:n}),o=()=>{delete e.promiseCache[n],mt.has(n)&&mt.remove(n)};return r.source.once("destroy",()=>{e.promiseCache[n]&&(ft("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),o())}),r.once("destroy",()=>{t.destroyed||(ft("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),r}var FR=".svg",LR="image/svg+xml",H0={extension:{type:R.LoadParser,priority:pt.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return wt(t,LR)||It(t,FR)},load(t,e,n){return _(this,null,function*(){return e.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?BR(t):VR(t,e,n,this.config.crossOrigin)})},unload(t){t.destroy(!0)}};function VR(t,e,n,r){return _(this,null,function*(){let i=yield(yield ve.get().fetch(t)).blob(),s=URL.createObjectURL(i),c=new Image;c.src=s,c.crossOrigin=r,yield c.decode(),URL.revokeObjectURL(s);let l=document.createElement("canvas"),d=l.getContext("2d"),a=e.data?.resolution||Po(t),u=e.data?.width??c.width,f=e.data?.height??c.height;l.width=u*a,l.height=f*a,d.drawImage(c,0,0,u*a,f*a);let m=e.data,{parseAsGraphicsContext:p}=m,h=Es(m,["parseAsGraphicsContext"]),y=new Is(C({resource:l,alphaMode:"premultiply-alpha-on-upload",resolution:a},h));return ko(y,n,t)})}function BR(t){return _(this,null,function*(){let n=yield(yield ve.get().fetch(t)).text(),r=new Cm;return r.svg(n),r})}var jR=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`,Oo=null,Fh=(()=>{class t{constructor(){Oo||(Oo=URL.createObjectURL(new Blob([jR],{type:"application/javascript"}))),this.worker=new Worker(Oo)}}return t.revokeObjectURL=function(){Oo&&(URL.revokeObjectURL(Oo),Oo=null)},t})();var UR=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`,Fo=null,$0=(()=>{class t{constructor(){Fo||(Fo=URL.createObjectURL(new Blob([UR],{type:"application/javascript"}))),this.worker=new Worker(Fo)}}return t.revokeObjectURL=function(){Fo&&(URL.revokeObjectURL(Fo),Fo=null)},t})();var G0=0,Lh,Vh=class{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{let{worker:n}=new Fh;n.addEventListener("message",r=>{n.terminate(),Fh.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,n){return this._run("loadImageBitmap",[e,n?.data?.alphaMode])}_initWorkers(){return _(this,null,function*(){this._initialized||(this._initialized=!0)})}_getWorker(){Lh===void 0&&(Lh=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<Lh&&(this._createdWorkers++,e=new $0().worker,e.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}_run(e,n){return _(this,null,function*(){yield this._initWorkers();let r=new Promise((o,i)=>{this._queue.push({id:e,arguments:n,resolve:o,reject:i})});return this._next(),r})}_next(){if(!this._queue.length)return;let e=this._getWorker();if(!e)return;let n=this._queue.pop(),r=n.id;this._resolveHash[G0]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:G0++,id:r})}},Bh=new Vh;var HR=[".jpeg",".jpg",".png",".webp",".avif"],$R=["image/jpeg","image/png","image/webp","image/avif"];function GR(t,e){return _(this,null,function*(){let n=yield ve.get().fetch(t);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${n.status} ${n.statusText}`);let r=yield n.blob();return e?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)})}var Al={name:"loadTextures",extension:{type:R.LoadParser,priority:pt.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return wt(t,$R)||It(t,HR)},load(t,e,n){return _(this,null,function*(){let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&(yield Bh.isImageBitmapSupported())?r=yield Bh.loadImageBitmap(t,e):r=yield GR(t,e):r=yield new Promise(i=>{r=new Image,r.crossOrigin=this.config.crossOrigin,r.src=t,r.complete?i(r):r.onload=()=>{i(r)}});let o=new Is(C({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:e.data?.resolution||Po(t)},e.data));return ko(o,n,t)})},unload(t){t.destroy(!0)}};var z0=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],zR=z0.map(t=>`video/${t.substring(1)}`);function WR(t,e,n){n===void 0&&!e.startsWith("data:")?t.crossOrigin=YR(e):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}function qR(t){return new Promise((e,n)=>{t.addEventListener("canplaythrough",r),t.addEventListener("error",o),t.load();function r(){i(),e()}function o(s){i(),n(s)}function i(){t.removeEventListener("canplaythrough",r),t.removeEventListener("error",o)}})}function YR(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;let n=new URL(t,document.baseURI);return n.hostname!==e.hostname||n.port!==e.port||n.protocol!==e.protocol?"anonymous":""}var W0={name:"loadVideo",extension:{type:R.LoadParser,name:"loadVideo"},test(t){let e=wt(t,zR),n=It(t,z0);return e||n},load(t,e,n){return _(this,null,function*(){let r=C(N(C({},xs.defaultOptions),{resolution:e.data?.resolution||Po(t),alphaMode:e.data?.alphaMode||(yield _m())}),e.data),o=document.createElement("video"),i={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(i).forEach(l=>{let d=i[l];d!==void 0&&o.setAttribute(l,d)}),r.muted===!0&&(o.muted=!0),WR(o,t,r.crossorigin);let s=document.createElement("source"),c;if(t.startsWith("data:"))c=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){let l=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();c=xs.MIME_TYPES[l]||`video/${l}`}return s.src=t,c&&(s.type=c),new Promise(l=>{let d=()=>_(this,null,function*(){let a=new xs(N(C({},r),{resource:o}));o.removeEventListener("canplay",d),e.data.preload&&(yield qR(o)),l(ko(a,n,t))});o.addEventListener("canplay",d),o.appendChild(s)})})},unload(t){t.destroy(!0)}};var Rl={extension:{type:R.ResolveParser,name:"resolveTexture"},test:Al.test,parse:t=>({resolution:parseFloat(Sn.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})};var q0={extension:{type:R.ResolveParser,priority:-2,name:"resolveJson"},test:t=>Sn.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:Rl.parse};var Nl=class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Sn,this.loader=new Ml,this.cache=mt,this._backgroundLoader=new xl(this.loader),this._backgroundLoader.active=!0,this.reset()}init(){return _(this,arguments,function*(e={}){if(this._initialized){ft("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let i=e.manifest;typeof i=="string"&&(i=yield this.load(i)),this.resolver.addManifest(i)}let n=e.texturePreference?.resolution??1,r=typeof n=="number"?[n]:n,o=yield this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)})}add(e){this.resolver.add(e)}load(e,n){return _(this,null,function*(){this._initialized||(yield this.init());let r=ws(e),o=Kn(e).map(c=>{if(typeof c!="string"){let l=this.resolver.getAlias(c);return l.some(d=>!this.resolver.hasKey(d))&&this.add(c),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(c)||this.add({alias:c,src:c}),c}),i=this.resolver.resolve(o),s=yield this._mapLoadToResolve(i,n);return r?s[o[0]]:s})}addBundle(e,n){this.resolver.addBundle(e,n)}loadBundle(e,n){return _(this,null,function*(){this._initialized||(yield this.init());let r=!1;typeof e=="string"&&(r=!0,e=[e]);let o=this.resolver.resolveBundle(e),i={},s=Object.keys(o),c=0,l=0,d=()=>{n?.(++c/l)},a=s.map(u=>{let f=o[u];return l+=Object.keys(f).length,this._mapLoadToResolve(f,d).then(p=>{i[u]=p})});return yield Promise.all(a),r?i[e[0]]:i})}backgroundLoad(e){return _(this,null,function*(){this._initialized||(yield this.init()),typeof e=="string"&&(e=[e]);let n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))})}backgroundLoadBundle(e){return _(this,null,function*(){this._initialized||(yield this.init()),typeof e=="string"&&(e=[e]);let n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return mt.get(e);let n={};for(let r=0;r<e.length;r++)n[r]=mt.get(e[r]);return n}_mapLoadToResolve(e,n){return _(this,null,function*(){let r=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;let o=yield this.loader.load(r,n);this._backgroundLoader.active=!0;let i={};return r.forEach(s=>{let c=o[s.src],l=[s.src];s.alias&&l.push(...s.alias),l.forEach(d=>{i[d]=c}),mt.set(l,c)}),i})}unload(e){return _(this,null,function*(){this._initialized||(yield this.init());let n=Kn(e).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(n);yield this._unloadFromResolved(r)})}unloadBundle(e){return _(this,null,function*(){this._initialized||(yield this.init()),e=Kn(e);let n=this.resolver.resolveBundle(e),r=Object.keys(n).map(o=>this._unloadFromResolved(n[o]));yield Promise.all(r)})}_unloadFromResolved(e){return _(this,null,function*(){let n=Object.values(e);n.forEach(r=>{mt.remove(r.src)}),yield this.loader.unload(n)})}_detectFormats(e){return _(this,null,function*(){let n=[];e.preferredFormats&&(n=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(let r of e.detections)e.skipDetections||(yield r.test())?n=yield r.add(n):e.skipDetections||(n=yield r.remove(n));return n=n.filter((r,o)=>n.indexOf(r)===o),n})}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in e).forEach(r=>{n.config[r]=e[r]})})}},xt=new Nl;Rt.handleByList(R.LoadParser,xt.loader.parsers).handleByList(R.ResolveParser,xt.resolver.parsers).handleByList(R.CacheParser,xt.cache.parsers).handleByList(R.DetectionParser,xt.detections);Rt.add(R0,k0,N0,V0,O0,F0,L0,B0,j0,U0,H0,Al,W0,A0,M0,Rl,q0);var Y0={loader:R.LoadParser,resolver:R.ResolveParser,cache:R.CacheParser,detection:R.DetectionParser};Rt.handle(R.Asset,t=>{let e=t.ref;Object.entries(Y0).filter(([n])=>!!e[n]).forEach(([n,r])=>Rt.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{let e=t.ref;Object.keys(Y0).filter(n=>!!e[n]).forEach(n=>Rt.remove(e[n]))});var ds=class t extends wn{constructor(...e){let n=e[0];Array.isArray(e[0])&&(n={textures:e[0],autoUpdate:e[1]});let c=n,{textures:r,autoUpdate:o}=c,i=Es(c,["textures","autoUpdate"]),[s]=r;super(N(C({},i),{texture:s instanceof Nt?s:s.texture})),this._textures=null,this._durations=null,this._autoUpdate=o??!0,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=r}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Go.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Go.shared.add(this.update,this,ym.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;let n=e.deltaTime,r=this.animationSpeed*n,o=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];let s=Math.sign(this.animationSpeed*n);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<o||this.animationSpeed<0&&this.currentFrame>o)&&this.onLoop(),this._updateTexture())}_updateTexture(){let e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this.texture=this._textures[e],this.updateAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){let n=[];for(let r=0;r<e.length;++r)n.push(Nt.from(e[r]));return new t(n)}static fromImages(e){let n=[];for(let r=0;r<e.length;++r)n.push(Nt.from(e[r]));return new t(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof Nt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);let n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Go.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Go.shared.add(this.update,this),this._isConnectedToTicker=!0))}};var QR=$o(pb(),1);Rt.add(E0,S0);var Lo=class t{intervalInstance;timeLimit;timeoutCallback=null;secondsRemaining=0;running=!1;countdown=new he;setTimeLimitInSecs(e){this.timeLimit=e}setOnTimeout(e){this.timeoutCallback=e}start(){this.countdown.next(this.display),this.running=!0,this.secondsRemaining=this.timeLimit,this.intervalInstance=setInterval(()=>{if(this.secondsRemaining<=0)if(this.timeoutCallback)this.timeoutCallback(),this.stop();else throw new Error("Timeout callback not set");this.secondsRemaining-=1,this.countdown.next(this.display)},1e3)}stop(){clearTimeout(this.intervalInstance),this.running=!1}reset(){this.stop(),this.start()}get display(){let e=this.running?Math.floor(this.secondsRemaining/60):0,n=this.running?this.secondsRemaining-e*60:0;return`${e}:${n.toString().padStart(2,"0")}`}countdownObservable(){return this.countdown}static \u0275fac=function(n){return new(n||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})};var Pl=class t{constructor(e){this.timerService=e}static \u0275fac=function(n){return new(n||t)(A(Lo))};static \u0275cmp=Ce({type:t,selectors:[["app-timer"]],decls:3,vars:3,consts:[[1,"timer"]],template:function(n,r){n&1&&(K(0,"div",0),Re(1),fc(2,"async"),ne()),n&2&&(xe(),uo(" ",pc(2,1,r.timerService.countdownObservable()),`
`))},dependencies:[Bt,yc],styles:['.timer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1rem;background-color:#f7f7f7;height:20vh;max-height:20vh;font-family:"Press Start 2P",system-ui;font-weight:400;font-size:3rem;font-style:normal;color:green}']})};var K0=$o(Q0());var KR=["gameCanvas"],Ol=class t{constructor(e,n,r,o){this.peerService=e;this.timerService=n;this.router=r;this.gameService=o}gameCanvas=l_("gameCanvas");app;grenades=[];grenadeTexture;explosionAnimationTexture;explosionSound;isHost=!1;FRICTION=.9;BOUNCE_DAMPING=.7;GRAVITY=.8;MIN_VELOCITY=.1;HISTORY_POINTS=3;FLICK_MULTIPLIER=.04;OFFSCREEN_MARGIN=100;configureAssets(){xt.add({alias:"background",src:`background${this.gameService.getRandomBackgroundIndex()}.jpeg`}),xt.add({alias:"explosion",src:"explosion.png"}),xt.add({alias:"grenade",src:"grenade.png"})}loadTextures(){return _(this,null,function*(){this.grenadeTexture=yield xt.load("grenade"),this.explosionAnimationTexture=yield xt.load("explosion")})}loadExplosionSound(e){this.explosionSound=new K0.Howl({src:[e]})}playExplosionSound(){this.explosionSound?.play()}getExplosionAnimationSpriteSheetData(){let e={frames:{},meta:{scale:"1"}},n=4096,r=4096,o=512,i=512,s=n/o,c=r/i,l=s*c;for(let d=0;d<l;d++){let a=Math.floor(d/s),u=d%s;e.frames[`frame_${d}`]={frame:{x:u*o,y:a*i,w:o,h:i},sourceSize:{w:o,h:i}}}return e}getExplosionAnimationSprite(){return _(this,null,function*(){let e=new ru(this.explosionAnimationTexture,this.getExplosionAnimationSpriteSheetData());return e.parse().then(()=>{let n=new ds(Object.values(e.textures));return n.animationSpeed=.5,n.loop=!1,n})})}playGrenadeExplosion(e){return _(this,null,function*(){this.app.stage.removeChild(e.sprite),e.explosionAnimation.anchor.set(.5),e.explosionAnimation.scale=3,e.explosionAnimation.x=e.sprite.x,e.explosionAnimation.y=e.sprite.y,e.explosionAnimation.play(),e.explosionAnimation.onComplete=()=>{this.app.stage.removeChild(e.explosionAnimation)},this.app.stage.addChild(e.explosionAnimation),this.playExplosionSound()})}ngOnInit(){return _(this,null,function*(){let e=this.gameCanvas();e&&(this.app=new wl,this.gameService.getIsRestart()?yield this.app.init({width:this.gameService.getCanvasWidth(),height:this.gameService.getCanvasHeight()}):(yield this.app.init({resizeTo:e.nativeElement}),this.gameService.setCanvasHeight(this.app.screen.height),this.gameService.setCanvasWidth(this.app.screen.width)),this.gameCanvas()?.nativeElement?.appendChild(this.app.canvas),this.configureAssets(),yield this.loadTextures(),this.loadExplosionSound("explosion.wav"),yield this.initBackground(),this.app.ticker.add(this.gameLoop.bind(this))),this.gameService.getMode()=="HOSTING"&&(this.isHost=!0,yield this.loadGrenades(),this.sendHostReady()),this.gameService.getMode()=="JOINING"&&(this.peerService.getOnConnectedToHost().subscribe(()=>{this.sendHello()}),this.gameService.getIsRestart()||this.peerService.init(Bc(),this.gameService.getHostPeerId(),!1)),this.timerService.setTimeLimitInSecs(30),this.timerService.setOnTimeout(()=>{this.grenades.forEach(n=>{this.playGrenadeExplosion(n)}),this.grenades.length==1?this.gameService.setScoreStatus(2):this.grenades.length==2?this.gameService.setScoreStatus(1):this.gameService.setScoreStatus(0),setTimeout(()=>{this.router.navigate(["score"])},3e3)}),this.peerService.getOnDataSubject().subscribe(this.handleOnPeerData.bind(this))})}handleOnPeerData(e){return _(this,null,function*(){if(this.isHost)switch(e.type){case"GUEST_READY":this.gameService.setOtherPlayerName(e.payload.name),this.gameService.getIsRestart()?this.timerService.reset():this.timerService.start(),this.sendStart();break}else switch(e.type){case"START":this.gameService.getIsRestart()?this.timerService.reset():this.timerService.start();break;case"HOST_READY":this.sendGuestReady(),this.gameService.setOtherPlayerName(e.payload.name);break}e.type=="GRENADE_INCOMING"&&(yield this.handleIncomingGrenadeMessage(e))})}handleOffscreenGrenade(e){if(!e.isOffscreen){e.isOffscreen=!0,e.lastPosition.x=e.sprite.x,e.lastPosition.y=e.sprite.y,this.sendGrenadeIncomingToPeer(e),this.app?.stage.removeChild(e.sprite);let n=this.grenades.indexOf(e);n>-1&&this.grenades.splice(n,1)}}sendGrenadeIncomingToPeer(e){let n={type:"GRENADE_INCOMING",payload:{peerScreenHeight:this.app?.screen.height,peerScreenWidth:this.app?.screen.width,lastPosition:e.lastPosition,velocity:e.velocity}};this.peerService.sendData(n)}sendHello(){let e={type:"HELLO",payload:{}};this.peerService.sendData(e)}sendStart(){let e={type:"START",payload:{}};this.peerService.sendData(e)}sendHostReady(){let e={type:"HOST_READY",payload:{name:this.gameService.getPlayerName()}};this.peerService.sendData(e)}sendGuestReady(){let e={type:"GUEST_READY",payload:{name:this.gameService.getPlayerName()}};this.peerService.sendData(e)}handleIncomingGrenadeMessage(e){return _(this,null,function*(){let n=new wn(this.grenadeTexture);n.anchor.set(.5),n.scale.set(.3),n.zIndex=3,n.x=this.app.screen.width*(e.payload.lastPosition.x/e.payload.peerScreenWidth),n.y=0,n.eventMode="static",n.cursor="pointer",this.app.stage.addChild(n),yield this.addGrenade(n)})}gameLoop(){this.grenades?.forEach(e=>{if(!e.isDragging){if(e.velocity.y+=this.GRAVITY,e.sprite.x+=e.velocity.x,e.sprite.y+=e.velocity.y,e.sprite.y<-this.OFFSCREEN_MARGIN){this.handleOffscreenGrenade(e);return}let n={left:e.sprite.width/2,right:this.app.screen.width-e.sprite.width/2,bottom:this.app.screen.height-e.sprite.height/2};e.sprite.x<=n.left?(e.sprite.x=n.left,e.velocity.x=Math.abs(e.velocity.x)*this.BOUNCE_DAMPING):e.sprite.x>=n.right&&(e.sprite.x=n.right,e.velocity.x=-Math.abs(e.velocity.x)*this.BOUNCE_DAMPING),e.sprite.y>=n.bottom&&(e.sprite.y=n.bottom,e.velocity.y=-Math.abs(e.velocity.y)*this.BOUNCE_DAMPING),e.velocity.x*=this.FRICTION,e.velocity.y*=this.FRICTION,Math.abs(e.velocity.x)<this.MIN_VELOCITY&&(e.velocity.x=0),Math.abs(e.velocity.y)<this.MIN_VELOCITY&&(e.velocity.y=0)}})}addGrenade(r){return _(this,arguments,function*(e,n={x:0,y:0}){let o={sprite:e,isDragging:!1,dragOffset:{x:0,y:0},lastPosition:{x:0,y:0},dragStartTime:0,velocity:n,positionHistory:[],isOffscreen:!1,explosionAnimation:yield this.getExplosionAnimationSprite()};this.grenades?.push(o);let i=(d,a)=>{a.isDragging=!0;let u=d.data.getLocalPosition(a.sprite.parent);a.dragOffset.x=a.sprite.x-u.x,a.dragOffset.y=a.sprite.y-u.y,a.positionHistory=[],a.velocity={x:0,y:0},a.positionHistory.push({x:u.x,y:u.y,time:Date.now()})},s=(d,a)=>{if(a.isDragging){let u=d.data.getLocalPosition(a.sprite.parent);a.sprite.x=u.x+a.dragOffset.x,a.sprite.y=u.y+a.dragOffset.y,a.positionHistory.push({x:u.x,y:u.y,time:Date.now()}),a.positionHistory.length>this.HISTORY_POINTS&&a.positionHistory.shift()}},c=(d,a)=>{if(a.isDragging){a.isDragging=!1;let u=d.data.getLocalPosition(a.sprite.parent);a.positionHistory.push({x:u.x,y:u.y,time:Date.now()}),a.velocity=this.calculateFlickVelocity(a.positionHistory)}},l=d=>{d.isDragging=!1};e.on("pointerdown",d=>i(d,o)),e.on("pointermove",d=>s(d,o)),e.on("pointerup",d=>c(d,o)),e.on("pointerupoutside",()=>l(o))})}calculateFlickVelocity(e){if(e.length<2)return{x:0,y:0};let n=e.slice(-this.HISTORY_POINTS),r=n[0],o=n[n.length-1],i=(o.time-r.time)/1e3;if(i===0)return{x:0,y:0};let s=(o.x-r.x)/i*this.FLICK_MULTIPLIER,c=(o.y-r.y)/i*this.FLICK_MULTIPLIER;return{x:s,y:c}}loadGrenades(){return _(this,null,function*(){let e=new wn(this.grenadeTexture);e.anchor.set(.5),e.scale.set(.3),e.zIndex=3,e.x=this.app.screen.width/2,e.y=this.app.screen.height/2,e.eventMode="static",e.cursor="pointer",this.app.stage.addChild(e),this.addGrenade(e),e=new wn(this.grenadeTexture),e.anchor.set(.5),e.scale.set(.3),e.zIndex=3,e.x=this.app.screen.width/2-(e.width+e.width/2),e.y=this.app.screen.height/3,e.eventMode="static",e.cursor="pointer",this.app.stage.addChild(e),yield this.addGrenade(e)})}initBackground(){return _(this,null,function*(){xt.load("background").then(e=>{let n=new wn(e);n.width=this.app.screen.width,n.height=this.app.screen.height,n.x=0,n.y=0,this.app.stage.addChild(n)})})}ngOnDestroy(){this.app.destroy(!0,{children:!0,texture:!0}),this.app=null}static \u0275fac=function(n){return new(n||t)(A(en),A(Lo),A(De),A(St))};static \u0275cmp=Ce({type:t,selectors:[["app-game"]],viewQuery:function(n,r){n&1&&p_(r.gameCanvas,KR,5),n&2&&h_()},decls:3,vars:0,consts:[["gameCanvas",""],[1,"game-canvas"]],template:function(n,r){n&1&&He(0,"div",1,0)(2,"app-timer")},dependencies:[Pl],styles:[".game-canvas[_ngcontent-%COMP%]{max-height:80vh;height:80vh;width:100%;display:block}"]})};var JD=$o(KD());var ql=class t{defaultOptions={errorCorrectionLevel:"M",margin:4,width:200,color:{dark:"#000000",light:"#ffffff"}};generateQrCode(e,n){let r=C(C({},this.defaultOptions),n);return me(JD.default.toDataURL(e,r)).pipe($t(o=>{throw new Error(`Failed to generate QR code: ${o.message}`)}))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"})};var Yl=class t{constructor(e,n,r,o){this.router=e;this.qrCodeService=n;this.gameService=r;this.peerService=o}qrCodeBase64$;joiningId;ngOnInit(){return _(this,null,function*(){if(this.gameService.getMode()==="HOSTING"){let e=this.gameService.getHostPeerId();this.joiningId=e,this.peerService.init(e);let n=this.gameService.getRandomBackgroundIndex(),r=`${Ut.appBaseUrl}/grenadepong/#name?host-peer-id=${e}&background-index=${n}`;this.qrCodeBase64$=this.qrCodeService.generateQrCode(r),console.log(r),this.peerService.getOnDataSubject().subscribe(o=>{o.type=="HELLO"&&this.router.navigate(["/game"])})}})}onEndGame(){return _(this,null,function*(){yield this.router.navigate(["start"])})}get joinId(){return this.joiningId?.replace("GP-","")+this.gameService.getRandomBackgroundIndex().toString()}environment=Ut;static \u0275fac=function(n){return new(n||t)(A(De),A(ql),A(St),A(en))};static \u0275cmp=Ce({type:t,selectors:[["app-wait"]],decls:12,vars:5,consts:[[1,"container"],[1,"logo-container"],["alt","Logo",1,"logo",3,"src"],[1,"qr-code"],[3,"src"],[1,"text","help-text"],["color","danger",3,"click"]],template:function(n,r){if(n&1&&(K(0,"div",0)(1,"div",1),He(2,"img",2),ne(),K(3,"div",3),He(4,"img",4),fc(5,"async"),ne(),K(6,"p",5),Re(7,"Get the other player to scan the QR to join your game or by entering "),K(8,"strong"),Re(9),ne()(),K(10,"app-button",6),Pe("click",function(){return r.onEndGame()}),Re(11,"END GAME"),ne()()),n&2){let o;xe(2),nt("src",r.environment.production?"/grenadepong/logo.png":"logo.png",dn),xe(2),nt("src",(o=pc(5,3,r.qrCodeBase64$))!==null&&o!==void 0?o:"",dn),xe(5),Tf(r.joinId)}},dependencies:[Et,Bt,yc],styles:[".container[_ngcontent-%COMP%]{padding:3rem;display:grid;place-items:center}.logo-container[_ngcontent-%COMP%]{display:grid;place-items:center}.logo[_ngcontent-%COMP%]{margin:0 auto;width:25rem}.help-text[_ngcontent-%COMP%]{margin:.5rem;font-size:1.8rem;font-family:Roboto,sans-serif;font-weight:500;text-align:center}.qr-code[_ngcontent-%COMP%]{display:grid;place-items:center;padding:3rem;border:.3rem dotted #777;border-radius:3rem}"]})};var lm={};(function t(e,n,r,o){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",c=function(){if(!e.OffscreenCanvas)return!1;var v=new OffscreenCanvas(1,1),g=v.getContext("2d");g.fillRect(0,0,1,1);var T=v.transferToImageBitmap();try{g.createPattern(T,"no-repeat")}catch{return!1}return!0}();function l(){}function d(v){var g=n.exports.Promise,T=g!==void 0?g:e.Promise;return typeof T=="function"?new T(v):(v(l,l),null)}var a=function(v,g){return{transform:function(T){if(v)return T;if(g.has(T))return g.get(T);var V=new OffscreenCanvas(T.width,T.height),H=V.getContext("2d");return H.drawImage(T,0,0),g.set(T,V),V},clear:function(){g.clear()}}}(c,new Map),u=function(){var v=Math.floor(16.666666666666668),g,T,V={},H=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(g=function(z){var Y=Math.random();return V[Y]=requestAnimationFrame(function k(Z){H===Z||H+v-1<Z?(H=Z,delete V[Y],z()):V[Y]=requestAnimationFrame(k)}),Y},T=function(z){V[z]&&cancelAnimationFrame(V[z])}):(g=function(z){return setTimeout(z,v)},T=function(z){return clearTimeout(z)}),{frame:g,cancel:T}}(),f=function(){var v,g,T={};function V(H){function z(Y,k){H.postMessage({options:Y||{},callback:k})}H.init=function(k){var Z=k.transferControlToOffscreen();H.postMessage({canvas:Z},[Z])},H.fire=function(k,Z,ue){if(g)return z(k,null),g;var ge=Math.random().toString(36).slice(2);return g=d(function(pe){function ye(Fe){Fe.data.callback===ge&&(delete T[ge],H.removeEventListener("message",ye),g=null,a.clear(),ue(),pe())}H.addEventListener("message",ye),z(k,ge),T[ge]=ye.bind(null,{data:{callback:ge}})}),g},H.reset=function(){H.postMessage({reset:!0});for(var k in T)T[k](),delete T[k]}}return function(){if(v)return v;if(!r&&i){var H=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{v=new Worker(URL.createObjectURL(new Blob([H])))}catch(z){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",z),null}V(v)}return v}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function h(v,g){return g?g(v):v}function y(v){return v!=null}function m(v,g,T){return h(v&&y(v[g])?v[g]:p[g],T)}function b(v){return v<0?0:Math.floor(v)}function x(v,g){return Math.floor(Math.random()*(g-v))+v}function L(v){return parseInt(v,16)}function ce(v){return v.map(fe)}function fe(v){var g=String(v).replace(/[^0-9a-f]/gi,"");return g.length<6&&(g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2]),{r:L(g.substring(0,2)),g:L(g.substring(2,4)),b:L(g.substring(4,6))}}function re(v){var g=m(v,"origin",Object);return g.x=m(g,"x",Number),g.y=m(g,"y",Number),g}function Me(v){v.width=document.documentElement.clientWidth,v.height=document.documentElement.clientHeight}function J(v){var g=v.getBoundingClientRect();v.width=g.width,v.height=g.height}function Tr(v){var g=document.createElement("canvas");return g.style.position="fixed",g.style.top="0px",g.style.left="0px",g.style.pointerEvents="none",g.style.zIndex=v,g}function Cs(v,g,T,V,H,z,Y,k,Z){v.save(),v.translate(g,T),v.rotate(z),v.scale(V,H),v.arc(0,0,1,Y,k,Z),v.restore()}function Jl(v){var g=v.angle*(Math.PI/180),T=v.spread*(Math.PI/180);return{x:v.x,y:v.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:v.startVelocity*.5+Math.random()*v.startVelocity,angle2D:-g+(.5*T-Math.random()*T),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:v.color,shape:v.shape,tick:0,totalTicks:v.ticks,decay:v.decay,drift:v.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:v.gravity*3,ovalScalar:.6,scalar:v.scalar,flat:v.flat}}function Ds(v,g){g.x+=Math.cos(g.angle2D)*g.velocity+g.drift,g.y+=Math.sin(g.angle2D)*g.velocity+g.gravity,g.velocity*=g.decay,g.flat?(g.wobble=0,g.wobbleX=g.x+10*g.scalar,g.wobbleY=g.y+10*g.scalar,g.tiltSin=0,g.tiltCos=0,g.random=1):(g.wobble+=g.wobbleSpeed,g.wobbleX=g.x+10*g.scalar*Math.cos(g.wobble),g.wobbleY=g.y+10*g.scalar*Math.sin(g.wobble),g.tiltAngle+=.1,g.tiltSin=Math.sin(g.tiltAngle),g.tiltCos=Math.cos(g.tiltAngle),g.random=Math.random()+2);var T=g.tick++/g.totalTicks,V=g.x+g.random*g.tiltCos,H=g.y+g.random*g.tiltSin,z=g.wobbleX+g.random*g.tiltCos,Y=g.wobbleY+g.random*g.tiltSin;if(v.fillStyle="rgba("+g.color.r+", "+g.color.g+", "+g.color.b+", "+(1-T)+")",v.beginPath(),s&&g.shape.type==="path"&&typeof g.shape.path=="string"&&Array.isArray(g.shape.matrix))v.fill(nb(g.shape.path,g.shape.matrix,g.x,g.y,Math.abs(z-V)*.1,Math.abs(Y-H)*.1,Math.PI/10*g.wobble));else if(g.shape.type==="bitmap"){var k=Math.PI/10*g.wobble,Z=Math.abs(z-V)*.1,ue=Math.abs(Y-H)*.1,ge=g.shape.bitmap.width*g.scalar,pe=g.shape.bitmap.height*g.scalar,ye=new DOMMatrix([Math.cos(k)*Z,Math.sin(k)*Z,-Math.sin(k)*ue,Math.cos(k)*ue,g.x,g.y]);ye.multiplySelf(new DOMMatrix(g.shape.matrix));var Fe=v.createPattern(a.transform(g.shape.bitmap),"no-repeat");Fe.setTransform(ye),v.globalAlpha=1-T,v.fillStyle=Fe,v.fillRect(g.x-ge/2,g.y-pe/2,ge,pe),v.globalAlpha=1}else if(g.shape==="circle")v.ellipse?v.ellipse(g.x,g.y,Math.abs(z-V)*g.ovalScalar,Math.abs(Y-H)*g.ovalScalar,Math.PI/10*g.wobble,0,2*Math.PI):Cs(v,g.x,g.y,Math.abs(z-V)*g.ovalScalar,Math.abs(Y-H)*g.ovalScalar,Math.PI/10*g.wobble,0,2*Math.PI);else if(g.shape==="star")for(var ee=Math.PI/2*3,Ze=4*g.scalar,Mt=8*g.scalar,At=g.x,tn=g.y,Qn=5,Ht=Math.PI/Qn;Qn--;)At=g.x+Math.cos(ee)*Mt,tn=g.y+Math.sin(ee)*Mt,v.lineTo(At,tn),ee+=Ht,At=g.x+Math.cos(ee)*Ze,tn=g.y+Math.sin(ee)*Ze,v.lineTo(At,tn),ee+=Ht;else v.moveTo(Math.floor(g.x),Math.floor(g.y)),v.lineTo(Math.floor(g.wobbleX),Math.floor(H)),v.lineTo(Math.floor(z),Math.floor(Y)),v.lineTo(Math.floor(V),Math.floor(g.wobbleY));return v.closePath(),v.fill(),g.tick<g.totalTicks}function En(v,g,T,V,H){var z=g.slice(),Y=v.getContext("2d"),k,Z,ue=d(function(ge){function pe(){k=Z=null,Y.clearRect(0,0,V.width,V.height),a.clear(),H(),ge()}function ye(){r&&!(V.width===o.width&&V.height===o.height)&&(V.width=v.width=o.width,V.height=v.height=o.height),!V.width&&!V.height&&(T(v),V.width=v.width,V.height=v.height),Y.clearRect(0,0,V.width,V.height),z=z.filter(function(Fe){return Ds(Y,Fe)}),z.length?k=u.frame(ye):pe()}k=u.frame(ye),Z=pe});return{addFettis:function(ge){return z=z.concat(ge),ue},canvas:v,promise:ue,reset:function(){k&&u.cancel(k),Z&&Z()}}}function bs(v,g){var T=!v,V=!!m(g||{},"resize"),H=!1,z=m(g,"disableForReducedMotion",Boolean),Y=i&&!!m(g||{},"useWorker"),k=Y?f():null,Z=T?Me:J,ue=v&&k?!!v.__confetti_initialized:!1,ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,pe;function ye(ee,Ze,Mt){for(var At=m(ee,"particleCount",b),tn=m(ee,"angle",Number),Qn=m(ee,"spread",Number),Ht=m(ee,"startVelocity",Number),ib=m(ee,"decay",Number),sb=m(ee,"gravity",Number),ab=m(ee,"drift",Number),dm=m(ee,"colors",ce),cb=m(ee,"ticks",Number),fm=m(ee,"shapes"),lb=m(ee,"scalar"),ub=!!m(ee,"flat"),pm=re(ee),hm=At,eu=[],db=v.width*pm.x,fb=v.height*pm.y;hm--;)eu.push(Jl({x:db,y:fb,angle:tn,spread:Qn,startVelocity:Ht,color:dm[hm%dm.length],shape:fm[x(0,fm.length)],ticks:cb,decay:ib,gravity:sb,drift:ab,scalar:lb,flat:ub}));return pe?pe.addFettis(eu):(pe=En(v,eu,Z,Ze,Mt),pe.promise)}function Fe(ee){var Ze=z||m(ee,"disableForReducedMotion",Boolean),Mt=m(ee,"zIndex",Number);if(Ze&&ge)return d(function(Ht){Ht()});T&&pe?v=pe.canvas:T&&!v&&(v=Tr(Mt),document.body.appendChild(v)),V&&!ue&&Z(v);var At={width:v.width,height:v.height};k&&!ue&&k.init(v),ue=!0,k&&(v.__confetti_initialized=!0);function tn(){if(k){var Ht={getBoundingClientRect:function(){if(!T)return v.getBoundingClientRect()}};Z(Ht),k.postMessage({resize:{width:Ht.width,height:Ht.height}});return}At.width=At.height=null}function Qn(){pe=null,V&&(H=!1,e.removeEventListener("resize",tn)),T&&v&&(document.body.contains(v)&&document.body.removeChild(v),v=null,ue=!1)}return V&&!H&&(H=!0,e.addEventListener("resize",tn,!1)),k?k.fire(ee,At,Qn):ye(ee,At,Qn)}return Fe.reset=function(){k&&k.reset(),pe&&pe.reset()},Fe}var Xl;function um(){return Xl||(Xl=bs(null,{useWorker:!0,resize:!0})),Xl}function nb(v,g,T,V,H,z,Y){var k=new Path2D(v),Z=new Path2D;Z.addPath(k,new DOMMatrix(g));var ue=new Path2D;return ue.addPath(Z,new DOMMatrix([Math.cos(Y)*H,Math.sin(Y)*H,-Math.sin(Y)*z,Math.cos(Y)*z,T,V])),ue}function rb(v){if(!s)throw new Error("path confetti are not supported in this browser");var g,T;typeof v=="string"?g=v:(g=v.path,T=v.matrix);var V=new Path2D(g),H=document.createElement("canvas"),z=H.getContext("2d");if(!T){for(var Y=1e3,k=Y,Z=Y,ue=0,ge=0,pe,ye,Fe=0;Fe<Y;Fe+=2)for(var ee=0;ee<Y;ee+=2)z.isPointInPath(V,Fe,ee,"nonzero")&&(k=Math.min(k,Fe),Z=Math.min(Z,ee),ue=Math.max(ue,Fe),ge=Math.max(ge,ee));pe=ue-k,ye=ge-Z;var Ze=10,Mt=Math.min(Ze/pe,Ze/ye);T=[Mt,0,0,Mt,-Math.round(pe/2+k)*Mt,-Math.round(ye/2+Z)*Mt]}return{type:"path",path:g,matrix:T}}function ob(v){var g,T=1,V="#000000",H='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof v=="string"?g=v:(g=v.text,T="scalar"in v?v.scalar:T,H="fontFamily"in v?v.fontFamily:H,V="color"in v?v.color:V);var z=10*T,Y=""+z+"px "+H,k=new OffscreenCanvas(z,z),Z=k.getContext("2d");Z.font=Y;var ue=Z.measureText(g),ge=Math.ceil(ue.actualBoundingBoxRight+ue.actualBoundingBoxLeft),pe=Math.ceil(ue.actualBoundingBoxAscent+ue.actualBoundingBoxDescent),ye=2,Fe=ue.actualBoundingBoxLeft+ye,ee=ue.actualBoundingBoxAscent+ye;ge+=ye+ye,pe+=ye+ye,k=new OffscreenCanvas(ge,pe),Z=k.getContext("2d"),Z.font=Y,Z.fillStyle=V,Z.fillText(g,Fe,ee);var Ze=1/T;return{type:"bitmap",bitmap:k.transferToImageBitmap(),matrix:[Ze,0,0,Ze,-ge*Ze/2,-pe*Ze/2]}}n.exports=function(){return um().apply(this,arguments)},n.exports.reset=function(){um().reset()},n.exports.create=bs,n.exports.shapeFromPath=rb,n.exports.shapeFromText=ob})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),lm,!1);var XD=lm.exports,SG=lm.exports.create;function WN(t,e){t&1&&(K(0,"h3"),Re(1,"You Win"),ne())}function qN(t,e){if(t&1&&(K(0,"h3"),Re(1),ne()),t&2){let n=xf();xe(),uo("",n.otherPlayerName," won!")}}function YN(t,e){t&1&&(K(0,"h3"),Re(1,"It's a draw!"),ne())}function ZN(t,e){if(t&1){let n=lo();K(0,"app-button",3),Pe("click",function(){Ln(n);let o=xf();return Vn(o.onPlayAgain())}),Re(1,"Play again!"),ne()}}var Zl=class t{constructor(e,n,r){this.gameService=e;this.router=n;this.peerService=r}get scoreStatus(){return this.gameService.getScoreStatus()}get otherPlayerName(){return this.gameService.getOtherPlayerName()}get isHost(){return this.gameService.getMode()=="HOSTING"}ngAfterViewInit(){this.scoreStatus==0&&XD({particleCount:100,spread:70,origin:{y:.6}}),this.isHost||this.peerService.getOnDataSubject().subscribe(e=>_(this,null,function*(){e.type==="RESTART"&&(this.gameService.setIsRestart(!0),yield this.router.navigate(["game"],{queryParams:{reload:Date.now()}}))}))}onPlayAgain(){return _(this,null,function*(){yield this.gameService.restartGame()})}ScoreStatus=jc;static \u0275fac=function(n){return new(n||t)(A(St),A(De),A(en))};static \u0275cmp=Ce({type:t,selectors:[["app-score"]],decls:7,vars:2,consts:[[1,"container"],[1,"score"],["color","primary"],["color","primary",3,"click"]],template:function(n,r){if(n&1&&(K(0,"div",0)(1,"app-card")(2,"div",1),wf(3,WN,2,0,"h3")(4,qN,2,1,"h3")(5,YN,2,0,"h3")(6,ZN,2,0,"app-button",2),ne()()()),n&2){let o;xe(3),If((o=r.scoreStatus)===r.ScoreStatus.WIN?3:o===r.ScoreStatus.LOSE?4:o===r.ScoreStatus.DRAW?5:-1),xe(3),If(r.isHost?6:-1)}},dependencies:[Et,Jt],styles:['.score[_ngcontent-%COMP%]{text-align:center;font-family:"Press Start 2P",system-ui;font-weight:400;font-size:3rem;font-style:normal}.score[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:inherit;margin-bottom:1.5rem}.container[_ngcontent-%COMP%]{padding:3rem}']})};var Ql=class t{constructor(e){this.router=e}joinId=Qt("");onSubmit(){return _(this,null,function*(){let e=this.joinId().substring(this.joinId().length-1,this.joinId().length),n=this.joinId().substring(0,this.joinId().length-1);yield this.router.navigate(["/name"],{queryParams:{"host-peer-id":`GP-${n}`,"background-index":e}})})}environment=Ut;static \u0275fac=function(n){return new(n||t)(A(De))};static \u0275cmp=Ce({type:t,selectors:[["app-join"]],decls:11,vars:3,consts:[["joinForm","ngForm"],[1,"container"],[1,"logo-container"],["alt","Logo",1,"logo",3,"src"],[1,"help-text"],[3,"ngSubmit"],["name","name","required","","placeholder","1234567",1,"number",3,"ngModelChange","ngModel"],["color","primary",3,"disabled"]],template:function(n,r){if(n&1){let o=lo();K(0,"div",1)(1,"div",2),He(2,"img",3),ne(),K(3,"app-card")(4,"p",4),Re(5,"Join with the code provided by the host"),ne(),K(6,"form",5,0),Pe("ngSubmit",function(){return Ln(o),Vn(r.onSubmit())}),K(8,"input",6),mi("ngModelChange",function(s){return Ln(o),dc(r.joinId,s)||(r.joinId=s),Vn(s)}),ne(),K(9,"app-button",7),Re(10,"Join"),ne()()()()}if(n&2){let o=uc(7);xe(2),nt("src",r.environment.production?"/grenadepong/logo.png":"logo.png",dn),xe(6),hi("ngModel",r.joinId),xe(),nt("disabled",!o.valid)}},dependencies:[Jt,Et,Dl,Cl,Ro,yl,vl,ls,cs,as,Bt],styles:["input[_ngcontent-%COMP%]{font-size:1.6rem;padding:1.5rem 2rem;width:100%;border-radius:2rem;border:1px solid #999;transition:all .3s;margin-bottom:.5rem;font-family:Roboto,sans-serif}input[_ngcontent-%COMP%]::placeholder{color:#999}input[_ngcontent-%COMP%]:focus:valid{border-bottom:3px solid #55c57a}input[_ngcontent-%COMP%]:focus:invalid{border-bottom:3px solid #ff7730}input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 1rem 2rem #0000001a;border-bottom:3px solid #55c57a}.container[_ngcontent-%COMP%]{padding:3rem}.logo-container[_ngcontent-%COMP%]{display:grid;place-items:center}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}.logo[_ngcontent-%COMP%]{margin:0 auto;width:25rem}.help-text[_ngcontent-%COMP%]{margin:.5rem;font-size:1.8rem;font-family:Roboto,sans-serif;font-weight:500;text-align:center}"]})};var eb=[{path:"",redirectTo:"/start",pathMatch:"full"},{path:"start",component:cl},{path:"name",component:bl},{path:"game",component:Ol},{path:"wait",component:Yl},{path:"score",component:Zl},{path:"join",component:Ql}];var tb={providers:[__({eventCoalescing:!0}),PC(eb,VC())]};var Kl=class t{title="grenadepong";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ce({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&He(0,"router-outlet")},dependencies:[Tp],encapsulation:2})};H_(Kl,tb).catch(t=>console.error(t));
